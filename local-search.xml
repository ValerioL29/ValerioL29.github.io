<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>LeetCode Notes - 187</title>
    <link href="/2021/09/06/LeetCode-Notes-187/"/>
    <url>/2021/09/06/LeetCode-Notes-187/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-187"><a href="#Leetcode-Notes-187" class="headerlink" title="Leetcode Notes - 187"></a>Leetcode Notes - 187</h1><p>é¢˜ç›®ï¼š<strong>187. é‡å¤çš„ DNA åºåˆ—</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å“ˆå¸Œè¡¨</li><li>åŒæŒ‡é’ˆ</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-å“ˆå¸Œè¡¨"><a href="#1-å“ˆå¸Œè¡¨" class="headerlink" title="1. å“ˆå¸Œè¡¨"></a>1. å“ˆå¸Œè¡¨</h3><p>å·²å‡ºç°çš„å­—ä¸²ä½œä¸ºé”®ğŸ“•</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210906161750320.png" alt="å“ˆå¸Œè¡¨"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title">findRepeatedDnaSequences</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(s.length() &lt;= <span class="hljs-number">10</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;();<br><br>        Map&lt;String, Integer&gt; mp = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        <span class="hljs-keyword">int</span> len = s.length();<br>        List&lt;String&gt; res = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i + <span class="hljs-number">9</span> &lt; len; i++)&#123;<br>            String str = s.substring(i, i + <span class="hljs-number">10</span>);<br>            <span class="hljs-keyword">int</span> cur = mp.getOrDefault(str, <span class="hljs-number">0</span>);<br><br>            <span class="hljs-keyword">if</span>(cur == <span class="hljs-number">0</span>)&#123;<br>                mp.put(str, <span class="hljs-number">1</span>);<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(cur == <span class="hljs-number">1</span>)&#123;<br>                mp.put(str, cur + <span class="hljs-number">1</span>);<br>                res.add(str);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="ä½æ“ä½œ"><a href="#ä½æ“ä½œ" class="headerlink" title="ä½æ“ä½œ"></a>ä½æ“ä½œ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>æ©ç å®ç°æ»‘åŠ¨çª—å£åˆ‡ç‰‡ã€‚</p><p>éå†åºåˆ—çš„èµ·å§‹ä½ç½®ï¼šä» 1 åˆ° N - Lã€‚</p><ul><li>å¦‚æœ start == 0ï¼Œè®¡ç®—ç¬¬ä¸€ä¸ªåºåˆ— s [0 : L] çš„æ©ç ã€‚</li><li>å¦åˆ™ï¼Œä»å‰ä¸€ä¸ªæ©ç è®¡ç®—å½“å‰æ©ç ã€‚</li><li>å¦‚æœæ©ç åœ¨ hashset ä¸­ï¼Œè¯´æ˜æ˜¯é‡å¤åºåˆ—ï¼Œæ›´æ–°è¾“å‡ºã€‚</li><li>å¦åˆ™ï¼Œå°†è¯¥æ©ç æ·»åŠ åˆ° hashsetã€‚</li></ul><p>è¿”å›è¾“å‡ºåˆ—è¡¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>  <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;String&gt; <span class="hljs-title">findRepeatedDnaSequences</span><span class="hljs-params">(String s)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> L = <span class="hljs-number">10</span>, n = s.length();<br>    <span class="hljs-keyword">if</span> (n &lt;= L) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ArrayList();<br><br>    <span class="hljs-comment">// rolling hash parameters: base a</span><br>    <span class="hljs-keyword">int</span> a = <span class="hljs-number">4</span>, aL = (<span class="hljs-keyword">int</span>)Math.pow(a, L);<br><br>    <span class="hljs-comment">// convert string to array of integers</span><br>    Map&lt;Character, Integer&gt; toInt = <span class="hljs-keyword">new</span> HashMap() &#123;&#123;put(<span class="hljs-string">&#x27;A&#x27;</span>, <span class="hljs-number">0</span>); put(<span class="hljs-string">&#x27;C&#x27;</span>, <span class="hljs-number">1</span>); put(<span class="hljs-string">&#x27;G&#x27;</span>, <span class="hljs-number">2</span>); put(<span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-number">3</span>); &#125;&#125;;<br>    <span class="hljs-keyword">int</span>[] nums = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) nums[i] = toInt.get(s.charAt(i));<br><br>    <span class="hljs-keyword">int</span> bitmask = <span class="hljs-number">0</span>;<br>    Set&lt;Integer&gt; seen = <span class="hljs-keyword">new</span> HashSet();<br>    Set&lt;String&gt; output = <span class="hljs-keyword">new</span> HashSet();<br>    <span class="hljs-comment">// iterate over all sequences of length L</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> start = <span class="hljs-number">0</span>; start &lt; n - L + <span class="hljs-number">1</span>; ++start) &#123;<br>      <span class="hljs-comment">// compute bitmask of the current sequence in O(1) time</span><br>      <span class="hljs-keyword">if</span> (start != <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-comment">// left shift to free the last 2 bit</span><br>        bitmask &lt;&lt;= <span class="hljs-number">2</span>;<br>        <span class="hljs-comment">// add a new 2-bits number in the last two bits</span><br>        bitmask |= nums[start + L - <span class="hljs-number">1</span>];<br>        <span class="hljs-comment">// unset first two bits: 2L-bit and (2L + 1)-bit</span><br>        bitmask &amp;= ~(<span class="hljs-number">3</span> &lt;&lt; <span class="hljs-number">2</span> * L);<br>      &#125;<br>      <span class="hljs-comment">// compute hash of the first sequence in O(L) time</span><br>      <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; L; ++i) &#123;<br>          bitmask &lt;&lt;= <span class="hljs-number">2</span>;<br>          bitmask |= nums[i];<br>        &#125;<br>      &#125;<br>      <span class="hljs-comment">// update output and hashset of seen sequences</span><br>      <span class="hljs-keyword">if</span> (seen.contains(bitmask)) output.add(s.substring(start, start + L));<br>      seen.add(bitmask);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;(output);<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 5</title>
    <link href="/2021/09/06/LeetCode-Notes-5/"/>
    <url>/2021/09/06/LeetCode-Notes-5/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-5"><a href="#Leetcode-Notes-5" class="headerlink" title="Leetcode Notes - 5"></a>Leetcode Notes - 5</h1><p>é¢˜ç›®ï¼š<strong>5. æœ€é•¿å›æ–‡å­ä¸²</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>ä¸­å¿ƒæ‰©å±•</li><li>åŠ¨æ€è§„åˆ’</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="ä¸­å¿ƒæ‰©å±•"><a href="#ä¸­å¿ƒæ‰©å±•" class="headerlink" title="ä¸­å¿ƒæ‰©å±•"></a>ä¸­å¿ƒæ‰©å±•</h3><p>éå¸¸éå¸¸æ…¢ğŸ˜‚</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210906161400690.png" alt="é¢„å¤„ç†åä¸­å¿ƒæ‰©å±•"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">longestPalindrome</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(s.length() == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> s;<br><br>        <span class="hljs-comment">// Transform</span><br>        StringBuilder sb = <span class="hljs-keyword">new</span> StringBuilder();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> ch : s.toCharArray())&#123;<br>            sb.append(<span class="hljs-string">&#x27;#&#x27;</span>);<br>            sb.append(ch);<br>        &#125;<br>        sb.append(<span class="hljs-string">&#x27;#&#x27;</span>);<br>        String tfStr = sb.toString();<br><br>        <span class="hljs-keyword">int</span> maxLen = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> begin = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; tfStr.length(); i++)&#123;<br>            <span class="hljs-keyword">int</span> curLen = expand(i, tfStr);<br><br>            <span class="hljs-keyword">if</span>(curLen &gt; maxLen)&#123;<br>                begin = i;<br>                maxLen = curLen;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(maxLen == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> s.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);<br><br>        StringBuilder ans = <span class="hljs-keyword">new</span> StringBuilder();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> ele : (tfStr.substring(begin - (maxLen - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>, begin + (maxLen - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>)).toCharArray())&#123;<br>            <span class="hljs-keyword">if</span>(ele != <span class="hljs-string">&#x27;#&#x27;</span>)&#123;<br>                ans.append(ele);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> ans.toString();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> <span class="hljs-title">expand</span><span class="hljs-params">(<span class="hljs-keyword">int</span> curIndex, String str)</span></span>&#123;<br>        <span class="hljs-keyword">int</span> left = curIndex;<br>        <span class="hljs-keyword">int</span> right = curIndex;<br>        <span class="hljs-keyword">char</span>[] chArr = str.toCharArray();<br><br>        <span class="hljs-keyword">while</span>(chArr[left] == chArr[right])&#123;<br>            left--;<br>            right++;<br><br>            <span class="hljs-keyword">if</span>(left == -<span class="hljs-number">1</span> || right == chArr.length) <span class="hljs-keyword">break</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> right - left - <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="ä¸­å¿ƒæ‰©å±•-1"><a href="#ä¸­å¿ƒæ‰©å±•-1" class="headerlink" title="ä¸­å¿ƒæ‰©å±•"></a>ä¸­å¿ƒæ‰©å±•</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>å¯ä»¥å‘ç°ï¼Œæ‰€æœ‰çš„çŠ¶æ€åœ¨è½¬ç§»çš„æ—¶å€™çš„å¯èƒ½æ€§éƒ½æ˜¯å”¯ä¸€çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ¯ä¸€ç§è¾¹ç•Œæƒ…å†µå¼€å§‹ã€Œæ‰©å±•ã€ï¼Œä¹Ÿå¯ä»¥å¾—å‡ºæ‰€æœ‰çš„çŠ¶æ€å¯¹åº”çš„ç­”æ¡ˆã€‚</p><p>è¾¹ç•Œæƒ…å†µå³ä¸ºå­ä¸²é•¿åº¦ä¸º 1 æˆ– 2 çš„æƒ…å†µã€‚æˆ‘ä»¬æšä¸¾æ¯ä¸€ç§è¾¹ç•Œæƒ…å†µï¼Œå¹¶ä»å¯¹åº”çš„å­ä¸²å¼€å§‹ä¸æ–­åœ°å‘ä¸¤è¾¹æ‰©å±•ã€‚</p><ul><li>å¦‚æœä¸¤è¾¹çš„å­—æ¯ç›¸åŒï¼Œæˆ‘ä»¬å°±å¯ä»¥ç»§ç»­æ‰©å±•ï¼Œä¾‹å¦‚ä» <code>P(i+1,jâˆ’1)</code> æ‰©å±•åˆ° <code>P(i,j)</code></li><li>å¦‚æœä¸¤è¾¹çš„å­—æ¯ä¸åŒï¼Œæˆ‘ä»¬å°±å¯ä»¥åœæ­¢æ‰©å±•ï¼Œå› ä¸ºåœ¨è¿™ä¹‹åçš„å­ä¸²éƒ½ä¸èƒ½æ˜¯å›æ–‡ä¸²äº†ã€‚</li></ul><p>èªæ˜çš„è¯»è€…æ­¤æ—¶åº”è¯¥å¯ä»¥å‘ç°ï¼Œã€Œè¾¹ç•Œæƒ…å†µã€å¯¹åº”çš„å­ä¸²å®é™…ä¸Šå°±æ˜¯æˆ‘ä»¬ã€Œæ‰©å±•ã€å‡ºçš„å›æ–‡ä¸²çš„ã€Œå›æ–‡ä¸­å¿ƒã€ã€‚æ–¹æ³•äºŒçš„æœ¬è´¨å³ä¸ºï¼šæˆ‘ä»¬æšä¸¾æ‰€æœ‰çš„ã€Œå›æ–‡ä¸­å¿ƒã€å¹¶å°è¯•ã€Œæ‰©å±•ã€ï¼Œç›´åˆ°æ— æ³•æ‰©å±•ä¸ºæ­¢ï¼Œæ­¤æ—¶çš„å›æ–‡ä¸²é•¿åº¦å³ä¸ºæ­¤ã€Œå›æ–‡ä¸­å¿ƒã€ä¸‹çš„æœ€é•¿å›æ–‡ä¸²é•¿åº¦ã€‚æˆ‘ä»¬å¯¹æ‰€æœ‰çš„é•¿åº¦æ±‚å‡ºæœ€å¤§å€¼ï¼Œå³å¯å¾—åˆ°æœ€ç»ˆçš„ç­”æ¡ˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">longestPalindrome</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (s == <span class="hljs-keyword">null</span> || s.length() &lt; <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;&quot;</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> start = <span class="hljs-number">0</span>, end = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.length(); i++) &#123;<br>            <span class="hljs-keyword">int</span> len1 = expandAroundCenter(s, i, i);<br>            <span class="hljs-keyword">int</span> len2 = expandAroundCenter(s, i, i + <span class="hljs-number">1</span>);<br>            <span class="hljs-keyword">int</span> len = Math.max(len1, len2);<br>            <span class="hljs-keyword">if</span> (len &gt; end - start) &#123;<br>                start = i - (len - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>;<br>                end = i + len / <span class="hljs-number">2</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> s.substring(start, end + <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">expandAroundCenter</span><span class="hljs-params">(String s, <span class="hljs-keyword">int</span> left, <span class="hljs-keyword">int</span> right)</span> </span>&#123;<br>        <span class="hljs-keyword">while</span> (left &gt;= <span class="hljs-number">0</span> &amp;&amp; right &lt; s.length() &amp;&amp; s.charAt(left) == s.charAt(right)) &#123;<br>            --left;<br>            ++right;<br>        &#125;<br>        <span class="hljs-keyword">return</span> right - left - <span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 49</title>
    <link href="/2021/09/05/LeetCode-Notes-49/"/>
    <url>/2021/09/05/LeetCode-Notes-49/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-49"><a href="#Leetcode-Notes-49" class="headerlink" title="Leetcode Notes - 49"></a>Leetcode Notes - 49</h1><p>é¢˜ç›®ï¼š<strong>49. å­—æ¯å¼‚ä½è¯</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å“ˆå¸Œè¡¨</li><li>å°†è®¡æ•°èå…¥é”®</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-å“ˆå¸Œè¡¨è®¡æ•°"><a href="#1-å“ˆå¸Œè¡¨è®¡æ•°" class="headerlink" title="1. å“ˆå¸Œè¡¨è®¡æ•°"></a>1. å“ˆå¸Œè¡¨è®¡æ•°</h3><p>é¡ºåºä¸å¯¹ï¼Œä¸ç»™è¿‡ğŸ˜­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) &#123;<br>        Map&lt;String, List&lt;String&gt;&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, List&lt;String&gt;&gt;();<br>        Map&lt;Character, Integer&gt; mp = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br><br>        <span class="hljs-keyword">for</span> (String str : strs) &#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> ch : str.toCharArray())&#123;<br>                <span class="hljs-keyword">int</span> cur = mp.getOrDefault(ch, <span class="hljs-number">0</span>);<br>                mp.put(ch, cur + <span class="hljs-number">1</span>);<br>            &#125;<br>            <br>            StringBuffer sb = <span class="hljs-keyword">new</span> StringBuffer();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> ele : mp.keySet())&#123;<br>                sb.append(ele);<br>                sb.append(mp.get(ele));<br>            &#125;<br>            String key = sb.toString();<br>            List&lt;String&gt; list = map.getOrDefault(key, <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;());<br>            list.add(str);<br>            map.put(key, list);<br>            mp.clear();<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;(map.values());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="è®¡æ•°"><a href="#è®¡æ•°" class="headerlink" title="è®¡æ•°"></a>è®¡æ•°</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>ç”±äºäº’ä¸ºå­—æ¯å¼‚ä½è¯çš„ä¸¤ä¸ªå­—ç¬¦ä¸²åŒ…å«çš„å­—æ¯ç›¸åŒï¼Œå› æ­¤ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç›¸åŒå­—æ¯å‡ºç°çš„æ¬¡æ•°ä¸€å®šæ˜¯ç›¸åŒçš„ï¼Œæ•…å¯ä»¥å°†æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºï¼Œä½œä¸ºå“ˆå¸Œè¡¨çš„é”®ã€‚</p><p>ç”±äºå­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯ï¼Œå› æ­¤å¯¹äºæ¯ä¸ªå­—ç¬¦ä¸²ï¼Œå¯ä»¥ä½¿ç”¨é•¿åº¦ä¸º 26 çš„æ•°ç»„è®°å½•æ¯ä¸ªå­—æ¯å‡ºç°çš„æ¬¡æ•°ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨æ•°ç»„ä½œä¸ºå“ˆå¸Œè¡¨çš„é”®æ—¶ï¼Œä¸åŒè¯­è¨€çš„æ”¯æŒç¨‹åº¦ä¸åŒï¼Œå› æ­¤ä¸åŒè¯­è¨€çš„å®ç°æ–¹å¼ä¹Ÿä¸åŒã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> List&lt;List&lt;String&gt;&gt; groupAnagrams(String[] strs) &#123;<br>        Map&lt;String, List&lt;String&gt;&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;String, List&lt;String&gt;&gt;();<br>        <span class="hljs-keyword">for</span> (String str : strs) &#123;<br>            <span class="hljs-keyword">int</span>[] counts = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">26</span>];<br>            <span class="hljs-keyword">int</span> length = str.length();<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; length; i++) &#123;<br>                counts[str.charAt(i) - <span class="hljs-string">&#x27;a&#x27;</span>]++;<br>            &#125;<br>            <span class="hljs-comment">// å°†æ¯ä¸ªå‡ºç°æ¬¡æ•°å¤§äº 0 çš„å­—æ¯å’Œå‡ºç°æ¬¡æ•°æŒ‰é¡ºåºæ‹¼æ¥æˆå­—ç¬¦ä¸²ï¼Œä½œä¸ºå“ˆå¸Œè¡¨çš„é”®</span><br>            StringBuffer sb = <span class="hljs-keyword">new</span> StringBuffer();<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">26</span>; i++) &#123;<br>                <span class="hljs-keyword">if</span> (counts[i] != <span class="hljs-number">0</span>) &#123;<br>                    sb.append((<span class="hljs-keyword">char</span>) (<span class="hljs-string">&#x27;a&#x27;</span> + i));<br>                    sb.append(counts[i]);<br>                &#125;<br>            &#125;<br>            String key = sb.toString();<br>            List&lt;String&gt; list = map.getOrDefault(key, <span class="hljs-keyword">new</span> ArrayList&lt;String&gt;());<br>            list.add(str);<br>            map.put(key, list);<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ArrayList&lt;List&lt;String&gt;&gt;(map.values());<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/group-anagrams/solution/zi-mu-yi-wei-ci-fen-zu-by-leetcode-solut-gyoc/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 43</title>
    <link href="/2021/09/05/LeetCode-Notes-43/"/>
    <url>/2021/09/05/LeetCode-Notes-43/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-43"><a href="#Leetcode-Notes-43" class="headerlink" title="Leetcode Notes - 43"></a>Leetcode Notes - 43</h1><p>é¢˜ç›®ï¼š<strong>43. å­—ç¬¦ä¸²ç›¸ä¹˜</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>æ¨¡æ‹Ÿ</li><li>å­—ç¬¦ä¸²</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-æ¨¡æ‹Ÿ"><a href="#1-æ¨¡æ‹Ÿ" class="headerlink" title="1. æ¨¡æ‹Ÿ"></a>1. æ¨¡æ‹Ÿ</h3><p>åšä¹˜æ³•ï¼Œæ— æ•Œï¼ğŸ“•</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210905162611046.png" alt="æ¨¡æ‹Ÿ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">multiply</span><span class="hljs-params">(String num1, String num2)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(num1.length() &lt; num2.length()) <span class="hljs-keyword">return</span> multiply(num2, num1);<br><br>        <span class="hljs-keyword">if</span> (num1.equals(<span class="hljs-string">&quot;0&quot;</span>) || num2.equals(<span class="hljs-string">&quot;0&quot;</span>)) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;0&quot;</span>;<br>        &#125;<br>        <br>        <span class="hljs-comment">// Main Algorithm</span><br>        <span class="hljs-keyword">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[num1.length() + num2.length()];<br>        <span class="hljs-keyword">char</span>[] n1Arr = num1.toCharArray();<br>        <span class="hljs-keyword">char</span>[] n2Arr = num2.toCharArray();<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = n2Arr.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)&#123;<br>            <span class="hljs-keyword">int</span> ten = n2Arr.length - <span class="hljs-number">1</span> - i;<br><br>            <span class="hljs-keyword">int</span> start = res.length - <span class="hljs-number">1</span> - ten;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> k = n1Arr.length - <span class="hljs-number">1</span>; k &gt;= <span class="hljs-number">0</span>; k--)&#123;<br>                <span class="hljs-keyword">int</span> cur = (n1Arr[k] - <span class="hljs-string">&#x27;0&#x27;</span>) * (n2Arr[i] - <span class="hljs-string">&#x27;0&#x27;</span>);<br>                res[start] += cur;<br>                start--;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = res.length - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">1</span>; j--)&#123;<br>            <span class="hljs-keyword">int</span> addOn = res[j] - (res[j] % <span class="hljs-number">10</span>);<br>            res[j - <span class="hljs-number">1</span>] += addOn / <span class="hljs-number">10</span>;<br>            res[j] = res[j] % <span class="hljs-number">10</span>;<br>        &#125;<br><br>        StringBuilder result = <span class="hljs-keyword">new</span> StringBuilder();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; res.length; i++) &#123;<br>            <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span> &amp;&amp; res[i] == <span class="hljs-number">0</span>) <span class="hljs-keyword">continue</span>;<br>            result.append(res[i]);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> result.toString();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="æ¨¡æ‹Ÿ"><a href="#æ¨¡æ‹Ÿ" class="headerlink" title="æ¨¡æ‹Ÿ"></a>æ¨¡æ‹Ÿ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210905162720329.png" alt="å®˜æ–¹é¢˜è§£"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">multiply</span><span class="hljs-params">(String num1, String num2)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (num1.equals(<span class="hljs-string">&quot;0&quot;</span>) || num2.equals(<span class="hljs-string">&quot;0&quot;</span>)) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;0&quot;</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> m = num1.length(), n = num2.length();<br>        <span class="hljs-keyword">int</span>[] ansArr = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[m + n];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = m - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-keyword">int</span> x = num1.charAt(i) - <span class="hljs-string">&#x27;0&#x27;</span>;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = n - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) &#123;<br>                <span class="hljs-keyword">int</span> y = num2.charAt(j) - <span class="hljs-string">&#x27;0&#x27;</span>;<br>                ansArr[i + j + <span class="hljs-number">1</span>] += x * y;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = m + n - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i--) &#123;<br>            ansArr[i - <span class="hljs-number">1</span>] += ansArr[i] / <span class="hljs-number">10</span>;<br>            ansArr[i] %= <span class="hljs-number">10</span>;<br>        &#125;<br>        <span class="hljs-keyword">int</span> index = ansArr[<span class="hljs-number">0</span>] == <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>;<br>        StringBuffer ans = <span class="hljs-keyword">new</span> StringBuffer();<br>        <span class="hljs-keyword">while</span> (index &lt; m + n) &#123;<br>            ans.append(ansArr[index]);<br>            index++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans.toString();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><blockquote><p>åˆä¼˜äºé¢˜è§£äº†ï¼Œéå¸¸å¼€å¿ƒï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 290</title>
    <link href="/2021/09/04/LeetCode-Notes-290/"/>
    <url>/2021/09/04/LeetCode-Notes-290/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-290"><a href="#Leetcode-Notes-290" class="headerlink" title="Leetcode Notes - 290"></a>Leetcode Notes - 290</h1><p>é¢˜ç›®ï¼š<strong>å•è¯è®°å½•</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å“ˆå¸Œè¡¨</li><li>åŒå°„</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-å“ˆå¸Œè¡¨"><a href="#1-å“ˆå¸Œè¡¨" class="headerlink" title="1. å“ˆå¸Œè¡¨"></a>1. å“ˆå¸Œè¡¨</h3><p>å“ˆå¸Œè¡¨ + å“ˆå¸Œé›†åˆè®°å½•ğŸ“•</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904124209478.png" alt="å“ˆå¸Œè¡¨"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">wordPattern</span><span class="hljs-params">(String pattern, String s)</span> </span>&#123;<br>        Map&lt;String, Character&gt; mp = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        Set&lt;Character&gt; hs = <span class="hljs-keyword">new</span> HashSet&lt;&gt;();<br><br>        <span class="hljs-keyword">char</span>[] ptArr = pattern.toCharArray();<br>        String[] sArr = s.split(<span class="hljs-string">&quot; &quot;</span>);<br><br>        <span class="hljs-keyword">if</span>(ptArr.length != sArr.length) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; ptArr.length; i++)&#123;<br>            <span class="hljs-keyword">if</span>(mp.containsKey(sArr[i]))&#123;<br>                <span class="hljs-keyword">if</span>(mp.get(sArr[i]) == ptArr[i])&#123;<br>                    <span class="hljs-keyword">continue</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">if</span>(hs.contains(ptArr[i]))&#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    mp.put(sArr[i], ptArr[i]);<br>                    hs.add(ptArr[i]);<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h4 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h4><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>åœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åˆ¤æ–­å­—ç¬¦ä¸å­—ç¬¦ä¸²ä¹‹é—´æ˜¯å¦æ°å¥½ä¸€ä¸€å¯¹åº”ã€‚å³ä»»æ„ä¸€ä¸ªå­—ç¬¦éƒ½å¯¹åº”ç€å”¯ä¸€çš„å­—ç¬¦ä¸²ï¼Œä»»æ„ä¸€ä¸ªå­—ç¬¦ä¸²ä¹Ÿåªè¢«å”¯ä¸€çš„ä¸€ä¸ªå­—ç¬¦å¯¹åº”ã€‚åœ¨é›†åˆè®ºä¸­ï¼Œè¿™ç§å…³ç³»è¢«ç§°ä¸ºã€ŒåŒå°„ã€ã€‚</p><p>æƒ³è¦è§£å†³æœ¬é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸€ä¸ªå­—ç¬¦å¯¹åº”çš„å­—ç¬¦ä¸²ï¼Œä»¥åŠæ¯ä¸€ä¸ªå­—ç¬¦ä¸²å¯¹åº”çš„å­—ç¬¦ã€‚ç„¶åæˆ‘ä»¬æšä¸¾æ¯ä¸€å¯¹å­—ç¬¦ä¸å­—ç¬¦ä¸²çš„é…å¯¹è¿‡ç¨‹ï¼Œä¸æ–­æ›´æ–°å“ˆå¸Œè¡¨ï¼Œå¦‚æœå‘ç”Ÿäº†å†²çªï¼Œåˆ™è¯´æ˜ç»™å®šçš„è¾“å…¥ä¸æ»¡è¶³åŒå°„å…³ç³»ã€‚</p><p>åœ¨å®é™…ä»£ç ä¸­ï¼Œæˆ‘ä»¬æšä¸¾ pattern ä¸­çš„æ¯ä¸€ä¸ªå­—ç¬¦ï¼Œåˆ©ç”¨åŒæŒ‡é’ˆæ¥å‡æ‘Šçº¿æ€§åœ°æ‰¾åˆ°è¯¥å­—ç¬¦åœ¨ str ä¸­å¯¹åº”çš„å­—ç¬¦ä¸²ã€‚æ¯æ¬¡ç¡®å®šä¸€ä¸ªå­—ç¬¦ä¸å­—ç¬¦ä¸²çš„ç»„åˆï¼Œæˆ‘ä»¬å°±æ£€æŸ¥æ˜¯å¦å‡ºç°å†²çªï¼Œæœ€åæˆ‘ä»¬å†æ£€æŸ¥ä¸¤å­—ç¬¦ä¸²æ˜¯å¦æ¯”è¾ƒå®Œæ¯•å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">wordPattern</span><span class="hljs-params">(String pattern, String str)</span> </span>&#123;<br>        Map&lt;String, Character&gt; str2ch = <span class="hljs-keyword">new</span> HashMap&lt;String, Character&gt;();<br>        Map&lt;Character, String&gt; ch2str = <span class="hljs-keyword">new</span> HashMap&lt;Character, String&gt;();<br>        <span class="hljs-keyword">int</span> m = str.length();<br>        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> p = <span class="hljs-number">0</span>; p &lt; pattern.length(); ++p) &#123;<br>            <span class="hljs-keyword">char</span> ch = pattern.charAt(p);<br>            <span class="hljs-keyword">if</span> (i &gt;= m) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>            &#125;<br>            <span class="hljs-keyword">int</span> j = i;<br>            <span class="hljs-keyword">while</span> (j &lt; m &amp;&amp; str.charAt(j) != <span class="hljs-string">&#x27; &#x27;</span>) &#123;<br>                j++;<br>            &#125;<br>            String tmp = str.substring(i, j);<br>            <span class="hljs-keyword">if</span> (str2ch.containsKey(tmp) &amp;&amp; str2ch.get(tmp) != ch) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (ch2str.containsKey(ch) &amp;&amp; !tmp.equals(ch2str.get(ch))) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>            &#125;<br>            str2ch.put(tmp, ch);<br>            ch2str.put(ch, tmp);<br>            i = j + <span class="hljs-number">1</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> i &gt;= m;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/word-pattern/solution/dan-ci-gui-lu-by-leetcode-solution-6vqv/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 763</title>
    <link href="/2021/09/04/LeetCode-Notes-763/"/>
    <url>/2021/09/04/LeetCode-Notes-763/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-763"><a href="#Leetcode-Notes-763" class="headerlink" title="Leetcode Notes - 763"></a>Leetcode Notes - 763</h1><p>é¢˜ç›®ï¼š<strong>763. åˆ’åˆ†å­—æ¯åŒºé—´</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>è´ªå¿ƒ</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-å“ˆå¸Œ-è´ªå¿ƒ"><a href="#1-å“ˆå¸Œ-è´ªå¿ƒ" class="headerlink" title="1. å“ˆå¸Œ + è´ªå¿ƒ"></a>1. å“ˆå¸Œ + è´ªå¿ƒ</h3><p>æ€è·¯åœ¨ï¼Œå°±æ˜¯è´ªå¿ƒæœ€å…³é”®çš„ä¸€ç‚¹æ²¡åˆ°ä½â€”â€”å½“å‰çš„ç‰‡æ®µçš„ç»“æŸç‚¹ç»å¯¹ä¸å°äºå½“å‰éå†åˆ°çš„å­—ç¬¦çš„æœ€åå‡ºç°çš„ä½ç½®ğŸ“•</p><p>ä¸ºä»€ä¹ˆè¿™æ ·è¯´ï¼Ÿå› ä¸ºæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œå½“æˆ‘ä»¬éå†åˆ°å½“å‰ç‰‡æ®µçš„æœ€å°ç»“æŸç‚¹ end æ—¶ï¼Œend å¿…ç„¶æ˜¯è¿™ä¸ªç‰‡æ®µé‡Œæ‰€æœ‰å‡ºç°è¿‡çš„å­—ç¬¦é‡Œç»ˆç‚¹æœ€å¤§çš„ï¼</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904132641475.png" alt="å“ˆå¸Œ + è´ªå¿ƒ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title">partitionLabels</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        <span class="hljs-keyword">char</span>[] chArr = s.toCharArray();<br>        Map&lt;Character, Integer&gt; mpEnd = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; chArr.length; i++)&#123;<br>            mpEnd.put(chArr[i], i);<br>        &#125;<br><br>        <span class="hljs-keyword">int</span> start = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> end = <span class="hljs-number">0</span>;<br>        List&lt;Integer&gt; res = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; chArr.length; j++)&#123;<br>            <span class="hljs-keyword">int</span> cur = mpEnd.get(chArr[j]);<br>            end = Math.max(end, cur);<br><br>            <span class="hljs-keyword">if</span>(j == end)&#123;<br>                res.add(end - start + <span class="hljs-number">1</span>);<br>                start = end + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>ä½¿ç”¨è´ªå¿ƒçš„æ€æƒ³å¯»æ‰¾æ¯ä¸ªç‰‡æ®µå¯èƒ½çš„æœ€å°ç»“æŸä¸‹æ ‡ï¼Œå› æ­¤å¯ä»¥ä¿è¯æ¯ä¸ªç‰‡æ®µçš„é•¿åº¦ä¸€å®šæ˜¯ç¬¦åˆè¦æ±‚çš„æœ€çŸ­é•¿åº¦ï¼Œå¦‚æœå–æ›´çŸ­çš„ç‰‡æ®µï¼Œåˆ™ä¸€å®šä¼šå‡ºç°åŒä¸€ä¸ªå­—æ¯å‡ºç°åœ¨å¤šä¸ªç‰‡æ®µä¸­çš„æƒ…å†µã€‚ç”±äºæ¯æ¬¡å–çš„ç‰‡æ®µéƒ½æ˜¯ç¬¦åˆè¦æ±‚çš„æœ€çŸ­çš„ç‰‡æ®µï¼Œå› æ­¤å¾—åˆ°çš„ç‰‡æ®µæ•°ä¹Ÿæ˜¯æœ€å¤šçš„ã€‚</p><p>ç”±äºæ¯ä¸ªç‰‡æ®µè®¿é—®ç»“æŸçš„æ ‡å¿—æ˜¯è®¿é—®åˆ°ä¸‹æ ‡ endï¼Œå› æ­¤å¯¹äºæ¯ä¸ªç‰‡æ®µï¼Œå¯ä»¥ä¿è¯å½“å‰ç‰‡æ®µä¸­çš„æ¯ä¸ªå­—æ¯éƒ½ä¸€å®šåœ¨å½“å‰ç‰‡æ®µä¸­ï¼Œä¸å¯èƒ½å‡ºç°åœ¨å…¶ä»–ç‰‡æ®µï¼Œå¯ä»¥ä¿è¯åŒä¸€ä¸ªå­—æ¯åªä¼šå‡ºç°åœ¨åŒä¸€ä¸ªç‰‡æ®µã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title">partitionLabels</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span>[] last = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">26</span>];<br>        <span class="hljs-keyword">int</span> length = s.length();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; length; i++) &#123;<br>            last[s.charAt(i) - <span class="hljs-string">&#x27;a&#x27;</span>] = i;<br>        &#125;<br>        List&lt;Integer&gt; partition = <span class="hljs-keyword">new</span> ArrayList&lt;Integer&gt;();<br>        <span class="hljs-keyword">int</span> start = <span class="hljs-number">0</span>, end = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; length; i++) &#123;<br>            end = Math.max(end, last[s.charAt(i) - <span class="hljs-string">&#x27;a&#x27;</span>]);<br>            <span class="hljs-keyword">if</span> (i == end) &#123;<br>                partition.add(end - start + <span class="hljs-number">1</span>);<br>                start = end + <span class="hljs-number">1</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> partition;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/partition-labels/solution/hua-fen-zi-mu-qu-jian-by-leetcode-solution/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Big Data Intro - Chapter 6</title>
    <link href="/2021/09/04/Big-Data-Intro-Chapter-6/"/>
    <url>/2021/09/04/Big-Data-Intro-Chapter-6/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬06ç« -SparkåŸºäºå†…å­˜çš„åˆ†å¸ƒå¼è®¡ç®—"><a href="#ç¬¬06ç« -SparkåŸºäºå†…å­˜çš„åˆ†å¸ƒå¼è®¡ç®—" class="headerlink" title="ç¬¬06ç«  SparkåŸºäºå†…å­˜çš„åˆ†å¸ƒå¼è®¡ç®—"></a>ç¬¬06ç«  SparkåŸºäºå†…å­˜çš„åˆ†å¸ƒå¼è®¡ç®—</h1><h2 id="Part-1-Spark-æ¦‚è¿°"><a href="#Part-1-Spark-æ¦‚è¿°" class="headerlink" title="Part 1 Spark æ¦‚è¿°"></a>Part 1 Spark æ¦‚è¿°</h2><h3 id="Spark-ç®€ä»‹"><a href="#Spark-ç®€ä»‹" class="headerlink" title="Spark ç®€ä»‹"></a>Spark ç®€ä»‹</h3><p><strong>Apache Spark</strong> æ˜¯ä¸€ç§åŸºäº<strong>å†…å­˜çš„å¿«é€Ÿã€é€šç”¨ã€å¯æ‰©å±•çš„</strong>å¤§æ•°æ®è®¡ç®—å¼•æ“ã€‚</p><p>åŒæ—¶ï¼Œ<strong>Spark</strong> æ˜¯ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆï¼Œé›†æ‰¹å¤„ç†ã€å®æ—¶æµå¤„ç†ã€äº¤äº’å¼æŸ¥è¯¢ã€å›¾è®¡ç®—ä¸æœºå™¨å­¦ä¹ äºä¸€ä½“ã€‚</p><h3 id="Spark-åº”ç”¨åœºæ™¯"><a href="#Spark-åº”ç”¨åœºæ™¯" class="headerlink" title="Spark åº”ç”¨åœºæ™¯"></a>Spark åº”ç”¨åœºæ™¯</h3><ul><li><strong>æ‰¹å¤„ç†</strong>å¯ç”¨äº <strong>ETLï¼ˆæŠ½å–ã€è½¬æ¢ã€åŠ è½½ï¼‰</strong></li><li><strong>æœºå™¨å­¦ä¹ </strong>å¯ç”¨äºè‡ªåŠ¨åˆ¤æ–­ç”µå•†çš„ä¹°å®¶è¯„è®ºæ˜¯å¥½è¯„è¿˜æ˜¯å·®è¯„</li><li><strong>äº¤äº’å¼åˆ†æ</strong>å¯ç”¨äºæŸ¥è¯¢ Hive æ•°æ®ä»“åº“</li><li><strong>æµå¤„ç†</strong>å¯ç”¨äºé¡µé¢ç‚¹å‡»æµåˆ†æï¼Œæ¨èç³»ç»Ÿï¼Œèˆ†æƒ…åˆ†æç­‰å®æ—¶ä¸šåŠ¡<ul><li>èˆ†æƒ…åˆ†æï¼šå°±æ˜¯å¯¹äº’è”ç½‘æ•æ„Ÿã€çƒ­ç‚¹ä¿¡æ¯è¿›è¡Œç›‘æ§ã€åˆ†æå¤„ç†</li></ul></li></ul><blockquote><p>éœ€è¦åå¤æ“ä½œçš„æ¬¡æ•°è¶Šå¤šï¼Œæ‰€éœ€è¯»å–çš„æ•°æ®é‡è¶Šå¤§ï¼Œå—ç›Šè¶Šå¤§ï¼Œå› ä¸ºæ•°æ®å·²ç»åœ¨å†…å­˜äº†</p></blockquote><h3 id="Spark-ç‰¹ç‚¹"><a href="#Spark-ç‰¹ç‚¹" class="headerlink" title="Spark ç‰¹ç‚¹"></a>Spark ç‰¹ç‚¹</h3><p><strong>Spark</strong> ç”¨ååˆ†ä¹‹ä¸€çš„èµ„æºï¼Œä¾¿å¯è·å¾— 3 å€äº <strong>MapReduce</strong> çš„æ€§èƒ½</p><h4 id="è½»"><a href="#è½»" class="headerlink" title="è½»"></a>è½»</h4><p><strong>Spark æ ¸å¿ƒä»£ç åªæœ‰ 3 ä¸‡è¡Œ</strong></p><ul><li>Scala è¯­è¨€çš„ç®€æ´å’Œä¸°å¯Œè¡¨è¾¾åŠ›</li><li>å·§å¦™åˆ©ç”¨äº† Hadoop å’Œ Mesos çš„åŸºç¡€è®¾æ–½</li></ul><h4 id="å¿«"><a href="#å¿«" class="headerlink" title="å¿«"></a>å¿«</h4><p><strong>Spark å¯¹å°æ•°æ®é›†å¯è¾¾åˆ°äºšç§’çº§çš„å»¶è¿Ÿ</strong></p><ul><li>å¯¹å¤§æ•°æ®é›†çš„è¿­ä»£æœºå™¨å­¦ä¹ å³å¸­æŸ¥è¯¢ã€å›¾è®¡ç®—ç­‰åº”ç”¨ï¼Œ<strong>Spark</strong> ç‰ˆæœ¬æ¯”åŸºäº <strong>MapReduceã€Hive å’Œ Pregel</strong> çš„å®ç°å¿«</li><li>å†…å­˜è®¡ç®—ã€æ•°æ®æœ¬åœ°æ€§å’Œä¼ è¾“ä¼˜åŒ–ã€è°ƒåº¦ä¼˜åŒ–</li></ul><h4 id="çµ"><a href="#çµ" class="headerlink" title="çµ"></a>çµ</h4><p><strong>Spark æä¾›äº†ä¸åŒå±‚é¢çš„çµæ´»æ€§</strong></p><ul><li>Scala è¯­è¨€ trait åŠ¨æ€æ··å…¥ç­–ç•¥ï¼ˆå¦‚å¯æ›´æ¢çš„é›†ç¾¤è°ƒåº¦å™¨ã€åºåˆ—åŒ–åº“ï¼‰</li><li>å…è®¸æ‰©å±•æ–°çš„æ•°æ®ç®—å­ã€æ–°çš„æ•°æ®æºã€æ–°çš„ <strong>language bindings</strong></li><li><strong>Spark</strong> æ”¯æŒå†…å­˜è®¡ç®—ã€å¤šè¿­ä»£æ‰¹é‡å¤„ç†ã€å³å¸­æŸ¥è¯¢ã€æµå¤„ç†å’Œå›¾è®¡ç®—ç­‰å¤šç§èŒƒå¼</li></ul><h4 id="å·§"><a href="#å·§" class="headerlink" title="å·§"></a>å·§</h4><p><strong>å·§å¦™å€ŸåŠ›ç°æœ‰å¤§æ•°æ®ç»„ä»¶</strong></p><ul><li><strong>Spark</strong> å€Ÿ <strong>Hadoop</strong> ä¹‹åŠ¿ï¼Œä¸ <strong>Hadoop</strong> æ— ç¼ç»“åˆ</li><li>å›¾è®¡ç®—å€Ÿç”¨ <strong>Pregel å’Œ PowerGraph</strong> çš„ API ä»¥åŠ PowerGraph çš„ç‚¹åˆ†å‰²æ€æƒ³</li></ul><h2 id="Part-2-Spark-æ•°æ®ç»“æ„"><a href="#Part-2-Spark-æ•°æ®ç»“æ„" class="headerlink" title="Part 2 Spark æ•°æ®ç»“æ„"></a>Part 2 Spark æ•°æ®ç»“æ„</h2><h3 id="Spark-æ ¸å¿ƒæ¦‚å¿µ-RDD"><a href="#Spark-æ ¸å¿ƒæ¦‚å¿µ-RDD" class="headerlink" title="Spark æ ¸å¿ƒæ¦‚å¿µ RDD"></a>Spark æ ¸å¿ƒæ¦‚å¿µ RDD</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904104454432.png" alt="RDD åœ¨ Spark ä¸­çš„è§’è‰²"></p><p><strong>RDDï¼ˆResilient Distributed Datasetsï¼‰</strong> å³<strong>å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†</strong>ï¼Œæ˜¯ä¸€ä¸ª<strong>åªè¯»çš„ï¼Œå¯åˆ†åŒºçš„</strong>åˆ†å¸ƒå¼æ•°æ®é›†</p><ul><li>RDD é»˜è®¤å­˜å‚¨åœ¨<strong>å†…å­˜</strong>ï¼Œå½“å†…å­˜ä¸è¶³æ—¶ï¼Œæº¢å†™åˆ°ç£ç›˜</li><li>RDD æ•°æ®ä»¥<strong>åˆ†åŒºçš„å½¢å¼</strong>åœ¨é›†ç¾¤ä¸­å­˜å‚¨</li><li>RDD å…·æœ‰<strong>è¡€ç»Ÿæœºåˆ¶ï¼ˆLineageï¼‰</strong>ï¼Œå‘ç”Ÿæ•°æ®ä¸¢å¤±æ—¶ï¼Œå¯å¿«é€Ÿè¿›è¡Œæ•°æ®æ¢å¤</li></ul><p>å¯ä»¥è¯´ï¼Œ<strong>RDD</strong> æ˜¯ <strong>Spark</strong> å¯¹åŸºç¡€æ•°æ®çš„æŠ½è±¡</p><ul><li><strong>RDD çš„ç”Ÿæˆï¼š</strong><ul><li>ä» Hadoop æ–‡ä»¶ç³»ç»Ÿï¼ˆæˆ–ä¸ Hadoop å…¼å®¹çš„å…¶å®ƒå­˜å‚¨ç³»ç»Ÿï¼‰è¾“å…¥åˆ›å»ºï¼ˆå¦‚ HDFSï¼‰</li><li>ä»çˆ¶RDDè½¬æ¢å¾—åˆ°æ–°çš„RDD</li></ul></li><li><strong>RDD çš„å­˜å‚¨ï¼š</strong><ul><li>ç”¨æˆ·å¯ä»¥é€‰æ‹©ä¸åŒçš„å­˜å‚¨çº§åˆ«å­˜å‚¨ RDD ä»¥ä¾¿é‡ç”¨ï¼ˆ11ç§ï¼‰</li><li>RDD é»˜è®¤å­˜å‚¨äºå†…å­˜ï¼Œä½†å½“å†…å­˜ä¸è¶³æ—¶ï¼ŒRDDä¼šæº¢å‡ºåˆ°ç£ç›˜ä¸­</li></ul></li><li><strong>RDD çš„åˆ†åŒºï¼š</strong><ul><li>ä¸ºå‡å°‘ç½‘ç»œä¼ è¾“ä»£ä»·ï¼Œå’Œè¿›è¡Œåˆ†å¸ƒå¼è®¡ç®—ï¼Œéœ€å¯¹RDDè¿›è¡Œåˆ†åŒº</li><li>åœ¨éœ€è¦è¿›è¡Œåˆ†åŒºæ—¶ä¼šæ ¹æ®æ¯æ¡è®°å½• Key è¿›è¡Œåˆ†åŒºï¼Œä»¥æ­¤ä¿è¯ä¸¤ä¸ªæ•°æ®é›†èƒ½é«˜æ•ˆè¿›è¡Œ Join æ“ä½œ</li></ul></li><li><strong>RDD çš„ä¼˜ç‚¹ï¼š</strong><ul><li>RDDæ˜¯åªè¯»çš„ï¼Œé™æ€çš„ã€‚å› æ­¤å¯æä¾›æ›´é«˜çš„å®¹é”™èƒ½åŠ›</li><li>å¯ä»¥å®ç°æ¨æµ‹å¼æ‰§è¡Œ</li></ul></li></ul><h3 id="RDD-çš„ä¾èµ–å…³ç³»"><a href="#RDD-çš„ä¾èµ–å…³ç³»" class="headerlink" title="RDD çš„ä¾èµ–å…³ç³»"></a>RDD çš„ä¾èµ–å…³ç³»</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904104551904.png" alt="ND å’Œ WD"></p><h4 id="Dependencyï¼ˆä¾èµ–ï¼‰"><a href="#Dependencyï¼ˆä¾èµ–ï¼‰" class="headerlink" title="Dependencyï¼ˆä¾èµ–ï¼‰"></a>Dependencyï¼ˆä¾èµ–ï¼‰</h4><ul><li>çª„ä¾èµ–æ˜¯æŒ‡çˆ¶ RDD çš„<strong>æ¯ä¸ªåˆ†åŒºæœ€å¤šè¢«ä¸€ä¸ª</strong>å­ RDD çš„ä¸€ä¸ª<strong>åˆ†åŒºï¼ˆå³ Partitionï¼‰</strong>æ‰€ç”¨</li><li>å®½ä¾èµ–æ˜¯æŒ‡çˆ¶ RDD çš„<strong>æ¯ä¸ªåˆ†åŒºå¯¹åº”ä¸€ä¸ª</strong>å­ RDD çš„å¤šä¸ªåˆ†åŒºï¼Œæ˜¯ stage åˆ’åˆ†çš„ä¾æ®</li></ul><h4 id="Lineageï¼ˆè¡€ç»Ÿï¼‰ï¼šä¾èµ–çš„é“¾æ¡"><a href="#Lineageï¼ˆè¡€ç»Ÿï¼‰ï¼šä¾èµ–çš„é“¾æ¡" class="headerlink" title="Lineageï¼ˆè¡€ç»Ÿï¼‰ï¼šä¾èµ–çš„é“¾æ¡"></a>Lineageï¼ˆè¡€ç»Ÿï¼‰ï¼šä¾èµ–çš„é“¾æ¡</h4><ul><li>RDD æ•°æ®é›†é€šè¿‡ <strong>Lineage</strong> è®°ä½äº†å®ƒæ˜¯å¦‚ä½•ä»å…¶ä»– RDD ä¸­æ¼”å˜è¿‡æ¥çš„</li></ul><h3 id="å®½çª„ä¾èµ–çš„åŒºåˆ«"><a href="#å®½çª„ä¾èµ–çš„åŒºåˆ«" class="headerlink" title="å®½çª„ä¾èµ–çš„åŒºåˆ«"></a>å®½çª„ä¾èµ–çš„åŒºåˆ«</h3><h4 id="ç®—å­"><a href="#ç®—å­" class="headerlink" title="ç®—å­"></a>ç®—å­</h4><p><strong>çª„ä¾èµ–</strong>æŒ‡çš„æ˜¯æ¯ä¸€ä¸ªçˆ¶ RDD çš„ Partition æœ€å¤šè¢«å­ RDD çš„ä¸€ä¸ª Partition ä½¿ç”¨</p><ul><li>å¦‚ <code>map</code>ã€<code>filter</code>ï¼Œ<code>union</code></li></ul><p><strong>å®½ä¾èµ–</strong>æŒ‡çš„æ˜¯å¤šä¸ªå­ RDD çš„ Partition ä¼šä¾èµ–åŒä¸€ä¸ªçˆ¶ RDD çš„ Partition</p><ul><li>å¦‚ <code>groupByKey</code>ï¼Œ<code>reduceByKey</code>ï¼Œ<code>sortByKey</code></li></ul><h4 id="å®¹é”™æ€§"><a href="#å®¹é”™æ€§" class="headerlink" title="å®¹é”™æ€§"></a>å®¹é”™æ€§</h4><p>å‡è®¾æŸä¸ªèŠ‚ç‚¹å‡ºç°äº†æ•…éšœ</p><ul><li>çª„ä¾èµ–ï¼šåªéœ€è¦é‡ç®—ä¸<strong>å­ RDD åˆ†åŒºå¯¹åº”çš„çˆ¶ RDD åˆ†åŒº</strong>å³å¯</li><li>å®½ä¾èµ–ï¼šæç«¯æƒ…å†µä¸‹ï¼Œ<strong>æ‰€æœ‰çš„çˆ¶ RDD åˆ†åŒºéƒ½è¦é‡æ–°è®¡ç®—</strong></li></ul><p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œb1 åˆ†åŒºä¸¢å¤±ï¼Œåˆ™éœ€è¦é‡æ–°è®¡ç®— a1, a2 å’Œ a3</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904105710231.png" alt="å®½ä¾èµ–æ•…éšœæƒ…å†µ"></p><h4 id="ä¼ è¾“"><a href="#ä¼ è¾“" class="headerlink" title="ä¼ è¾“"></a>ä¼ è¾“</h4><p>å®½ä¾èµ–å¾€å¾€å¯¹åº”ç€ <strong>Shuffle</strong> æ“ä½œï¼Œéœ€è¦åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å°†åŒä¸€ä¸ªçˆ¶ RDD çš„åˆ†åŒºä¼ å…¥åˆ°ä¸åŒçš„å­ RDD åˆ†åŒºä¸­ï¼Œä¸­é—´å¯èƒ½æ¶‰åŠå¤šä¸ªèŠ‚ç‚¹ä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚</p><p>çª„ä¾èµ–çš„æ¯ä¸ªçˆ¶ RDD çš„åˆ†åŒºåªä¼šä¼ å…¥åˆ°ä¸€ä¸ªå­ RDD åˆ†åŒºä¸­ï¼Œé€šå¸¸å¯ä»¥åœ¨ä¸€ä¸ªèŠ‚ç‚¹å†…å®Œæˆè½¬æ¢ã€‚</p><h3 id="RDD-çš„-Stage-åˆ’åˆ†"><a href="#RDD-çš„-Stage-åˆ’åˆ†" class="headerlink" title="RDD çš„ Stage åˆ’åˆ†"></a>RDD çš„ Stage åˆ’åˆ†</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904110026807.png" alt="RDD çš„ Stage åˆ’åˆ†"></p><p>å®é™…åº”ç”¨æäº¤çš„ Job ä¸­ RDD ä¾èµ–å…³ç³»æ˜¯ååˆ†å¤æ‚çš„ï¼Œä¾æ®è¿™äº›ä¾èµ–å…³ç³»æ¥åˆ’åˆ† stage è‡ªç„¶ æ˜¯ååˆ†å›°éš¾çš„ï¼ŒSpark æ­¤æ—¶å°±åˆ©ç”¨äº†å‰æ–‡æåˆ°çš„ä¾èµ–å…³ç³»</p><ul><li>è°ƒåº¦å™¨ä» DAG å›¾æœ«ç«¯å‡ºå‘ï¼Œé€†å‘éå†æ•´ä¸ªä¾èµ–å…³ç³»é“¾</li><li>é‡åˆ° <strong>ShuffleDependencyï¼ˆå®½ä¾èµ–å…³ç³»çš„ä¸€ç§å«æ³•ï¼‰</strong>å°±æ–­å¼€</li><li>é‡åˆ° <strong>NarrowDependency</strong> å°±å°†å…¶åŠ å…¥åˆ°å½“å‰ stage</li></ul><p>stage ä¸­task æ•°ç›®ç”± stage æœ«ç«¯çš„ RDDåˆ†åŒºä¸ªæ•°æ¥å†³å®šï¼ŒRDD è½¬æ¢æ˜¯åŸºäºåˆ†åŒºçš„ä¸€ç§<strong>ç²—ç²’åº¦è®¡ç®—</strong>ï¼Œä¸€ä¸ª stage æ‰§è¡Œçš„ç»“æœå°±æ˜¯è¿™å‡ ä¸ªåˆ†åŒºæ„æˆçš„ RDD</p><h3 id="RDD-æ“ä½œç±»å‹"><a href="#RDD-æ“ä½œç±»å‹" class="headerlink" title="RDD æ“ä½œç±»å‹"></a>RDD æ“ä½œç±»å‹</h3><p><strong>Spark</strong> ä¸­çš„æ“ä½œå¤§è‡´å¯ä»¥åˆ†ä¸ºåˆ›å»ºæ“ä½œã€è½¬æ¢æ“ä½œã€æ§åˆ¶æ“ä½œå’Œè¡Œä¸ºæ“ä½œ</p><ul><li><strong>åˆ›å»ºæ“ä½œï¼ˆCreation Operationï¼‰ï¼š</strong>ç”¨äº RDD åˆ›å»ºå·¥ä½œã€‚RDD åˆ›å»ºåªæœ‰ä¸¤ç§æ–¹æ³•<ul><li>ä¸€ç§æ˜¯æ¥è‡ªäºå†…å­˜é›†åˆå’Œå¤–éƒ¨å­˜å‚¨ç³»ç»Ÿ</li><li>å¦ä¸€ç§æ˜¯é€šè¿‡è½¬æ¢æ“ä½œç”Ÿæˆçš„ RDD</li></ul></li><li><strong>è½¬æ¢æ“ä½œï¼ˆTransformation Operationï¼‰ï¼š</strong>å°† RDD é€šè¿‡ä¸€å®šçš„æ“ä½œè½¬å˜æˆæ–°çš„ RDDï¼ŒRDD çš„è½¬æ¢æ“ä½œæ˜¯<strong>æƒ°æ€§æ“ä½œ</strong>ï¼Œä»–åªæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ–°çš„ RDDï¼Œå¹¶æ²¡æœ‰ç«‹å³æ‰§è¡Œ</li><li><strong>æ§åˆ¶æ“ä½œï¼ˆControl Operationï¼‰ï¼š</strong>è¿›è¡Œ RDD æŒä¹…åŒ–ï¼Œå¯ä»¥è®© RDD æŒ‰ä¸åŒçš„å­˜å‚¨ç­–ç•¥ä¿å­˜åœ¨ç£ç›˜æˆ–è€…å†…å­˜ä¸­ï¼Œæ¯”å¦‚ cache æ¥å£é»˜è®¤å°† RDD ç¼“å­˜åœ¨å†…å­˜ä¸­</li><li><strong>è¡ŒåŠ¨æ“ä½œï¼ˆAction Operationï¼‰ï¼š</strong>èƒ½å¤Ÿå‡ºå‘ <strong>Spark</strong> è¿è¡Œçš„æ“ä½œï¼Œå…¶åˆ†ä¸ºä¸¤ç±»â€”â€”<ul><li>ä¸€ç±»æ“ä½œè¾“å‡ºè®¡ç®—ç»“æœ</li><li>å¦ä¸€ç±»å°† RDD ä¿å­˜åˆ°å¤–éƒ¨æ–‡ä»¶ç³»ç»Ÿæˆ–è€…æ•°æ®åº“ä¸­</li></ul></li></ul><p>ä¸‹é¢è¯¦ç»†ä»‹ç»è¿™å››ç±»æ“ä½œ</p><h4 id="åˆ›å»ºæ“ä½œ"><a href="#åˆ›å»ºæ“ä½œ" class="headerlink" title="åˆ›å»ºæ“ä½œ"></a>åˆ›å»ºæ“ä½œ</h4><p>ç›®å‰æœ‰ä¸¤å¼ ç±»å‹çš„åŸºç¡€ RDDï¼š</p><ul><li>å¹¶è¡Œé›†åˆï¼šæ¥å—ä¸€ä¸ªå·²ç»å­˜åœ¨çš„é›†åˆï¼Œç„¶åè¿›è¡Œå¹¶è¡Œè®¡ç®—</li><li>å¤–éƒ¨å­˜å‚¨ï¼šåœ¨ä¸€ä¸ªæ–‡ä»¶çš„æ¯æ¡è®°å½•ä¸Šè¿è¡Œå‡½æ•°<ul><li>åªè¦æ–‡ä»¶ç³»ç»Ÿæ˜¯ HDFSï¼Œæˆ–è€… Hadoop æ”¯æŒçš„ä»»æ„å­˜å‚¨ç³»ç»Ÿå³å¯</li></ul></li></ul><p>è¿™ä¸¤ç§ç±»å‹çš„ RDD éƒ½å¯ä»¥é€šè¿‡ç›¸åŒçš„æ–¹å¼è¿›è¡Œæ“ä½œï¼Œä»è€Œè·å¾—å­ RDD ç­‰ä¸€ç³»åˆ—æ‹“å±•ï¼Œå½¢æˆè¡€ç»Ÿå…³ç³»å›¾ã€‚</p><h4 id="æ§åˆ¶æ“ä½œ"><a href="#æ§åˆ¶æ“ä½œ" class="headerlink" title="æ§åˆ¶æ“ä½œ"></a>æ§åˆ¶æ“ä½œ</h4><p>Spark å¯ä»¥å°† RDD <strong>æŒä¹…åŒ–</strong>åˆ°å†…å­˜æˆ–ç£ç›˜æ–‡ä»¶ç³»ç»Ÿä¸­ï¼ŒæŠŠ RDD æŒä¹…åŒ–åˆ°å†…å­˜ä¸­<strong>å¯ä»¥æå¤§åœ°æé«˜è¿­ä»£è®¡ç®—ä»¥åŠä¸ªè®¡ç®—æ¨¡å‹ä¹‹é—´çš„æ•°æ®å…±äº«</strong>ã€‚</p><p>ä¸€èˆ¬æƒ…å†µä¸‹æ‰§è¡ŒèŠ‚ç‚¹ 60% å†…å­˜ç”¨äºç¼“å­˜æ•°æ®ï¼Œå‰©ä¸‹çš„ 40% ç”¨äºè¿è¡Œä»»åŠ¡ã€‚</p><p>Spark ä¸­ä½¿ç”¨ persist å’Œ cache æ“ä½œè¿›è¡ŒæŒä¹…åŒ–ï¼Œå…¶ä¸­ cache æ˜¯ persist() çš„ç‰¹ä¾‹ã€‚</p><h4 id="è½¬æ¢æ“ä½œ-Transformation-ç®—å­"><a href="#è½¬æ¢æ“ä½œ-Transformation-ç®—å­" class="headerlink" title="è½¬æ¢æ“ä½œ - Transformation ç®—å­"></a>è½¬æ¢æ“ä½œ - Transformation ç®—å­</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904111602403.png" alt="Transformation ç®—å­"></p><h4 id="è¡ŒåŠ¨æ“ä½œ-Action-ç®—å­"><a href="#è¡ŒåŠ¨æ“ä½œ-Action-ç®—å­" class="headerlink" title="è¡ŒåŠ¨æ“ä½œ - Action ç®—å­"></a>è¡ŒåŠ¨æ“ä½œ - Action ç®—å­</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904111625270.png" alt="Action ç®—å­"></p><h3 id="DataFrame-æ¦‚å¿µ"><a href="#DataFrame-æ¦‚å¿µ" class="headerlink" title="DataFrame æ¦‚å¿µ"></a>DataFrame æ¦‚å¿µ</h3><p>ä¸ RDD ç±»ä¼¼ï¼Œ<strong>DataFrame</strong> ä¹Ÿæ˜¯ä¸€ä¸ª<strong>ä¸å¯å˜å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†</strong>ã€‚é™¤äº†æ•°æ®ä»¥å¤–ï¼Œè¿˜è®°å½•æ•°æ®çš„<strong>ç»“æ„ä¿¡æ¯</strong>ï¼Œå³ <strong>Schema</strong>ï¼Œç±»ä¼¼äºŒç»´è¡¨æ ¼</p><p><strong>DataFrame</strong> çš„æŸ¥è¯¢è®¡åˆ’å¯ä»¥é€šè¿‡ <strong>Spark Catalyst Optimiser</strong> è¿›è¡Œä¼˜åŒ–ï¼Œå³ä½¿ Spark ç»éªŒå¹¶ä¸ä¸°å¯Œï¼Œç”¨ <strong>DataFrame</strong> å†™çš„ç¨‹åºä¹Ÿå¯ä»¥å°½é‡è¢«è½¬åŒ–ä¸º<strong>é«˜æ•ˆçš„å½¢å¼</strong>äºˆä»¥æ‰§è¡Œ</p><blockquote><p><strong>Catalystå·¥ä½œæµç¨‹ï¼š</strong></p><ul><li>SQL è¯­å¥é¦–å…ˆé€šè¿‡ Parser æ¨¡å—è¢«è§£æä¸ºè¯­æ³•æ ‘ï¼Œæ­¤æ£µæ ‘ç§°ä¸º Unresolved Logical Plan</li><li>Unresolved Logical Plan é€šè¿‡ Analyzer æ¨¡å—å€ŸåŠ©äºæ•°æ®å…ƒæ•°æ®è§£æä¸º Logical Plan</li><li>æ­¤æ—¶å†é€šè¿‡å„ç§åŸºäºè§„åˆ™çš„ä¼˜åŒ–ç­–ç•¥è¿›è¡Œæ·±å…¥ä¼˜åŒ–ï¼Œå¾—åˆ° Optimized Logical Plan</li><li>ä¼˜åŒ–åçš„é€»è¾‘æ‰§è¡Œè®¡åˆ’ä¾ç„¶æ˜¯é€»è¾‘çš„ï¼Œå¹¶ä¸èƒ½è¢« Spark ç³»ç»Ÿç†è§£ï¼Œæ­¤æ—¶éœ€è¦å°†æ­¤é€»è¾‘æ‰§è¡Œè®¡åˆ’è½¬æ¢ä¸ºPhysical Plan</li></ul></blockquote><h3 id="DataSet-æ¦‚å¿µ"><a href="#DataSet-æ¦‚å¿µ" class="headerlink" title="DataSet æ¦‚å¿µ"></a>DataSet æ¦‚å¿µ</h3><p><strong>DataFrame</strong> æ˜¯ <strong>DataSet</strong> çš„ç‰¹ä¾‹ï¼Œ**DataFrame = DataSet[Row]**ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ <code>as</code> æ–¹æ³•å°† DataFrame è½¬æ¢ä¸º DataSetã€‚</p><p><strong>Row</strong> æ˜¯ä¸€ä¸ªé€šç”¨çš„ç±»å‹ï¼Œæ‰€æœ‰çš„è¡¨ç»“æ„ä¿¡æ¯éƒ½ç”¨ Row æ¥è¡¨ç¤ºã€‚</p><p><strong>DataSet</strong> æ˜¯å¼ºç±»å‹çš„ï¼Œå¯ä»¥æœ‰ <strong>DataSet[Car]ï¼ŒDataSet[Person]</strong></p><h3 id="DataFrameã€DataSetã€RDD-è¡¨ç°å½¢å¼çš„åŒºåˆ«"><a href="#DataFrameã€DataSetã€RDD-è¡¨ç°å½¢å¼çš„åŒºåˆ«" class="headerlink" title="DataFrameã€DataSetã€RDD è¡¨ç°å½¢å¼çš„åŒºåˆ«"></a>DataFrameã€DataSetã€RDD è¡¨ç°å½¢å¼çš„åŒºåˆ«</h3><p>å‡è®¾ RDD ä¸­çš„ä¸¤è¡Œæ•°æ®é•¿è¿™æ ·</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904112524752.png" alt="RDD ç¤ºä¾‹"></p><p>é‚£ä¹ˆåœ¨ DataFrame ä¸­çš„æ•°æ®é•¿è¿™æ ·</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904112559381.png" alt="DataFrame ç¤ºä¾‹"></p><p>é‚£ä¹ˆ DataSet ä¸­çš„æ•°æ®é•¿è¿™æ ·</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904112647391.png" alt="DataSet ç¤ºä¾‹"></p><p>ç”±ä¸Šå¯è§â€”â€”</p><h4 id="DataFrame-ä¸-DataSet-çš„åŒºåˆ«"><a href="#DataFrame-ä¸-DataSet-çš„åŒºåˆ«" class="headerlink" title="DataFrame ä¸ DataSet çš„åŒºåˆ«"></a>DataFrame ä¸ DataSet çš„åŒºåˆ«</h4><ul><li><strong>DataFrame</strong><ul><li>DataFrame æ¯ä¸€è¡Œçš„ç±»å‹å›ºå®šä¸º Rowï¼Œåªæœ‰é€šè¿‡è§£ææ‰èƒ½è·å–å„ä¸ªå­—æ®µçš„å€¼ï¼Œ æ¯ä¸€åˆ—çš„å€¼æ²¡æ³•ç›´æ¥è®¿é—®</li><li>DataFrame ç¼–è¯‘å™¨ç¼ºå°‘ç±»å‹å®‰å…¨æ£€æŸ¥</li></ul></li><li><strong>DataSet</strong><ul><li>æ¯ä¸€è¡Œæ˜¯ä»€ä¹ˆç±»å‹æ˜¯ä¸ä¸€å®šçš„ï¼Œå¯ä»¥æ˜¯ Personï¼Œä¹Ÿå¯ä»¥æ˜¯ Row</li><li>DataSet ç±»å‹å®‰å…¨</li></ul></li></ul><h4 id="RDD-ä¸-DataFrame-DataSetçš„åŒºåˆ«"><a href="#RDD-ä¸-DataFrame-DataSetçš„åŒºåˆ«" class="headerlink" title="RDD ä¸ DataFrame / DataSetçš„åŒºåˆ«"></a>RDD ä¸ DataFrame / DataSetçš„åŒºåˆ«</h4><ul><li><strong>RDD</strong><ul><li>ç”¨äº Spark1.X å„æ¨¡å—çš„ API</li><li>ä¸æ”¯æŒ SparkSQL æ“ä½œ</li><li>ä¸æ”¯æŒä»£ç è‡ªåŠ¨ä¼˜åŒ–</li></ul></li><li><strong>DataFrame ä¸ DataSet</strong><ul><li>ç”¨äº Spark2.X å„æ¨¡å—çš„ API</li><li>æ”¯æŒ SparkSQL æ“ä½œï¼Œè¿˜èƒ½æ³¨å†Œä¸´æ—¶è¡¨ï¼Œè¿›è¡Œ SQL è¯­å¥æ“ä½œ</li><li>æ”¯æŒä¸€äº›æ–¹ä¾¿çš„ä¿å­˜æ–¹å¼ï¼Œæ¯”å¦‚ä¿å­˜æˆ csvï¼Œjson ç­‰æ ¼å¼</li><li>åŸºäº SparkSQL å¼•æ“æ„å»ºï¼Œæ”¯æŒä»£ç è‡ªåŠ¨ä¼˜åŒ–</li></ul></li></ul><h4 id="RDD-ä¸-DataFrameã€DataSet-ä¸‰è€…çš„å…±æ€§"><a href="#RDD-ä¸-DataFrameã€DataSet-ä¸‰è€…çš„å…±æ€§" class="headerlink" title="RDD ä¸ DataFrameã€DataSet ä¸‰è€…çš„å…±æ€§"></a>RDD ä¸ DataFrameã€DataSet ä¸‰è€…çš„å…±æ€§</h4><ul><li>ä¸‰è€…éƒ½æ˜¯<strong>åˆ†å¸ƒå¼å¼¹æ€§æ•°æ®é›†</strong>ï¼Œæ”¯æŒç›¸äº’è½¬åŒ–</li><li>ä¸‰è€…æœ‰<strong>è®¸å¤šå…±åŒçš„å‡½æ•°</strong>ï¼Œå¦‚ filterï¼Œæ’åºç­‰</li><li>ä¸‰è€…<strong>éƒ½æ˜¯ Lazyï¼ˆæƒ°æ€§æ“ä½œï¼‰ çš„</strong>ï¼Œåœ¨è¿›è¡Œåˆ›å»ºã€è½¬æ¢æ—¶ï¼Œä¸ä¼šç«‹å³æ‰§è¡Œ<ul><li>åªæœ‰åœ¨é‡åˆ° Action ç®—å­æ—¶ï¼Œæ‰ä¼šå¼€å§‹éå†è¿ç®—</li></ul></li></ul><h2 id="Part-3-Spark-åŸç†ä¸æ¶æ„"><a href="#Part-3-Spark-åŸç†ä¸æ¶æ„" class="headerlink" title="Part 3 Spark åŸç†ä¸æ¶æ„"></a>Part 3 Spark åŸç†ä¸æ¶æ„</h2><h3 id="Spark-ä½“ç³»æ¶æ„"><a href="#Spark-ä½“ç³»æ¶æ„" class="headerlink" title="Spark ä½“ç³»æ¶æ„"></a>Spark ä½“ç³»æ¶æ„</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904113924087.png" alt="Spark ä½“ç³»æ¶æ„"></p><h4 id="Spark-Core"><a href="#Spark-Core" class="headerlink" title="Spark Core"></a>Spark Core</h4><p>ç±»ä¼¼äº MapReduce çš„åˆ†å¸ƒå¼å†…å­˜è®¡ç®—æ¡†æ¶ï¼Œæœ€å¤§çš„ç‰¹ç‚¹æ˜¯<strong>å°†ä¸­é—´è®¡ç®—ç»“æœç›´æ¥æ”¾åœ¨å†…å­˜ä¸­</strong>ï¼Œæå‡è®¡ç®—æ€§èƒ½ã€‚</p><p>è‡ªå¸¦äº† Standalone æ¨¡å¼çš„èµ„æºç®¡ç†æ¡†æ¶ï¼ŒåŒæ—¶ï¼Œä¹Ÿæ”¯æŒYARNã€ MESOSçš„èµ„æºç®¡ç†ç³»ç»Ÿã€‚</p><p>FI é›†æˆçš„æ˜¯ Spark On Yarn çš„æ¨¡å¼ï¼Œå…¶å®ƒæ¨¡å¼æš‚ä¸æ”¯æŒã€‚</p><h4 id="SparkSQL"><a href="#SparkSQL" class="headerlink" title="SparkSQL"></a>SparkSQL</h4><p>Spark SQL æ˜¯ä¸€ä¸ªç”¨äºå¤„ç†ç»“æ„åŒ–æ•°æ®çš„ Spark ç»„ä»¶ï¼Œä½œä¸º Apache  Spark å¤§æ•°æ®æ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äº<strong>ç»“æ„åŒ–æ•°æ®å¤„ç†å’Œå¯¹æ•°æ®æ‰§è¡Œç±»SQLæŸ¥è¯¢</strong>ã€‚</p><p>é€šè¿‡ Spark SQLï¼Œå¯ä»¥é’ˆå¯¹ä¸åŒæ•°æ®æ ¼å¼ï¼ˆå¦‚ï¼šJSONï¼ŒParquetï¼Œ ORCç­‰ï¼‰å’Œæ•°æ®æºæ‰§è¡Œ ETLæ“ä½œï¼ˆå¦‚ï¼šHDFSã€æ•°æ®åº“ç­‰ï¼‰ï¼Œå®Œæˆç‰¹å®šçš„æŸ¥è¯¢æ“ä½œã€‚</p><h4 id="Spark-Streaming"><a href="#Spark-Streaming" class="headerlink" title="Spark Streaming"></a>Spark Streaming</h4><p>å¾®æ‰¹å¤„ç†çš„æµå¤„ç†å¼•æ“ï¼Œå°†æµæ•°æ®åˆ†ç‰‡ä»¥åç”¨ Spark Core çš„è®¡ç®—å¼•æ“ ä¸­è¿›è¡Œå¤„ç†ã€‚ç›¸å¯¹äºStormï¼Œå®æ—¶æ€§ç¨å·®ï¼Œä¼˜åŠ¿<strong>ä½“ç°åœ¨ååé‡ä¸Š</strong></p><h4 id="MLlib-å’Œ-GraphX"><a href="#MLlib-å’Œ-GraphX" class="headerlink" title="MLlib å’Œ GraphX"></a>MLlib å’Œ GraphX</h4><p>ä¸»è¦ä¸€äº›ç®—æ³•åº“ï¼ˆæœºå™¨å­¦ä¹ ç®—æ³•åº“å’Œå›¾è®¡ç®—ç®—æ³•åº“ï¼‰</p><h4 id="Structured-Streaming"><a href="#Structured-Streaming" class="headerlink" title="Structured Streaming"></a>Structured Streaming</h4><p>ä¸º 2.0 ç‰ˆæœ¬ä¹‹åçš„ Spark ç‹¬æœ‰ï¼Œå¸æ”¶äº†ä¸€äº› Flink çš„ç‰¹æ€§å’ŒåŠŸèƒ½</p><h3 id="å…¸å‹æ¡ˆä¾‹-WordCount"><a href="#å…¸å‹æ¡ˆä¾‹-WordCount" class="headerlink" title="å…¸å‹æ¡ˆä¾‹ - WordCount"></a>å…¸å‹æ¡ˆä¾‹ - WordCount</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904114425809.png" alt="WordCountæ¡ˆä¾‹"></p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904114503856.png" alt="Scalaæ ¸å¿ƒä»£ç "></p><h3 id="Spark-SQL-æ¦‚è¿°"><a href="#Spark-SQL-æ¦‚è¿°" class="headerlink" title="Spark SQL æ¦‚è¿°"></a>Spark SQL æ¦‚è¿°</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904114704510.png" alt="Spark SQL"></p><p><strong>Spark SQL</strong> æ˜¯ <strong>Spark</strong> ä¸­ç”¨äº<strong>ç»“æ„åŒ–æ•°æ®å¤„ç†çš„æ¨¡å—</strong>ã€‚åœ¨ <strong>Spark</strong> åº”ç”¨ä¸­ï¼Œå¯ä»¥æ— ç¼åœ°ä½¿ç”¨ SQL è¯­å¥äº¦æˆ–æ˜¯ <strong>DataFrame API</strong> å¯¹ç»“æ„åŒ–æ•°æ®è¿›è¡ŒæŸ¥è¯¢ã€‚</p><p>Spark SQL å¯¹ SQL è¯­å¥çš„å¤„ç†å’Œå…³ç³»å‹æ•°æ®åº“é‡‡ç”¨äº†ç±»ä¼¼çš„æ–¹æ³•ï¼ŒSparkSQL å…ˆä¼šå°† SQL è¯­å¥è¿›è¡Œè§£æï¼ˆParseï¼‰å½¢æˆä¸€ä¸ª Treeï¼Œ ç„¶åä½¿ç”¨ Rule å¯¹ Tree è¿›è¡Œç»‘å®šã€ ä¼˜åŒ–ç­‰å¤„ç†è¿‡ç¨‹</p><ul><li><strong>è¯æ³•å’Œè¯­æ³•è§£æï¼ˆParseï¼‰</strong><ul><li>å¯¹è¯»å…¥çš„ SQL è¯­å¥è¿›è¡Œè¯æ³•å’Œè¯­æ³•è§£æï¼ˆParseï¼‰ï¼Œåˆ†è¾¨å‡º SQL è¯­å¥ä¸­é‚£äº›è¯æ˜¯å…³é”®è¯ï¼ˆå¦‚ SELECTã€FROMã€WHEREï¼‰ï¼Œå“ªäº›æ˜¯è¡¨è¾¾å¼ï¼Œå“ªäº›æ˜¯ Projectionï¼Œå“ªäº›æ˜¯ Data Source ç­‰ï¼Œåˆ¤æ–­ SQL è¯­å¥æ˜¯å¦è§„èŒƒï¼Œå¹¶å½¢æˆé€»è¾‘è®¡åˆ’</li></ul></li><li><strong>ç»‘å®šï¼ˆBindï¼‰</strong><ul><li>å°†SQLè¯­å¥å’Œæ•°æ®åº“çš„æ•°æ®å­—å…¸ï¼ˆåˆ—ã€ è¡¨å’Œè§†å›¾ç­‰ï¼‰è¿›è¡Œç»‘å®š(Bind)ï¼Œå¦‚æœç›¸å…³çš„ Projection å’Œ Data Source ç­‰éƒ½å­˜åœ¨çš„è¯ï¼Œåˆ™è¡¨ç¤ºè¿™ä¸ª SQL è¯­å¥æ˜¯å¯ä»¥æ‰§è¡Œçš„</li></ul></li><li><strong>ä¼˜åŒ–ï¼ˆOptimizeï¼‰</strong><ul><li>Spark SQL ä¼šæä¾›å‡ ä¸ªæ‰§è¡Œè®¡åˆ’ï¼Œè¿”å›ä»æ•°æ®åº“æŸ¥è¯¢çš„æ•°æ®é›†</li></ul></li><li><strong>æ‰§è¡Œï¼ˆExecuteï¼‰</strong><ul><li>æ‰§è¡Œå‰é¢æ­¥éª¤è·å–çš„æœ€ä¼˜æ‰§è¡Œè®¡åˆ’ï¼Œè¿”å›ä»æ•°æ®åº“æŸ¥è¯¢çš„æ•°æ®é›†</li></ul></li></ul><h3 id="Spark-SQL-å’Œ-Hive-å¯¹æ¯”"><a href="#Spark-SQL-å’Œ-Hive-å¯¹æ¯”" class="headerlink" title="Spark SQL å’Œ Hive å¯¹æ¯”"></a>Spark SQL å’Œ Hive å¯¹æ¯”</h3><p>ä¸¤è€…åŒºåˆ«åœ¨äºâ€”â€”</p><ul><li><strong>Spark SQL</strong> çš„æ‰§è¡Œå¼•æ“ä¸º <strong>Spark Core</strong>ï¼Œ<strong>Hive</strong> é»˜è®¤æ‰§è¡Œå¼•æ“æ˜¯ <strong>MapReduce</strong></li><li><strong>Spark SQL</strong> çš„æ‰§è¡Œé€Ÿåº¦æ˜¯ <strong>Hive</strong> çš„ 10 - 100 å€</li><li><strong>Spark SQL</strong> ä¸æ”¯æŒ <strong>bucketsï¼ŒHive</strong> æ”¯æŒ</li></ul><p>ä¸¤è€…çš„è”ç³»åœ¨äºâ€”â€”</p><ul><li><strong>Spark SQL</strong> ä¾èµ– <strong>Hive</strong> çš„å…ƒæ•°æ®</li><li><strong>Spark SQL</strong> å…¼å®¹ç»å¤§éƒ¨åˆ† <strong>Hive</strong> çš„è¯­æ³•å’Œå‡½æ•°</li><li><strong>Spark SQL</strong> å¯ä»¥ä½¿ç”¨ <strong>Hive</strong> çš„è‡ªå®šä¹‰å‡½æ•°</li></ul><p><strong>Spark SQL</strong> å’Œ <strong>Hive</strong> çš„è¯­æ³•é™¤äº†<strong>æ¡¶è¡¨æ“ä½œå¤–</strong>ï¼ŒåŸºæœ¬ä¸€è‡´ï¼Œä¸” <strong>Spark SQL</strong> å®Œç¾å…¼å®¹ <strong>Hive</strong> çš„å‡½æ•°ã€‚</p><h3 id="Structured-Streaming-æ¦‚è¿°"><a href="#Structured-Streaming-æ¦‚è¿°" class="headerlink" title="Structured Streaming æ¦‚è¿°"></a>Structured Streaming æ¦‚è¿°</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904120551029.png" alt="Structured Streaming æ¦‚è¿°"></p><p><strong>Structured Streaming</strong> æ˜¯æ„å»ºåœ¨ <strong>Spark SQL</strong> å¼•æ“ä¸Šçš„æµå¼æ•°æ®å¤„ç†å¼•æ“ï¼Œå¯ä»¥åƒä½¿ç”¨é™æ€ RDD æ•°æ®é‚£æ ·ç¼–å†™æµå¼è®¡ç®—è¿‡ç¨‹ã€‚</p><p>å½“æµæ•°æ®è¿ç»­ä¸æ–­çš„äº§ç”Ÿæ—¶ï¼Œ<strong>Spark SQL</strong> å°†ä¼š<strong>å¢é‡åœ°ã€æŒç»­ä¸æ–­åœ°å¤„ç†</strong>è¿™äº›æ•°æ®ï¼Œå¹¶å°†ç»“æœæ›´æ–°åˆ°ç»“æœé›†ä¸­ã€‚</p><p><strong>Structured Streaming</strong> çš„æ ¸å¿ƒæ˜¯<strong>å°†æµå¼çš„æ•°æ®çœ‹æˆä¸€å¼ æ•°æ®ä¸æ–­å¢åŠ çš„æ•°æ®åº“è¡¨</strong></p><ul><li>è¿™ç§æµå¼çš„æ•°æ®å¤„ç†æ¨¡å‹ç±»ä¼¼äºæ•°æ®å—å¤„ç†æ¨¡å‹ï¼Œå¯ä»¥æŠŠé™æ€æ•°æ®åº“è¡¨çš„ä¸€äº›æŸ¥è¯¢æ“ä½œåº”ç”¨åœ¨æµå¼è®¡ç®—ä¸­ï¼ŒSpark æ‰§è¡Œæ ‡å‡†çš„ SQL æŸ¥è¯¢ï¼Œä»æ— è¾¹ç•Œè¡¨ä¸­è·å–æ•°æ®</li><li>æ— è¾¹ç•Œè¡¨ï¼šæ–°æ•°æ®ä¸æ–­åˆ°æ¥ï¼Œæ—§æ•°æ®ä¸æ–­ä¸¢å¼ƒï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªè¿ç»­ä¸æ–­çš„ç»“æ„åŒ–æ•°æ®æµ</li></ul><h4 id="è®¡ç®—æ¨¡å‹ç¤ºä¾‹"><a href="#è®¡ç®—æ¨¡å‹ç¤ºä¾‹" class="headerlink" title="è®¡ç®—æ¨¡å‹ç¤ºä¾‹"></a>è®¡ç®—æ¨¡å‹ç¤ºä¾‹</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904120848499.png" alt="Structured Streaming è®¡ç®—æ¨¡å‹ç¤ºä¾‹"></p><ul><li>ç¬¬ä¸€ä¸ª lines DataFrame å¯¹è±¡æ˜¯ä¸€å¼ æ•°æ®è¾“å…¥çš„ Input Tableï¼Œæœ€åçš„ WordCounts  DataFrame æ˜¯ä¸€ä¸ªç»“æœé›† Result Table</li><li>åœ¨ lines DataFrame æ•°æ®æµä¹‹ä¸Šçš„æŸ¥è¯¢äº§ç”Ÿäº† WordCounts çš„è¡¨ç¤ºæ–¹å¼å’Œåœ¨é™æ€çš„ Static DataFrame ä¸Šçš„ä½¿ç”¨æ–¹å¼ç›¸åŒã€‚</li><li>ç„¶è€Œï¼Œ Spark ä¼šç›‘æ§ socket è¿æ¥ï¼Œè·å–æ–°çš„æŒç»­ä¸æ–­äº§ç”Ÿçš„æ•°æ®ã€‚</li><li>å½“æ–°çš„æ•°æ®äº§ç”Ÿæ—¶ï¼ŒSpark å°†ä¼šåœ¨æ–°æ•°æ®ä¸Šè¿è¡Œä¸€ä¸ªå¢é‡çš„ counts æŸ¥è¯¢ï¼Œå¹¶ä¸”æ•´åˆæ–°çš„ counts å’Œä¹‹å‰å·²ç»è®¡ç®—å‡ºæ¥çš„ countsï¼Œè·å–æ›´æ–°åçš„ counts</li></ul><h3 id="Spark-Streaming-æ¦‚è¿°"><a href="#Spark-Streaming-æ¦‚è¿°" class="headerlink" title="Spark Streaming æ¦‚è¿°"></a>Spark Streaming æ¦‚è¿°</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904121518306.png" alt="Spark Streaming æ¦‚è¿°"></p><p><strong>Spark Sreaming</strong> çš„åŸºæœ¬åŸç†æ˜¯<strong>å°†å®æ—¶è¾“å…¥æ•°æ®æµä»¥æ—¶é—´ç‰‡ï¼ˆç§’çº§ï¼‰ä¸ºå•ä½</strong>è¿›è¡Œæ‹†åˆ†ï¼Œç„¶åç» <strong>Spark</strong> å¼•æ“ä»¥ç±»ä¼¼æ‰¹å¤„ç†çš„æ–¹å¼å¤„ç†æ¯ä¸ªæ—¶é—´ç‰‡æ•°æ®ã€‚</p><ul><li>æŠŠè¾“å…¥æ•°æ®ä»¥ç§’ï¼ˆæ¯«ç§’ï¼‰ä¸ºå•ä½åˆ‡åˆ†ï¼Œå†å®šæ—¶æäº¤è¿™äº›åˆ‡åˆ†åçš„æ•°æ®</li></ul><h3 id="çª—å£é—´éš”å’Œæ»‘åŠ¨é—´éš”"><a href="#çª—å£é—´éš”å’Œæ»‘åŠ¨é—´éš”" class="headerlink" title="çª—å£é—´éš”å’Œæ»‘åŠ¨é—´éš”"></a>çª—å£é—´éš”å’Œæ»‘åŠ¨é—´éš”</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904121626600.png" alt="çª—å£é—´éš”å’Œæ»‘åŠ¨é—´éš”"></p><p>çª—å£åœ¨ DStream ä¸Šåä¸œï¼Œåˆå¹¶å’Œæ“ä½œè½å…¥çª—å£å†…çš„ RDDsï¼Œäº§ç”Ÿçª—å£åŒ–çš„ RDDs</p><ul><li><strong>çª—å£é•¿åº¦ï¼š</strong>çª—å£çš„æŒç»­æ—¶é—´</li><li><strong>æ»‘åŠ¨çª—å£é—´éš”ï¼š</strong>çª—å£æ“ä½œæ‰§è¡Œçš„æ—¶é—´é—´éš”</li></ul><h3 id="Spark-Streaming-å’Œ-Storm-å¯¹æ¯”"><a href="#Spark-Streaming-å’Œ-Storm-å¯¹æ¯”" class="headerlink" title="Spark Streaming å’Œ Storm å¯¹æ¯”"></a>Spark Streaming å’Œ Storm å¯¹æ¯”</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210904121755263.png" alt="Spark Streaming å’Œ Storm å¯¹æ¯”"></p><p>äº‹å®ä¸Šï¼ŒSpark Streaming ç»å¯¹è°ˆä¸ä¸Šæ¯” Storm ä¼˜ç§€ã€‚è¿™ä¸¤ä¸ªæ¡†æ¶åœ¨å®æ—¶è®¡ç®—é¢†åŸŸä¸­ï¼Œéƒ½å¾ˆä¼˜ç§€ï¼Œåªæ˜¯æ“…é•¿çš„ç»†åˆ†åœºæ™¯å¹¶ä¸ç›¸åŒã€‚Spark Streaming <strong>ä»…ä»…åœ¨ååé‡ä¸Š</strong>æ¯” Storm è¦ä¼˜ç§€ã€‚</p><h4 id="å¯¹äº-Storm-æ¥è¯´"><a href="#å¯¹äº-Storm-æ¥è¯´" class="headerlink" title="å¯¹äº Storm æ¥è¯´"></a>å¯¹äº Storm æ¥è¯´</h4><ul><li>å»ºè®®åœ¨é‚£ç§éœ€è¦çº¯å®æ—¶ï¼Œä¸èƒ½å¿å—1ç§’ä»¥ä¸Šå»¶è¿Ÿçš„åœºæ™¯ä¸‹ä½¿ç”¨ï¼Œæ¯”å¦‚å®æ—¶é‡‘èç³»ç»Ÿï¼Œ è¦æ±‚çº¯å®æ—¶è¿›è¡Œé‡‘èäº¤æ˜“å’Œåˆ†æ</li><li>å¦‚æœå¯¹äºå®æ—¶è®¡ç®—çš„åŠŸèƒ½ä¸­ï¼Œ<strong>è¦æ±‚å¯é çš„äº‹åŠ¡æœºåˆ¶å’Œå¯é æ€§æœºåˆ¶</strong>ï¼Œå³<strong>æ•°æ®çš„å¤„ç†å®Œå…¨ç²¾å‡†</strong>ï¼Œä¸€æ¡ä¹Ÿä¸èƒ½å¤šï¼Œä¸€æ¡ä¹Ÿä¸èƒ½å°‘ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨ Storm</li><li>å¦‚æœè¿˜éœ€è¦é’ˆå¯¹é«˜å³°ä½å³°æ—¶é—´æ®µï¼Œ<strong>åŠ¨æ€è°ƒæ•´å®æ—¶è®¡ç®—ç¨‹åºçš„å¹¶è¡Œåº¦</strong>ï¼Œä»¥æœ€å¤§é™åº¦åˆ©ç”¨é›†ç¾¤èµ„æºï¼ˆé€šå¸¸æ˜¯åœ¨å°å‹å…¬å¸ï¼Œé›†ç¾¤èµ„æºç´§å¼ çš„æƒ…å†µï¼‰ï¼Œä¹Ÿå¯ä»¥è€ƒè™‘ç”¨ Storm</li><li>å¦‚æœä¸€ä¸ªå¤§æ•°æ®åº”ç”¨ç³»ç»Ÿï¼Œå®ƒå°±æ˜¯<strong>çº¯ç²¹çš„å®æ—¶è®¡ç®—</strong>ï¼Œä¸éœ€è¦åœ¨ä¸­é—´æ‰§è¡Œ SQL äº¤äº’å¼ æŸ¥è¯¢ã€å¤æ‚çš„ Transformation ç®—å­ç­‰ï¼Œé‚£ä¹ˆç”¨ Storm æ˜¯æ¯”è¾ƒå¥½çš„é€‰æ‹©</li></ul><h4 id="å¯¹äºSpark-Streamingæ¥è¯´"><a href="#å¯¹äºSpark-Streamingæ¥è¯´" class="headerlink" title="å¯¹äºSpark Streamingæ¥è¯´"></a>å¯¹äºSpark Streamingæ¥è¯´</h4><ul><li>å¦‚æœå¯¹ä¸Šè¿°é€‚ç”¨äº Storm çš„ä¸‰ç‚¹ï¼Œä¸€æ¡éƒ½ä¸æ»¡è¶³çš„å®æ—¶åœºæ™¯ï¼Œå³ä¸è¦æ±‚çº¯å®æ—¶ï¼Œä¸è¦æ±‚å¼ºå¤§å¯é çš„äº‹åŠ¡æœºåˆ¶ï¼Œä¸è¦æ±‚åŠ¨æ€è°ƒæ•´å¹¶è¡Œåº¦ï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘ä½¿ç”¨ Spark  Streaming</li><li>ä½äº Spark ç”Ÿæ€æŠ€æœ¯æ ˆä¸­ï¼Œå› æ­¤ Spark Streaming å¯ä»¥å’Œ Spark Coreã€Spark  SQL æ— ç¼æ•´åˆï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å®æ—¶å¤„ç†å‡ºæ¥çš„ä¸­é—´æ•°æ®ï¼Œç«‹å³åœ¨ç¨‹åºä¸­æ— ç¼è¿›è¡Œå»¶è¿Ÿæ‰¹å¤„ç†ã€äº¤äº’å¼æŸ¥è¯¢ç­‰æ“ä½œã€‚è¿™ä¸ªç‰¹ç‚¹å¤§å¤§å¢å¼ºäº† Spark Streaming çš„ä¼˜åŠ¿å’ŒåŠŸèƒ½</li></ul>]]></content>
    
    
    <categories>
      
      <category>Big Data Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Big Data Intro - Chapter 5</title>
    <link href="/2021/09/03/Big-Data-Intro-Chapter-5/"/>
    <url>/2021/09/03/Big-Data-Intro-Chapter-5/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬05ç« -MapReduceå’ŒYarnæŠ€æœ¯åŸç†"><a href="#ç¬¬05ç« -MapReduceå’ŒYarnæŠ€æœ¯åŸç†" class="headerlink" title="ç¬¬05ç«  MapReduceå’ŒYarnæŠ€æœ¯åŸç†"></a>ç¬¬05ç«  MapReduceå’ŒYarnæŠ€æœ¯åŸç†</h1><h2 id="Part-1-MapReduce-å’Œ-YARN-åŸºæœ¬ä»‹ç»"><a href="#Part-1-MapReduce-å’Œ-YARN-åŸºæœ¬ä»‹ç»" class="headerlink" title="Part 1 MapReduce å’Œ YARN åŸºæœ¬ä»‹ç»"></a>Part 1 MapReduce å’Œ YARN åŸºæœ¬ä»‹ç»</h2><h3 id="MapReduce-æ¦‚è¿°"><a href="#MapReduce-æ¦‚è¿°" class="headerlink" title="MapReduce æ¦‚è¿°"></a>MapReduce æ¦‚è¿°</h3><p><strong>MR</strong> ç”¨äºå¤§è§„æ¨¡æ•°æ®é›†ï¼ˆå¤§äº1TBï¼‰çš„å¹¶è¡Œè®¡ç®—å’Œç¦»çº¿è®¡ç®—ï¼Œå…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>é«˜åº¦æŠ½è±¡çš„ç¼–ç¨‹æ€æƒ³ï¼šç¨‹åºå‘˜ä»…éœ€æè¿°åšä»€ä¹ˆï¼Œå…·ä½“æ€ä¹ˆåšäº¤ç”±ç³»ç»Ÿçš„æ‰§è¡Œæ¡†æ¶å¤„ç†</li><li>è‰¯å¥½çš„æ‰©å±•æ€§ï¼šå¯é€šè¿‡æ·»åŠ èŠ‚ç‚¹ä»¥çº¿æ€§æ‰©å±•é›†ç¾¤èƒ½åŠ›</li><li>é«˜å®¹é”™æ€§ï¼šé€šè¿‡è®¡ç®—è¿ç§»æˆ–æ•°æ®è¿ç§»ç­‰ç­–ç•¥æé«˜é›†ç¾¤çš„å¯ç”¨æ€§ä¸å®¹é”™æ€§</li></ul><p>ç®€è€Œè¨€ä¹‹ï¼Œä¸‰ä¸ªä½œç”¨â€”â€”</p><ul><li><strong>MapReduce</strong> æ˜¯ä¸€ä¸ª<strong>åŸºäºé›†ç¾¤çš„é«˜æ€§èƒ½å¹¶è¡Œè®¡ç®—å¹³å°</strong></li><li><strong>MapReduce</strong> æ˜¯ä¸€ä¸ª<strong>å¹¶è¡Œè®¡ç®—ä¸è¿è¡Œè½¯ä»¶æ¡†æ¶</strong></li><li><strong>MapReduce</strong> æ˜¯ä¸€ä¸ª<strong>å¹¶è¡Œç¨‹åºè®¾è®¡æ¨¡å‹ä¸æ–¹æ³•</strong></li></ul><h3 id="èµ„æºè°ƒåº¦ä¸åˆ†é…"><a href="#èµ„æºè°ƒåº¦ä¸åˆ†é…" class="headerlink" title="èµ„æºè°ƒåº¦ä¸åˆ†é…"></a>èµ„æºè°ƒåº¦ä¸åˆ†é…</h3><p>éšç€å¤§æ•°æ®åˆ†æçš„è“¬å‹ƒå‘å±•ï¼Œå°±éœ€è¦æ›´åŠ å¤šæ ·æ€§çš„åˆ†å¸ƒå¼ç¼–ç¨‹èŒƒå¼ï¼Œæ¯”å¦‚å®æ—¶æ•°æ®å¤„ç†ã€å†…å­˜è®¡ç®—ã€å›¾è®¡ç®—ç­‰ç­‰ã€‚</p><p>ç¼–ç¨‹èŒƒå¼çš„å¤šæ ·åŒ–å¯¹è¿è¡Œæ—¶ç¯å¢ƒæå‡ºäº†æ›´å¤§çš„æŒ‘æˆ˜ï¼Œå³è¿è¡Œæ—¶ç¯å¢ƒéœ€è¦æ›´é€šç”¨ï¼Œä»¥æ”¯æŒä¸åŒçš„ç¼–ç¨‹æ¨¡å‹ï¼Œè€Œä¸æ˜¯åƒ <strong>mapreduce</strong> æ¡†æ¶é‚£æ ·åªæ”¯æŒ <strong>mapreduce</strong> è¿™ç§ç¼–ç¨‹èŒƒå¼ã€‚</p><p>ä¸åŒçš„ç¼–ç¨‹èŒƒå¼ï¼Œæˆ–è€…è¯´ä¸åŒçš„è®¡ç®—ä»»åŠ¡ï¼Œå¯¹èµ„æºï¼ˆå¦‚CPUã€å†…å­˜ï¼‰çš„éœ€æ±‚æ˜¯ä¸åŒçš„ï¼Œå› æ­¤éœ€è¦ä¼˜ç§€çš„è°ƒåº¦ç­–ç•¥ï¼Œåœ¨æ»¡è¶³åº”ç”¨çš„ç‰¹æ®Šéœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œæœ€å¤§åŒ–åˆ©ç”¨èµ„æºï¼ŒåŒæ—¶ä¹Ÿéœ€è¦åšå¥½ä»»åŠ¡ä¹‹é—´çš„éš”ç¦»ï¼Œé¿å…ç›¸äº’å½±å“ã€‚</p><p><strong>MRv1</strong> ä¸­å­˜åœ¨ç€ä¸è¶³â€”â€”</p><ol><li>å•ç‚¹ master æ•…éšœçš„ä¸å¯é é—®é¢˜ï¼ˆä¾èµ–äºå‘¨æœŸæ€§ checkpointï¼‰</li><li>æ²¡æœ‰åŒºåˆ†<strong>ä½œä¸šè°ƒåº¦å’Œèµ„æºè°ƒåº¦</strong></li><li>æ²¡æœ‰æåˆ°<strong>èµ„æºéš”ç¦»ä¸å®‰å…¨æ€§</strong></li></ol><h3 id="YARN-æ¦‚è¿°"><a href="#YARN-æ¦‚è¿°" class="headerlink" title="YARN æ¦‚è¿°"></a>YARN æ¦‚è¿°</h3><p><strong>YARNï¼ˆYet Another Resource Negotiatorï¼‰</strong> æ˜¯ä¸€ä¸ª<strong>é€šç”¨èµ„æºç®¡ç†ç³»ç»Ÿ</strong>ï¼Œå¯ä¸ºä¸Šå±‚åº”ç”¨æä¾›ç»Ÿä¸€çš„èµ„æºç®¡ç†å’Œè°ƒåº¦ã€‚</p><p>å¹¶ä¸”ä¼˜äº <strong>Yarn</strong> æ˜¯è½»é‡çº§å¼¹æ€§è®¡ç®—å¹³å°ï¼Œé™¤äº† MapReduce æ¡†æ¶ï¼Œè¿˜å¯ä»¥æ”¯æŒå…¶ä»–æ¡†æ¶ï¼Œæ¯”å¦‚ Sparkã€ Storm ç­‰ã€‚å¤šç§æ¡†æ¶ç»Ÿä¸€ç®¡ç†ï¼Œå…±äº«é›†ç¾¤èµ„æºï¼š</p><ul><li>èµ„æºåˆ©ç”¨ç‡é«˜</li><li>è¿ç»´æˆæœ¬ä½</li><li>æ•°æ®å…±äº«æ–¹ä¾¿</li></ul><h2 id="Part-2-MapReduce-å’Œ-YARN-åŠŸèƒ½ä¸æ¶æ„"><a href="#Part-2-MapReduce-å’Œ-YARN-åŠŸèƒ½ä¸æ¶æ„" class="headerlink" title="Part 2 MapReduce å’Œ YARN åŠŸèƒ½ä¸æ¶æ„"></a>Part 2 MapReduce å’Œ YARN åŠŸèƒ½ä¸æ¶æ„</h2><h3 id="MapReduce-è¿‡ç¨‹"><a href="#MapReduce-è¿‡ç¨‹" class="headerlink" title="MapReduce è¿‡ç¨‹"></a>MapReduce è¿‡ç¨‹</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903112315362.png" alt="MapReduceå·¥ä½œæµç¨‹"></p><p><strong>MapReduce</strong> è®¡ç®—è¿‡ç¨‹å¯å…·ä½“åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œ<strong>Map</strong> é˜¶æ®µå’Œ <strong>Reduce</strong> é˜¶æ®µï¼Œå…¶ä¸­ <strong>Map</strong> é˜¶æ®µè¾“å‡ºçš„ç»“æœå°±æ˜¯ <strong>Reduce</strong> é˜¶æ®µçš„è¾“å…¥â€”â€”</p><ul><li><strong>Map</strong> é˜¶æ®µé¢å¯¹çš„æ˜¯æ‚ä¹±æ— ç« çš„äº’ä¸ç›¸å…³çš„æ•°æ®ï¼Œå®ƒè§£ææ¯ä¸ªæ•°æ®ï¼Œä»ä¸­æå–å‡º <strong>key å’Œ Value</strong>ï¼Œä¹Ÿå°±æ˜¯æå–äº†<strong>æ•°æ®çš„ç‰¹å¾</strong></li><li><strong>Reduce</strong> é˜¶æ®µæ•°æ®æ˜¯ä»¥ <strong>key</strong> åé¢è·Ÿç€è‹¥å¹²ä¸ª <strong>value</strong> æ¥ç»„ç»‡çš„ï¼Œè¿™äº› <strong>value</strong> å…·æœ‰ <strong>ç›¸å…³æ€§</strong>ã€‚åœ¨æ­¤åŸºç¡€ä¸Šæˆ‘ä»¬å¯ä»¥åšè¿›ä¸€æ­¥çš„å¤„ç†ä»¥ä¾¿å¾—åˆ°ç»“æœ</li></ul><p>åŒæ—¶ï¼Œ<strong>MapReduce</strong> å·¥ä½œæµç¨‹ä¹Ÿå…·æœ‰ä¸€å®šçš„ç‰¹ç‚¹â€”â€”</p><ul><li>ä¸åŒçš„ <strong>Map</strong> ä»»åŠ¡ä¹‹é—´<strong>ä¸ä¼šè¿›è¡Œé€šä¿¡</strong></li><li>ä¸åŒçš„ <strong>Reduce</strong> ä»»åŠ¡ä¹‹é—´ä¹Ÿ<strong>ä¸ä¼šå‘ç”Ÿä»»ä½•ä¿¡æ¯äº¤æ¢</strong></li><li>ç”¨æˆ·<strong>ä¸èƒ½æ˜¾å¼åœ°</strong>ä»ä¸€å°æœºå™¨å‘å¦ä¸€å°æœºå™¨å‘é€æ¶ˆæ¯</li><li><strong>æ‰€æœ‰çš„æ•°æ®äº¤æ¢</strong>éƒ½æ˜¯é€šè¿‡ <strong>MapReduce</strong> æ¡†æ¶<strong>è‡ªèº«</strong>å»å®ç°çš„</li></ul><h4 id="Map-é˜¶æ®µè¯¦è§£"><a href="#Map-é˜¶æ®µè¯¦è§£" class="headerlink" title="Map é˜¶æ®µè¯¦è§£"></a>Map é˜¶æ®µè¯¦è§£</h4><p><strong>Job</strong> æäº¤å‰ï¼Œå…ˆå°†å¾…å¤„ç†çš„æ–‡ä»¶è¿›è¡Œ<strong>åˆ†ç‰‡ï¼ˆSplitï¼‰</strong>ï¼Œ<strong>MR</strong> æ¡†æ¶é»˜è®¤å°†ä¸€ä¸ª<strong>å—ï¼ˆBlockï¼‰</strong>ä½œä¸ºä¸€ä¸ªåˆ†ç‰‡ã€‚å®¢æˆ·ç«¯åº”ç”¨å¯ä»¥é‡æ–°å®šä¹‰<strong>å—ä¸åˆ†ç‰‡çš„æ˜ å°„å…³ç³»</strong></p><p><strong>Map</strong> é˜¶æ®µå…ˆæŠŠæ•°æ®æ”¾å…¥ä¸€ä¸ªç¯å½¢å†…å­˜ç¼“å†²åŒºï¼Œå½“ç¼“å†²åŒºæ•°æ®è¾¾åˆ° 80% å·¦å³æ—¶å‘ç”Ÿ<strong>æº¢å†™ï¼ˆSpillï¼‰</strong>ï¼Œéœ€å°†ç¼“å†²åŒºä¸­çš„æ•°æ®å†™å…¥åˆ°æœ¬åœ°ç£ç›˜ï¼Œç”Ÿæˆ <strong>MapOutFileï¼ˆMOFï¼‰</strong></p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903113350466.png" alt="Map é˜¶æ®µ"></p><p><strong>å†™å…¥æœ¬åœ°ç£ç›˜ä¹‹å‰</strong>é€šå¸¸éœ€è¦åšå¦‚ä¸‹å¤„ç†</p><ul><li><strong>åˆ†åŒº (Partition)ï¼š</strong>é»˜è®¤é‡‡ç”¨ <strong>Hash ç®—æ³•</strong>è¿›è¡Œåˆ†åŒºï¼Œ<strong>MR</strong> æ¡†æ¶æ ¹æ® <strong>Reduce Task</strong> ä¸ªæ•°æ¥ç¡®å®šåˆ†åŒºä¸ªæ•°ã€‚å…·å¤‡ç›¸åŒ <strong>Key</strong> å€¼çš„è®°å½•æœ€ç»ˆè¢«é€åˆ°ç›¸åŒçš„ <strong>Reduce Task</strong> æ¥å¤„ç†</li><li><strong>æ’åº (Sort)ï¼š</strong>å°†Mapè¾“å‡ºçš„è®°å½•æ’åº<ul><li>ä¾‹å¦‚å°† (â€˜Hiâ€™ï¼Œâ€™1â€™)ï¼Œ(â€˜Helloâ€™ï¼Œâ€™1â€™) é‡æ–°æ’åºä¸º (â€˜Helloâ€™ï¼Œâ€™1â€™)ï¼Œ(â€™Hiâ€™ï¼Œâ€™1â€™)</li></ul></li><li><strong>ç»„åˆ (Combine)ï¼š</strong>è¿™ä¸ªåŠ¨ä½œMRæ¡†æ¶é»˜è®¤æ˜¯å¯é€‰çš„<ul><li>ä¾‹å¦‚å°† (â€™Hiâ€™ï¼Œâ€™1â€™)ï¼Œ(â€™Hiâ€™ï¼Œâ€™1â€™)ï¼Œ(â€˜Helloâ€™ï¼Œâ€™1â€™)ï¼Œ(Helloâ€™ï¼Œâ€™1â€™)è¿›è¡Œåˆå¹¶æ“ä½œä¸º (â€™Hiâ€™ï¼Œâ€™2â€™)ï¼Œ(â€˜Helloâ€™ï¼Œâ€™2â€™)</li></ul></li><li><strong>åˆå¹¶ (Spill)ï¼š</strong> <strong>Map Task</strong> åœ¨å¤„ç†åä¼šäº§ç”Ÿå¾ˆå¤šçš„<strong>æº¢å‡ºæ–‡ä»¶ï¼ˆspill fileï¼‰</strong>ï¼Œè¿™æ—¶éœ€å°†å¤šä¸ªæº¢å‡ºæ–‡ä»¶è¿›è¡Œåˆå¹¶å¤„ç†ï¼Œç”Ÿæˆä¸€ä¸ªç»è¿‡<strong>åˆ†åŒºå’Œæ’åºçš„Spill File (MOF:MapOutFile)</strong><ul><li>ä¸ºå‡å°‘å†™å…¥ç£ç›˜çš„æ•°æ®é‡ï¼ŒMR æ”¯æŒå¯¹ MOF è¿›è¡Œå‹ç¼©åå†å†™å…¥</li></ul></li></ul><p><strong>åˆå¹¶ï¼ˆCombineï¼‰å’Œå½’å¹¶ï¼ˆMergeï¼‰</strong>çš„åŒºåˆ«ï¼Œåœ¨äºå¯¹ä¸¤ä¸ªé”®å€¼å¯¹ &lt;â€œaâ€ï¼Œ1&gt; å’Œ &lt;â€œaâ€ï¼Œ1&gt; æ¥è¯´ï¼š</p><ul><li>å¦‚æœåˆå¹¶ï¼Œä¼šå¾—åˆ°&lt;â€œaâ€ï¼Œ2&gt;</li><li>å¦‚æœå½’å¹¶ï¼Œä¼šå¾—åˆ° &lt;â€œaâ€ï¼Œ&lt;1ï¼Œ1&gt;&gt;</li></ul><h4 id="Reduce-é˜¶æ®µè¯¦è§£"><a href="#Reduce-é˜¶æ®µè¯¦è§£" class="headerlink" title="Reduce é˜¶æ®µè¯¦è§£"></a>Reduce é˜¶æ®µè¯¦è§£</h4><p>åœ¨ <strong>Map</strong> é˜¶æ®µæˆ‘ä»¬æåˆ° <strong>MOF</strong> æ–‡ä»¶æ˜¯ç»è¿‡æ’åºå¤„ç†çš„ã€‚å½“ <strong>Reduce Task</strong> æ¥å—çš„æ•°æ®é‡ä¸å¤§æ—¶ï¼Œåˆ™ç›´æ¥å­˜æ”¾åœ¨<strong>å†…å­˜ç¼“å†²åŒº</strong>ä¸­ã€‚</p><p>éšç€ç¼“å†²åŒºæ–‡ä»¶çš„å¢å¤šï¼Œ<strong>MR</strong> åå°çº¿ç¨‹å°†ä»–ä»¬åˆå¹¶æˆä¸€ä¸ªæ›´å¤§çš„æœ‰åºæ–‡ä»¶ï¼Œè¿™ä¾¿æ˜¯ <strong>Reduce</strong> é˜¶æ®µçš„ <strong>Merge</strong> æ“ä½œï¼Œè¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿè®¸å¤šä¸­é—´æ–‡ä»¶ï¼Œæœ€åä¸€æ¬¡åˆå¹¶çš„ç»“æœç›´æ¥è¾“å‡ºåˆ°ç”¨æˆ·è‡ªå®šä¹‰çš„ <strong>Reduce</strong> å‡½æ•°</p><p>å½“æ•°æ®å¾ˆå°‘æ—¶ï¼Œä¸éœ€è¦æº¢å†™åˆ°ç£ç›˜ï¼Œç›´æ¥<strong>åœ¨ç¼“å­˜ä¸­å½’å¹¶</strong>ï¼Œç„¶åè¾“å‡ºç»™<strong>Reduce</strong></p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903114440651.png" alt="Reduce é˜¶æ®µ"></p><p>é€šå¸¸åœ¨ <strong>Map Task</strong> ä»»åŠ¡å®Œæˆ <strong>MOF</strong> è¾“å‡ºè¿›åº¦åˆ° 3% æ—¶å¯åŠ¨ <strong>Reduce</strong>ï¼Œä»å„ä¸ª <strong>Map Task</strong> è·å–<strong>MOF</strong> æ–‡ä»¶ã€‚å‰é¢æåˆ° <strong>Reduce Task</strong> ä¸ªæ•°ç”±å®¢æˆ·ç«¯å†³å®šï¼Œ<strong>Reduce Task</strong> ä¸ªæ•°å†³å®š <strong>MOF</strong> æ–‡ä»¶åˆ†åŒºæ•°ã€‚ å› æ­¤ <strong>Map Task</strong> è¾“å‡ºçš„ <strong>MOF</strong> æ–‡ä»¶éƒ½èƒ½æ‰¾åˆ°ç›¸å¯¹åº”çš„ <strong>Reduce Task</strong>æ¥å¤„ç†</p><h3 id="Shuffle-è¿‡ç¨‹"><a href="#Shuffle-è¿‡ç¨‹" class="headerlink" title="Shuffle è¿‡ç¨‹"></a>Shuffle è¿‡ç¨‹</h3><p><strong>Shuffle</strong> çš„å®šä¹‰ï¼š<strong>Map</strong> é˜¶æ®µå’Œ <strong>Reduce</strong> é˜¶æ®µä¹‹é—´<strong>ä¼ é€’ä¸­é—´æ•°æ®</strong>ï¼ŒåŒ…æ‹¬ <strong>Reduce Task</strong> ä»å„ä¸ª <strong>Map Task</strong> è·å– <strong>MOF</strong> æ–‡ä»¶çš„è¿‡ç¨‹ï¼Œä»¥åŠå¯¹ <strong>MOF</strong> çš„æ’åºä¸åˆå¹¶å¤„ç†</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903114933804.png" alt="Shuffle è¿‡ç¨‹"></p><p>å…¶ä¸­â€”â€”</p><ul><li>æ–‡ä»¶å½’å¹¶æ—¶ï¼Œå¦‚æœæº¢å†™æ–‡ä»¶æ•°é‡å¤§äºé¢„å®šå€¼ï¼ˆé»˜è®¤æ˜¯3ï¼‰åˆ™å¯ä»¥å†æ¬¡å¯åŠ¨ Combinerï¼Œå°‘äº 3 ä¸éœ€è¦</li><li><strong>JobTracker</strong> ä¼šä¸€ç›´ç›‘æµ‹ <strong>Map</strong> ä»»åŠ¡çš„æ‰§è¡Œï¼Œå¹¶é€šçŸ¥ <strong>Reduce</strong> ä»»åŠ¡æ¥é¢†å–æ•°æ®</li><li><strong>Reduce</strong> ä»»åŠ¡é€šè¿‡ <strong>RPC</strong> å‘ <strong>JobTracker</strong> è¯¢é—® <strong>Map</strong> ä»»åŠ¡æ˜¯å¦å·²ç»å®Œæˆï¼›è‹¥å®Œæˆï¼Œåˆ™é¢†å–æ•°æ®</li><li><strong>Reduce</strong> é¢†å–æ•°æ®å…ˆæ”¾å…¥ç¼“å­˜ï¼Œæ¥è‡ªä¸åŒ <strong>Map</strong> æœºå™¨ï¼Œ<strong>å…ˆå½’å¹¶ï¼Œå†åˆå¹¶</strong>ï¼Œå†™å…¥ç£ç›˜</li><li><strong>å¤šä¸ªæº¢å†™æ–‡ä»¶</strong>å½’å¹¶æˆä¸€ä¸ªæˆ–å¤šä¸ªå¤§æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­çš„<strong>é”®å€¼å¯¹æ˜¯æ’åºè¿‡çš„</strong></li></ul><h3 id="ä¸€ä¸ªå…¸å‹çš„-WordCount-æ¡ˆä¾‹"><a href="#ä¸€ä¸ªå…¸å‹çš„-WordCount-æ¡ˆä¾‹" class="headerlink" title="ä¸€ä¸ªå…¸å‹çš„ WordCount æ¡ˆä¾‹"></a>ä¸€ä¸ªå…¸å‹çš„ WordCount æ¡ˆä¾‹</h3><h4 id="ç¨‹åºåŠŸèƒ½"><a href="#ç¨‹åºåŠŸèƒ½" class="headerlink" title="ç¨‹åºåŠŸèƒ½"></a>ç¨‹åºåŠŸèƒ½</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903115517116.png" alt="WordCountç¨‹åºåŠŸèƒ½"></p><h4 id="Map-è¿‡ç¨‹"><a href="#Map-è¿‡ç¨‹" class="headerlink" title="Map è¿‡ç¨‹"></a>Map è¿‡ç¨‹</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903115627322.png" alt="Map è¿‡ç¨‹"></p><h4 id="Reduce-è¿‡ç¨‹"><a href="#Reduce-è¿‡ç¨‹" class="headerlink" title="Reduce è¿‡ç¨‹"></a>Reduce è¿‡ç¨‹</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903115652172.png" alt="Reduce è¿‡ç¨‹"></p><h3 id="YARN-ç»„ä»¶æ¶æ„"><a href="#YARN-ç»„ä»¶æ¶æ„" class="headerlink" title="YARN ç»„ä»¶æ¶æ„"></a>YARN ç»„ä»¶æ¶æ„</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903115841245.png" alt="Yarn å·¥ä½œæµç¨‹"></p><p>åœ¨å›¾ä¸­æœ‰ä¸¤ä¸ªå®¢æˆ·ç«¯å‘ <strong>Yarn</strong> æäº¤ä»»åŠ¡ï¼Œè“è‰²è¡¨ç¤ºä¸€ä¸ªä»»åŠ¡æµç¨‹ï¼Œæ£•è‰²è¡¨ç¤ºå¦ä¸€ä¸ªä»»åŠ¡æµç¨‹</p><ul><li>é¦–å…ˆ <strong>client</strong> æäº¤ä»»åŠ¡ï¼Œ<strong>ResourceManager</strong> æ¥æ”¶åˆ°ä»»åŠ¡ï¼Œç„¶åå¯åŠ¨å¹¶ç›‘æ§èµ·æ¥çš„ç¬¬ä¸€ä¸ª <strong>Container</strong>ï¼Œä¹Ÿå°±æ˜¯ <strong>Application Master</strong></li><li><strong>Application Master</strong> é€šçŸ¥ <strong>NodeManager</strong> ç®¡ç†èµ„æºå¹¶å¯åŠ¨å…¶ä»– <strong>Container</strong></li><li>ä»»åŠ¡æœ€ç»ˆæ˜¯è¿è¡Œåœ¨ <strong>Container</strong> å½“ä¸­ã€‚</li></ul><h3 id="MapReduce-On-YARN"><a href="#MapReduce-On-YARN" class="headerlink" title="MapReduce On YARN"></a>MapReduce On YARN</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903121324145.png" alt="MapReduce On YARN"></p><ol><li>ç”¨æˆ·å‘ <strong>YARN</strong> ä¸­æäº¤åº”ç”¨ç¨‹åºï¼Œ å…¶ä¸­åŒ…æ‹¬ <strong>ApplicationMaster</strong> ç¨‹åºã€å¯åŠ¨ <strong>ApplicationMaster</strong> çš„å‘½ä»¤ã€ç”¨æˆ·ç¨‹åºç­‰</li><li><strong>ResourceManager</strong> ä¸ºè¯¥åº”ç”¨ç¨‹åºåˆ†é…ç¬¬ä¸€ä¸ª <strong>Container</strong>ï¼Œ å¹¶ä¸å¯¹åº”çš„ <strong>NodeManager</strong> é€šä¿¡ï¼Œè¦æ±‚å®ƒåœ¨è¿™ä¸ª <strong>Container</strong> ä¸­å¯åŠ¨åº”ç”¨ç¨‹åºçš„ <strong>ApplicationMaster</strong> </li><li><strong>ApplicationMaster</strong> é¦–å…ˆå‘ <strong>ResourceManager</strong> æ³¨å†Œï¼Œ è¿™æ ·ç”¨æˆ·å¯ä»¥ç›´æ¥é€šè¿‡ <strong>ResourceManager</strong> æŸ¥çœ‹åº”ç”¨ç¨‹åºçš„è¿è¡ŒçŠ¶æ€ï¼Œç„¶åå®ƒå°†ä¸ºå„ä¸ªä»»åŠ¡ç”³è¯·èµ„æºï¼Œå¹¶ç›‘æ§å®ƒçš„è¿è¡ŒçŠ¶æ€ï¼Œç›´åˆ°è¿è¡Œç»“æŸï¼Œå³<strong>é‡å¤ 4~7</strong></li><li><strong>ApplicationMaster</strong> é‡‡ç”¨è½®è¯¢çš„æ–¹å¼é€šè¿‡ <strong>RPC</strong> åè®®å‘ <strong>ResourceManager</strong> ç”³è¯·å’Œé¢†å–èµ„æº</li><li>ä¸€æ—¦ <strong>ApplicationMaster</strong> ç”³è¯·åˆ°èµ„æºåï¼Œä¾¿ä¸å¯¹åº”çš„ <strong>NodeManager</strong> é€šä¿¡ï¼Œè¦æ±‚å®ƒå¯åŠ¨ä»»åŠ¡</li><li><strong>NodeManager</strong> ä¸ºä»»åŠ¡è®¾ç½®å¥½è¿è¡Œç¯å¢ƒï¼ˆåŒ…æ‹¬ç¯å¢ƒå˜é‡ã€JAR åŒ…ã€äºŒè¿›åˆ¶ç¨‹åºç­‰ï¼‰ åï¼Œå°†ä»»åŠ¡å¯åŠ¨å‘½ä»¤å†™åˆ°ä¸€ä¸ªè„šæœ¬ä¸­ï¼Œå¹¶é€šè¿‡è¿è¡Œè¯¥è„šæœ¬å¯åŠ¨ä»»åŠ¡</li><li>å„ä¸ªä»»åŠ¡é€šè¿‡æŸä¸ª <strong>RPC</strong> åè®®å‘ <strong>ApplicationMaster</strong> æ±‡æŠ¥è‡ªå·±çš„çŠ¶æ€å’Œè¿›åº¦ï¼Œä»¥è®© <strong>ApplicationMaster</strong> éšæ—¶æŒæ¡å„ä¸ªä»»åŠ¡çš„è¿è¡ŒçŠ¶æ€ï¼Œä»è€Œå¯ä»¥åœ¨ä»»åŠ¡å¤±è´¥æ—¶é‡æ–°å¯åŠ¨ä»»åŠ¡ã€‚ åœ¨åº”ç”¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç”¨æˆ·å¯éšæ—¶é€šè¿‡ <strong>RPC</strong> å‘ <strong>ApplicationMaster</strong> æŸ¥è¯¢åº”ç”¨ç¨‹åºçš„å½“å‰è¿è¡ŒçŠ¶æ€</li><li>åº”ç”¨ç¨‹åºè¿è¡Œå®Œæˆåï¼Œ<strong>ApplicationMaster</strong> å‘ <strong>ResourceManager</strong> æ³¨é”€å¹¶å…³é—­è‡ªå·±</li></ol><h3 id="YARN-HA-æ–¹æ¡ˆ"><a href="#YARN-HA-æ–¹æ¡ˆ" class="headerlink" title="YARN HA æ–¹æ¡ˆ"></a>YARN HA æ–¹æ¡ˆ</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903122041042.png" alt="YARN HA æ–¹æ¡ˆ"></p><p><strong>YARN</strong> ä¸­çš„ <strong>ResourceManager</strong> è´Ÿè´£æ•´ä¸ªé›†ç¾¤çš„<strong>èµ„æºç®¡ç†å’Œä»»åŠ¡è°ƒåº¦</strong>ï¼Œ<strong>YARN</strong> é«˜å¯ç”¨æ€§æ–¹æ¡ˆé€šè¿‡å¼•å…¥å†—ä½™çš„ <strong>ResourceManager</strong> èŠ‚ç‚¹çš„æ–¹å¼ï¼Œè§£å†³äº† <strong>ResourceManager</strong> å•ç‚¹æ•…éšœé—®é¢˜ã€‚</p><p>åœ¨æœªå¼€å¯è‡ªåŠ¨æ•…éšœè½¬ç§»æ—¶ï¼Œ<strong>Yarn</strong> é›†ç¾¤å¯åŠ¨åï¼Œç®¡ç†å‘˜éœ€è¦åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ <code>yarn rmadmin</code> å‘½ä»¤æ‰‹åŠ¨å°†å…¶ä¸­ä¸€ä¸ª <strong>ResourceManager</strong> åˆ‡æ¢ä¸º <strong>Active</strong> çŠ¶æ€ã€‚</p><ul><li>å½“éœ€è¦æ‰§è¡Œè®¡åˆ’æ€§ç»´æŠ¤æˆ–æ•…éšœå‘ ç”Ÿæ—¶ï¼Œåˆ™éœ€è¦å…ˆæ‰‹åŠ¨å°† <strong>Active</strong> çŠ¶æ€çš„ <strong>ResourceManager</strong> åˆ‡æ¢ä¸º <strong>Standby</strong> çŠ¶æ€ï¼Œå†å°†å¦ä¸€ä¸ª <strong>ResourceManager</strong> åˆ‡æ¢ä¸º <strong>Active</strong> çŠ¶æ€ã€‚</li></ul><p>å¼€å¯è‡ªåŠ¨æ•…éšœè½¬ç§»åï¼Œ<strong>ResourceManager</strong> ä¼šé€šè¿‡å†…ç½®çš„åŸºäº <strong>ZooKeeper</strong> å®ç°çš„  <strong>ActiveStandbyElector</strong> æ¥å†³å®šå“ªä¸€ä¸ª <strong>ResouceManager</strong> åº”è¯¥æˆä¸º <strong>Active</strong> èŠ‚ç‚¹ã€‚</p><ul><li>å½“ <strong>Active</strong> çŠ¶æ€çš„ <strong>ResourceManager</strong> å‘ç”Ÿæ•…éšœæ—¶ï¼Œå¦ä¸€ä¸ª <strong>ResourceManager</strong> å°†è‡ªåŠ¨è¢«é€‰ä¸¾ä¸º <strong>Active</strong> çŠ¶æ€ä»¥æ¥æ›¿æ•…éšœèŠ‚ç‚¹ã€‚</li></ul><p>å½“é›†ç¾¤çš„ <strong>ResourceManager</strong> ä»¥ <strong>HA</strong> æ–¹å¼éƒ¨ç½²æ—¶ï¼Œå®¢æˆ·ç«¯ä½¿ç”¨çš„ <strong>â€œyarn-site.xmlâ€</strong> éœ€è¦é…ç½®æ‰€æœ‰ <strong>ResourceManager</strong> åœ°å€ã€‚</p><p><strong>å®¢æˆ·ç«¯ï¼ˆåŒ…æ‹¬ ApplicationMaster å’Œ NodeManagerï¼‰</strong>ä¼šä»¥è½®è¯¢çš„æ–¹å¼å¯»æ‰¾ <strong>Active</strong> çŠ¶æ€çš„ <strong>ResourceManager</strong>ã€‚</p><ul><li>å¦‚æœå½“å‰ <strong>Active</strong> çŠ¶æ€çš„ <strong>ResourceManager</strong> æ— æ³•è¿æ¥ï¼Œé‚£ä¹ˆä¼šç»§ç»­ä½¿ç”¨è½®è¯¢çš„æ–¹å¼æ‰¾åˆ°æ–°çš„ <strong>ResourceManager</strong>ã€‚</li></ul><h3 id="YARN-ApplicationMaster-å®¹é”™æœºåˆ¶"><a href="#YARN-ApplicationMaster-å®¹é”™æœºåˆ¶" class="headerlink" title="YARN ApplicationMaster å®¹é”™æœºåˆ¶"></a>YARN ApplicationMaster å®¹é”™æœºåˆ¶</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903122653120.png" alt="YARN ApplicationMaster å®¹é”™æœºåˆ¶"></p><p>åœ¨ <strong>YARN</strong> ä¸­ï¼Œ<strong>ApplicationMaster</strong> ä¸å…¶ä»– <strong>Container</strong> ç±»ä¼¼ä¹Ÿè¿è¡Œåœ¨ <strong>NodeManager</strong> ä¸Šï¼ˆå¿½ç•¥æœªç®¡ç†çš„AMï¼‰ã€‚AM å¯èƒ½ä¼šç”±äºå¤šç§åŸå› å´©æºƒã€é€€å‡ºæˆ–å…³é—­ã€‚</p><ul><li>å¦‚æœ AM åœæ­¢è¿è¡Œï¼Œ ResourceManager ä¼šå…³é—­ <strong>ApplicationAttempt</strong> ä¸­ç®¡ç†çš„æ‰€æœ‰ Containerï¼ŒåŒ…æ‹¬å½“å‰ä»»åŠ¡åœ¨ NodeManager ä¸Šæ­£åœ¨è¿è¡Œçš„<strong>æ‰€æœ‰ Container</strong>ã€‚</li><li>RM ä¼šåœ¨å¦ä¸€è®¡ç®—èŠ‚ç‚¹ä¸Šå¯åŠ¨æ–°çš„ <strong>ApplicationAttempt</strong>ã€‚</li></ul><p>ä¸åŒç±»å‹çš„åº”ç”¨å¸Œæœ›ä»¥å¤šç§æ–¹å¼å¤„ç† AM é‡æ–°å¯åŠ¨çš„äº‹ä»¶ã€‚<strong>MapReduce</strong> ç±»åº”ç”¨<strong>ç›®æ ‡æ˜¯ä¸ä¸¢å¤±ä»»åŠ¡çŠ¶æ€</strong>ï¼Œä½†ä¹Ÿ<strong>èƒ½å…è®¸ä¸€éƒ¨åˆ†</strong>çš„çŠ¶æ€æŸå¤±ã€‚</p><ul><li>å¯¹äº<strong>é•¿å‘¨æœŸçš„æœåŠ¡</strong>è€Œè¨€ï¼Œç”¨æˆ·å¹¶ä¸å¸Œæœ›ä»…ä»…ç”±äº AM çš„æ•…éšœè€Œå¯¼è‡´æ•´ä¸ªæœåŠ¡åœæ­¢è¿è¡Œã€‚</li></ul><p><strong>YARN</strong> æ”¯æŒåœ¨æ–°çš„ <strong>ApplicationAttempt</strong> å¯åŠ¨æ—¶ï¼Œä¿ç•™ä¹‹å‰ <strong>Container</strong> çš„çŠ¶æ€ï¼Œå› æ­¤è¿è¡Œä¸­çš„ä½œä¸šå¯ä»¥ç»§ç»­æ— æ•…éšœçš„è¿è¡Œ</p><h2 id="Part-3-YARN-çš„èµ„æºç®¡ç†å’Œä»»åŠ¡è°ƒåº¦"><a href="#Part-3-YARN-çš„èµ„æºç®¡ç†å’Œä»»åŠ¡è°ƒåº¦" class="headerlink" title="Part 3 YARN çš„èµ„æºç®¡ç†å’Œä»»åŠ¡è°ƒåº¦"></a>Part 3 YARN çš„èµ„æºç®¡ç†å’Œä»»åŠ¡è°ƒåº¦</h2><h3 id="èµ„æºç®¡ç†"><a href="#èµ„æºç®¡ç†" class="headerlink" title="èµ„æºç®¡ç†"></a>èµ„æºç®¡ç†</h3><p>æ¯ä¸ª <strong>NodeManager</strong> å¯åˆ†é…çš„<strong>å†…å­˜å’ŒCPU</strong>çš„æ•°ä¸¤å¯ä»¥é€šè¿‡é…ç½®é€‰é¡¹è®¾ç½®ï¼ˆå¯åœ¨ YARN æœåŠ¡é…ç½®é¡µé¢é…ç½®ï¼‰</p><ul><li><strong>yarn.nodemanager.resource.memory-mbï¼š</strong>è¡¨ç¤ºç”¨äºå½“å‰ NodeManager ä¸Šå¯ä»¥åˆ†é…ç»™å®¹å™¨çš„ç‰©ç†å†…å­˜çš„å¤§å°ï¼Œå•ä½ï¼šMBã€‚<ul><li>å¿…é¡»å°äºNodeManageræœåŠ¡å™¨ä¸Šçš„å®é™…å†…å­˜å¤§å°</li></ul></li><li><strong>yarn.nodemanager.vmem-pmem-ratioï¼š</strong>è¡¨ç¤ºä¸ºå®¹å™¨è®¾ç½®å†…å­˜é™åˆ¶æ—¶è™šæ‹Ÿå†…å­˜è·Ÿç‰©ç†å†…å­˜çš„æ¯”å€¼ã€‚<ul><li>å®¹å™¨åˆ†é…å€¼ä½¿ç”¨ç‰©ç†å†…å­˜è¡¨ç¤ºçš„ï¼Œè™šæ‹Ÿå†…å­˜ä½¿ç”¨ç‡è¶…è¿‡åˆ†é…å€¼çš„æ¯”ä¾‹ä¸å…è®¸å¤§äºå½“å‰è¿™ä¸ªæ¯”ä¾‹</li></ul></li><li><strong>yarn.nodemanager.resource.cpu-vcoreï¼š</strong>è¡¨ç¤ºå¯åˆ†é…ç»™containerçš„CPUæ ¸æ•°ã€‚<ul><li>å»ºè®®é…ç½®ä¸º CPU æ ¸æ•°çš„ 1.5-2 å€</li></ul></li></ul><h3 id="YARN-çš„ä¸‰ç§èµ„æºè°ƒåº¦å™¨"><a href="#YARN-çš„ä¸‰ç§èµ„æºè°ƒåº¦å™¨" class="headerlink" title="YARN çš„ä¸‰ç§èµ„æºè°ƒåº¦å™¨"></a>YARN çš„ä¸‰ç§èµ„æºè°ƒåº¦å™¨</h3><p>åœ¨ <strong>YARN</strong> ä¸­ï¼Œè´Ÿè´£ç»™å¼•ç”¨åˆ†é…èµ„æºçš„ç»„ä»¶å«åš <strong>Scheduler</strong>ï¼Œæ ¹æ®ä¸åŒçš„ç­–ç•¥ï¼Œå…±æœ‰ä¸‰ç§è°ƒåº¦å™¨å¯ä¾›é€‰æ‹©â€”â€”</p><ol><li><strong>FIFO Schedulerï¼š</strong>é˜Ÿåˆ—å¼åˆ†é…èµ„æºï¼ŒæŠŠåº”ç”¨æŒ‰æäº¤é¡ºåºæ’æˆé˜Ÿåˆ—ï¼Œå¾…å¤´åº”ç”¨éœ€æ±‚æ»¡è¶³åå†ç»™ä¸‹ä¸€ä¸ªåˆ†é…ï¼Œä»¥æ­¤ç±»æ¨</li><li><strong>Capacity Schedulerï¼š</strong>å…è®¸å¤šä¸ªç»„ç»‡å…±äº«æ•´ä¸ªé›†ç¾¤ï¼Œæ¯ä¸ªç»„ç»‡å¯ä»¥è·å¾—é›†ç¾¤çš„ä¸€éƒ¨åˆ†è®¡ç®—èƒ½åŠ›<ul><li>é€šè¿‡ä¸ºæ¯ä¸ªç»„ç»‡åˆ†é…ä¸“é—¨çš„é˜Ÿåˆ—ï¼Œç„¶åå†ä¸ºæ¯ä¸ªé˜Ÿåˆ—åˆ†é…ä¸€å®šçš„é›†ç¾¤èµ„æº</li><li>é€šè¿‡è®¾ç½®å¤šä¸ªé˜Ÿåˆ—çš„æ–¹å¼ç»™å¤šä¸ªç»„ç»‡æä¾›æœåŠ¡</li><li>é™¤æ­¤ä¹‹å¤–ï¼Œé˜Ÿåˆ—å†…éƒ¨åˆå¯ä»¥å‚ç›´åˆ’åˆ†ï¼Œè¿™æ ·ä¸€ä¸ªç»„ç»‡å†…éƒ¨çš„å¤šä¸ªæˆå‘˜å°±å¯ä»¥å…±äº«è¿™ä¸ªé˜Ÿåˆ—èµ„æºäº†</li><li>é˜Ÿåˆ—å†…éƒ¨é‡‡ç”¨ <strong>FIFO</strong> ç­–ç•¥è¿›è¡Œèµ„æºè°ƒåº¦</li></ul></li><li><strong>Fair Schedulerï¼š</strong>ä¸ºæ‰€æœ‰çš„åº”ç”¨åˆ†é…å…¬å¹³çš„èµ„æºï¼ˆå¯¹å…¬å¹³çš„å®šä¹‰å¯ä»¥é€šè¿‡å‚æ•°æ¥è®¾ç½®ï¼‰</li></ol><p>ç”Ÿäº§ä¸Šå¸¸ç”¨ <strong>Capacity Scheduler</strong></p><h4 id="å®¹é‡è°ƒåº¦å™¨çš„ä»‹ç»-â€”â€”-Capacity-Scheduler"><a href="#å®¹é‡è°ƒåº¦å™¨çš„ä»‹ç»-â€”â€”-Capacity-Scheduler" class="headerlink" title="å®¹é‡è°ƒåº¦å™¨çš„ä»‹ç» â€”â€” Capacity Scheduler"></a>å®¹é‡è°ƒåº¦å™¨çš„ä»‹ç» â€”â€” Capacity Scheduler</h4><p>å®¹é‡è°ƒåº¦å™¨ä½¿å¾— <strong>Hadoop</strong> åº”ç”¨èƒ½å¤Ÿ<strong>å…±äº«çš„ã€å¤šç”¨æˆ·çš„ã€æ“ä½œç®€ä¾¿çš„</strong>è¿è¡Œåœ¨é›†ç¾¤ä¸Š</p><ul><li>åŒæ—¶æœ€å¤§åŒ–é›†ç¾¤çš„ååé‡å’Œåˆ©ç”¨ç‡</li></ul><p>å®¹é‡è°ƒåº¦å™¨ä»¥<strong>é˜Ÿåˆ—ä¸ºå•ä½</strong>åˆ’åˆ†èµ„æºï¼Œæ¯ä¸ªé˜Ÿåˆ—éƒ½æœ‰èµ„æºä½¿ç”¨çš„ä¸Šä¸‹é™</p><ul><li>æ¯ä¸ªç”¨æˆ·å¯ä»¥è®¾å®šèµ„æºä½¿ç”¨ä¸Šçº¿</li><li>ç®¡ç†å‘˜å¯ä»¥çº¦æŸå•ä¸ªé˜Ÿåˆ—ã€ç”¨æˆ·æˆ–ä½œä¸šçš„èµ„æºä½¿ç”¨</li><li>æ”¯æŒä½œä¸šä¼˜å…ˆçº§ï¼Œä½†ä¸æ”¯æŒèµ„æºæŠ¢å </li></ul><p>åœ¨ <strong>Hadoop 3.x</strong> ä¸­ï¼Œ<strong>OrgQueue</strong> æ‰©å±•äº†å®¹é‡è°ƒåº¦å™¨ï¼Œé€šè¿‡ <strong>REST API</strong> æä¾›äº†ä»¥ç¼–ç¨‹çš„æ–¹å¼æ¥æ”¹å˜é˜Ÿåˆ—çš„é…ç½®ã€‚è¿™æ ·ï¼Œç®¡ç†å‘˜å¯ä»¥åœ¨é˜Ÿåˆ—çš„ <strong>administerâ€”â€”queue ACL</strong> ä¸­è‡ªåŠ¨è¿›è¡Œé˜Ÿåˆ—é…ç½®ç®¡ç†</p><h3 id="èµ„æºåˆ†é…æ¨¡å‹"><a href="#èµ„æºåˆ†é…æ¨¡å‹" class="headerlink" title="èµ„æºåˆ†é…æ¨¡å‹"></a>èµ„æºåˆ†é…æ¨¡å‹</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903124812188.png" alt="èµ„æºåˆ†é…æ¨¡å‹"></p><p>è°ƒåº¦å™¨ç»´æŠ¤ä¸€ç¾¤é˜Ÿåˆ—çš„ä¿¡æ¯ï¼Œç”¨æˆ·å¯ä»¥ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªé˜Ÿåˆ—æäº¤åº”ç”¨ã€‚</p><p>æ¯æ¬¡ <strong>NM</strong> å¿ƒè·³æ—¶ï¼Œè°ƒåº¦å™¨æ ¹æ®ä¸€å®šçš„è§„åˆ™é€‰æ‹©ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå†åœ¨é˜Ÿåˆ—ä¸Šé€‰æ‹©ä¸€ä¸ªåº”ç”¨ï¼Œå°è¯•åœ¨è¿™ä¸ªä¸€ä¸ªç”¨ä¸Šåˆ†é…èµ„æºã€‚</p><p>è°ƒåº¦å™¨ä¼šä¼˜å…ˆåŒ¹é…æœ¬åœ°èµ„æºçš„ç”³è¯·è¯·æ±‚ï¼Œå…¶æ¬¡æ˜¯åŒæœºæ¶ï¼Œæœ€åæ˜¯ä»»æ„æœºå™¨çš„ã€‚</p><h2 id="Part-4-åä¸ºå¤§æ•°æ®å¹³å°å¢å¼ºç‰¹æ€§"><a href="#Part-4-åä¸ºå¤§æ•°æ®å¹³å°å¢å¼ºç‰¹æ€§" class="headerlink" title="Part 4 åä¸ºå¤§æ•°æ®å¹³å°å¢å¼ºç‰¹æ€§"></a>Part 4 åä¸ºå¤§æ•°æ®å¹³å°å¢å¼ºç‰¹æ€§</h2><h3 id="YARN-åŠ¨æ€å†…å­˜ç®¡ç†"><a href="#YARN-åŠ¨æ€å†…å­˜ç®¡ç†" class="headerlink" title="YARN åŠ¨æ€å†…å­˜ç®¡ç†"></a>YARN åŠ¨æ€å†…å­˜ç®¡ç†</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903125047785.png" alt="YARN åŠ¨æ€å†…å­˜ç®¡ç†"></p><p>åŠ¨æ€å†…å­˜ç®¡ç†å¯ç”¨æ¥ä¼˜åŒ– NodeManager ä¸­ Containers çš„å†…å­˜åˆ©ç”¨ç‡ã€‚ä»»åŠ¡åœ¨è¿è¡Œè¿‡ç¨‹ä¸­å¯èƒ½äº§ç”Ÿå¤šä¸ª Container</p><p>å½“å‰ï¼Œå½“å•ä¸ªèŠ‚ç‚¹ä¸Šçš„ Container è¶…è¿‡ Container è¿è¡Œå†…å­˜å¤§å°æ—¶ï¼Œå³ä½¿èŠ‚ç‚¹æ€»çš„é…ç½®å†…å­˜ åˆ©ç”¨è¿˜å¾ˆä½ï¼ŒNodeManager ä¹Ÿä¼šç»ˆæ­¢è¿™äº› Containersã€‚è¿™æ ·å°±ä¼šç»å¸¸ä½¿ç”¨æˆ·ä½œä¸šå¤±è´¥</p><p>åŠ¨æ€å†…å­˜ç®¡ç†ç‰¹æ€§åœ¨å½“å‰æ˜¯ä¸€ä¸ªæ”¹è¿›ï¼Œåªæœ‰å½“ NodeManager ä¸­çš„æ‰€æœ‰ Containers çš„æ€»å†…å­˜ä½¿ç”¨è¶…è¿‡äº†å·²ç¡®å®šçš„é˜ˆå€¼ï¼Œé‚£ä¹ˆé‚£äº›å†…å­˜ä½¿ç”¨è¿‡å¤šçš„ Containers æ‰ä¼šè¢«ç»ˆæ­¢ã€‚</p><p>NM æ€»å†…å­˜é˜ˆå€¼ï¼ˆå•ä½GBï¼‰çš„è®¡ç®—æ–¹æ³•æ˜¯ :</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">yarn</span>.nodemanager.resource.memory-mb * <span class="hljs-number">1024</span> * <span class="hljs-number">1024</span> * yarn.nodemanager.dynamic.memory.usage.threshold<br></code></pre></td></tr></table></figure><h3 id="YARN-åŸºäºæ ‡ç­¾è°ƒåº¦"><a href="#YARN-åŸºäºæ ‡ç­¾è°ƒåº¦" class="headerlink" title="YARN åŸºäºæ ‡ç­¾è°ƒåº¦"></a>YARN åŸºäºæ ‡ç­¾è°ƒåº¦</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903125453839.png" alt="YARN åŸºäºæ ‡ç­¾è°ƒåº¦"></p><p><strong>Label based scheduling</strong> æ˜¯ä¸€ç§è°ƒåº¦ç­–ç•¥ã€‚è¯¥ç­–ç•¥çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š</p><ul><li>ç”¨æˆ·å¯ä»¥ä¸ºæ¯ä¸ª nodemanager æ ‡æ³¨ä¸€ä¸ªæ ‡ç­¾ï¼Œæ¯”å¦‚ high-memoryï¼Œhigh-IO ç­‰è¿›è¡Œåˆ†ç±»ï¼Œä»¥è¡¨æ˜è¯¥ nodemanager çš„ç‰¹æ€§</li><li>åŒæ—¶ï¼Œç”¨æˆ·å¯ä»¥ä¸ºè°ƒåº¦å™¨ä¸­æ¯ä¸ªé˜Ÿåˆ—æ ‡æ³¨ä¸€ä¸ªæ ‡ç­¾ï¼Œå³é˜Ÿåˆ—ä¸æ ‡ç­¾ç»‘å®š</li><li>è¿™æ ·ï¼Œæäº¤åˆ°æŸä¸ªé˜Ÿåˆ—ä¸­çš„ä½œä¸šï¼Œåªä¼šä½¿ç”¨æ ‡æ³¨æœ‰å¯¹åº”æ ‡ç­¾çš„èŠ‚ç‚¹ä¸Šçš„èµ„æºï¼Œå³ä»»åŠ¡å®é™…è¿è¡Œåœ¨æ‰“æœ‰å¯¹åº”æ ‡ç­¾çš„èŠ‚ç‚¹ä¸Š</li></ul><p>åœ¨æ²¡æœ‰æ ‡ç­¾è°ƒåº¦ä¹‹å‰ï¼Œä»»åŠ¡æäº¤åˆ°å“ªä¸ªèŠ‚ç‚¹ä¸Šæ˜¯æ— æ³•æ§åˆ¶çš„ï¼Œä¼šæ ¹æ®ä¸€äº›ç®—æ³•åŠæ¡ä»¶ï¼Œé›† ç¾¤éšæœºåˆ†é…åˆ°æŸäº›èŠ‚ç‚¹ä¸Šã€‚è€Œæ ‡ç­¾è°ƒåº¦<strong>å¯ä»¥æŒ‡å®šä»»åŠ¡æäº¤åˆ°å“ªäº›èŠ‚ç‚¹</strong>ä¸Š</p><ul><li>æ¯”å¦‚ä¹‹å‰éœ€è¦æ¶ˆè€—é«˜å†…å­˜çš„åº”ç”¨æäº¤ä¸Šæ¥ï¼Œç”±äºè¿è¡Œåœ¨é‚£äº›èŠ‚ç‚¹ä¸å¯æ§ï¼Œä»»åŠ¡å¯èƒ½è¿è¡Œåœ¨æ™®é€šæ€§èƒ½çš„æœºå™¨ä¸Š</li><li>å°†è€—å†…å­˜æ¶ˆè€—å‹çš„ä»»åŠ¡æäº¤åˆ°ç»‘å®šäº† <strong>high-memry</strong> çš„æ ‡ç­¾çš„é˜Ÿåˆ—ä¸Šï¼Œé‚£ä¹ˆä»»åŠ¡å°±å¯ä»¥è¿è¡Œåœ¨ é«˜å†…å­˜æœºå™¨ä¸Š</li></ul>]]></content>
    
    
    <categories>
      
      <category>Big Data Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 415</title>
    <link href="/2021/09/03/LeetCode-Notes-415/"/>
    <url>/2021/09/03/LeetCode-Notes-415/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-415"><a href="#Leetcode-Notes-415" class="headerlink" title="Leetcode Notes - 415"></a>Leetcode Notes - 415</h1><p>é¢˜ç›®ï¼š<strong>415. å­—ç¬¦ä¸²ç›¸åŠ </strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>æ¨¡æ‹Ÿ</li><li>å­—ç¬¦ä¸²å››åˆ™è¿ç®—</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-æ¨¡æ‹Ÿ"><a href="#1-æ¨¡æ‹Ÿ" class="headerlink" title="1. æ¨¡æ‹Ÿ"></a>1. æ¨¡æ‹Ÿ</h3><p>å¾ˆæ‹‰çš„æ¨¡æ‹ŸğŸ˜¥</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903162803616.png" alt="è‡ªå·±çš„æ¨¡æ‹Ÿ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">addStrings</span><span class="hljs-params">(String num1, String num2)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(num1.length() &lt; num2.length()) <span class="hljs-keyword">return</span> addStrings(num2, num1);<br>        <br>        <span class="hljs-keyword">while</span>(num2.length() &lt; num1.length())&#123;<br>            num2 = <span class="hljs-string">&quot;0&quot;</span> + num2;<br>        &#125;<br>        <br>        String ans = <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">int</span> len = num1.length();<br>        <span class="hljs-keyword">boolean</span> addOn = <span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">char</span>[] chArr1 = num1.toCharArray();<br>        <span class="hljs-keyword">char</span>[] chArr2 = num2.toCharArray();<br>        <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = len - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--)&#123;<br>            <span class="hljs-keyword">int</span> cur = Integer.parseInt(Character.toString(chArr1[i])) + Integer.parseInt(Character.toString(chArr2[i]));<br>            <br>            <span class="hljs-keyword">if</span>(addOn)&#123;<br>                cur++;<br>                addOn = <span class="hljs-keyword">false</span>;<br>            &#125;<br>            <br>            <span class="hljs-comment">// Check whether cur is bigger than 9</span><br>            <span class="hljs-keyword">if</span>(cur &gt; <span class="hljs-number">9</span>)&#123;<br>                addOn = <span class="hljs-keyword">true</span>;<br>                cur = cur - <span class="hljs-number">10</span>;<br>            &#125;<br>            <br>            ans = String.format(<span class="hljs-string">&quot;%d&quot;</span>, cur) + ans;<br>        &#125;<br>        <br>        <span class="hljs-keyword">return</span> addOn ? <span class="hljs-string">&quot;1&quot;</span> + ans : ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="æ¨¡æ‹Ÿ"><a href="#æ¨¡æ‹Ÿ" class="headerlink" title="æ¨¡æ‹Ÿ"></a>æ¨¡æ‹Ÿ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>åˆ©ç”¨è´Ÿæ•°ä½è¿”å›é›¶æ¥ä½œä¸ºè¡¥é›¶æ“ä½œã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">addStrings</span><span class="hljs-params">(String num1, String num2)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> i = num1.length() - <span class="hljs-number">1</span>, j = num2.length() - <span class="hljs-number">1</span>, add = <span class="hljs-number">0</span>;<br>        StringBuffer ans = <span class="hljs-keyword">new</span> StringBuffer();<br>        <span class="hljs-keyword">while</span> (i &gt;= <span class="hljs-number">0</span> || j &gt;= <span class="hljs-number">0</span> || add != <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">int</span> x = i &gt;= <span class="hljs-number">0</span> ? num1.charAt(i) - <span class="hljs-string">&#x27;0&#x27;</span> : <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">int</span> y = j &gt;= <span class="hljs-number">0</span> ? num2.charAt(j) - <span class="hljs-string">&#x27;0&#x27;</span> : <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">int</span> result = x + y + add;<br>            ans.append(result % <span class="hljs-number">10</span>);<br>            add = result / <span class="hljs-number">10</span>;<br>            i--;<br>            j--;<br>        &#125;<br>        <span class="hljs-comment">// è®¡ç®—å®Œä»¥åçš„ç­”æ¡ˆéœ€è¦ç¿»è½¬è¿‡æ¥</span><br>        ans.reverse();<br>        <span class="hljs-keyword">return</span> ans.toString();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 409</title>
    <link href="/2021/09/03/LeetCode-Notes-409/"/>
    <url>/2021/09/03/LeetCode-Notes-409/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-409"><a href="#Leetcode-Notes-409" class="headerlink" title="Leetcode Notes - 409"></a>Leetcode Notes - 409</h1><p>é¢˜ç›®ï¼š<strong>409. æœ€é•¿å›æ–‡ä¸²</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>è´ªå¿ƒ</li><li>å­—ç¬¦ä¸²</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-å“ˆå¸Œè¡¨"><a href="#1-å“ˆå¸Œè¡¨" class="headerlink" title="1. å“ˆå¸Œè¡¨"></a>1. å“ˆå¸Œè¡¨</h3><p>æ•ˆç‡ä¸å’‹åœ°çš„å“ˆå¸ŒğŸ›¬</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210903164227533.png" alt="å“ˆå¸Œè¡¨"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">longestPalindrome</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        Map&lt;Character, Integer&gt; mp = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> ch : s.toCharArray())&#123;<br>            <span class="hljs-keyword">int</span> cur = mp.getOrDefault(ch, <span class="hljs-number">0</span>);<br><br>            mp.put(ch, cur + <span class="hljs-number">1</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">boolean</span> center = <span class="hljs-keyword">false</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> ele : mp.keySet())&#123;<br>            <span class="hljs-keyword">int</span> cur = mp.get(ele);<br><br>            <span class="hljs-keyword">if</span>(cur % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)&#123;<br>                count += cur;<br>                <span class="hljs-keyword">continue</span>;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">if</span>(center)&#123;<br>                    count = count + cur - <span class="hljs-number">1</span>;<br>                &#125;<br>                <span class="hljs-keyword">else</span>&#123;<br>                    count += cur;<br>                    center = <span class="hljs-keyword">true</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>å¯¹äºæ¯ä¸ªå­—ç¬¦ chï¼Œå‡è®¾å®ƒå‡ºç°äº† v æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¯¥å­—ç¬¦ v / 2 * 2 æ¬¡ï¼Œåœ¨å›æ–‡ä¸²çš„å·¦ä¾§å’Œå³ä¾§åˆ†åˆ«æ”¾ç½® v / 2 ä¸ªå­—ç¬¦ chï¼Œå…¶ä¸­ / ä¸ºæ•´æ•°é™¤æ³•ã€‚ä¾‹å¦‚è‹¥ â€œaâ€ å‡ºç°äº† 5 æ¬¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ â€œaâ€ çš„æ¬¡æ•°ä¸º 4ï¼Œå›æ–‡ä¸²çš„å·¦å³ä¸¤ä¾§åˆ†åˆ«æ”¾ç½® 2 ä¸ª â€œaâ€ã€‚</p><p>å¦‚æœæœ‰ä»»ä½•ä¸€ä¸ªå­—ç¬¦ ch çš„å‡ºç°æ¬¡æ•° v ä¸ºå¥‡æ•°ï¼ˆå³ v % 2 == 1ï¼‰ï¼Œé‚£ä¹ˆå¯ä»¥å°†è¿™ä¸ªå­—ç¬¦ä½œä¸ºå›æ–‡ä¸­å¿ƒï¼Œæ³¨æ„åªèƒ½æœ€å¤šæœ‰ä¸€ä¸ªå­—ç¬¦ä½œä¸ºå›æ–‡ä¸­å¿ƒã€‚åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç”¨ ans å­˜å‚¨å›æ–‡ä¸²çš„é•¿åº¦ï¼Œç”±äºåœ¨éå†å­—ç¬¦æ—¶ï¼Œans æ¯æ¬¡ä¼šå¢åŠ  v / 2 * 2ï¼Œå› æ­¤ ans ä¸€ç›´ä¸ºå¶æ•°ã€‚ä½†åœ¨å‘ç°äº†ç¬¬ä¸€ä¸ªå‡ºç°æ¬¡æ•°ä¸ºå¥‡æ•°çš„å­—ç¬¦åï¼Œæˆ‘ä»¬å°† ans å¢åŠ  1ï¼Œè¿™æ · ans å˜ä¸ºå¥‡æ•°ï¼Œåœ¨åé¢å‘ç°å…¶å®ƒå‡ºç°å¥‡æ•°æ¬¡çš„å­—ç¬¦æ—¶ï¼Œæˆ‘ä»¬å°±ä¸æ”¹å˜ ans çš„å€¼äº†ã€‚</p><blockquote><p>å¾ˆå·§å¦™çš„åˆ©ç”¨äº†è¯­è¨€æ•´é™¤ä¸­ round çš„ç‰¹æ€§ï¼Œå°±ä¸ç”¨å†åƒæˆ‘é‚£æ ·åšåˆ¤æ–­äº†</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">longestPalindrome</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span>[] count = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">128</span>];<br>        <span class="hljs-keyword">int</span> length = s.length();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; length; ++i) &#123;<br>            <span class="hljs-keyword">char</span> c = s.charAt(i);<br>            count[c]++;<br>        &#125;<br><br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> v: count) &#123;<br>            ans += v / <span class="hljs-number">2</span> * <span class="hljs-number">2</span>;<br>            <span class="hljs-keyword">if</span> (v % <span class="hljs-number">2</span> == <span class="hljs-number">1</span> &amp;&amp; ans % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;<br>                ans++;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/longest-palindrome/solution/zui-chang-hui-wen-chuan-by-leetcode-solution/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 560</title>
    <link href="/2021/09/02/LeetCode-Notes-560/"/>
    <url>/2021/09/02/LeetCode-Notes-560/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-560"><a href="#Leetcode-Notes-560" class="headerlink" title="Leetcode Notes - 560"></a>Leetcode Notes - 560</h1><p>é¢˜ç›®ï¼š<strong>560. å’Œä¸ºKçš„å­æ•°ç»„</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å‰ç¼€å’Œ</li><li>å“ˆå¸Œè¡¨</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="å‰ç¼€å’Œ-å“ˆå¸Œè¡¨ä¼˜åŒ–"><a href="#å‰ç¼€å’Œ-å“ˆå¸Œè¡¨ä¼˜åŒ–" class="headerlink" title="å‰ç¼€å’Œ+å“ˆå¸Œè¡¨ä¼˜åŒ–"></a>å‰ç¼€å’Œ+å“ˆå¸Œè¡¨ä¼˜åŒ–</h3><p>ç†è§£é¢˜è§£åè‡ªå·±å†™çš„ç‰ˆæœ¬ğŸ‘‡</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210902122836379.png" alt="å‰ç¼€å’Œ+å“ˆå¸Œè¡¨ä¼˜åŒ–"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">subarraySum</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums, <span class="hljs-keyword">int</span> k)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> pre = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br>        Map&lt;Integer, Integer&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br><br>        map.put(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i : nums)&#123;<br>            pre = pre + i;<br>            <span class="hljs-keyword">int</span> cur = map.getOrDefault(pre, <span class="hljs-number">0</span>);<br><br>            <span class="hljs-keyword">if</span>(map.containsKey(pre - k))&#123;<br>                count = count + map.get(pre - k);<br>            &#125;<br><br>            map.put(pre, cur + <span class="hljs-number">1</span>);<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="å‰ç¼€å’Œ-å“ˆå¸Œè¡¨ä¼˜åŒ–-1"><a href="#å‰ç¼€å’Œ-å“ˆå¸Œè¡¨ä¼˜åŒ–-1" class="headerlink" title="å‰ç¼€å’Œ+å“ˆå¸Œè¡¨ä¼˜åŒ–"></a>å‰ç¼€å’Œ+å“ˆå¸Œè¡¨ä¼˜åŒ–</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><ol><li>æ¯ä¸ªå…ƒç´ å¯¹åº”ä¸€ä¸ª â€œå‰ç¼€å’Œâ€</li><li>éå†æ•°ç»„ï¼Œæ ¹æ®å½“å‰ â€œå‰ç¼€å’Œâ€ï¼Œåœ¨ map ä¸­å¯»æ‰¾ã€Œä¸ä¹‹ç›¸å‡ == kã€çš„å†å²å‰ç¼€å’Œ</li><li>å½“å‰ â€œå‰ç¼€å’Œâ€ ä¸å†å²å‰ç¼€å’Œï¼Œå·®åˆ†å‡ºä¸€ä¸ªå­æ•°ç»„ï¼Œè¯¥å†å²å‰ç¼€å’Œå‡ºç°è¿‡ c æ¬¡ï¼Œç­‰ä»·äºå½“å‰é¡¹æ‰¾åˆ° c ä¸ªå­æ•°ç»„æ±‚å’Œç­‰äº k</li><li>éå†è¿‡ç¨‹ä¸­ï¼Œc ä¸æ–­åŠ ç»™ countï¼Œæœ€åè¿”å› count</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">subarraySum</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums, <span class="hljs-keyword">int</span> k)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>, pre = <span class="hljs-number">0</span>;<br>        HashMap &lt; Integer, Integer &gt; mp = <span class="hljs-keyword">new</span> HashMap &lt; &gt; ();<br>        mp.put(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.length; i++) &#123;<br>            pre += nums[i];<br>            <span class="hljs-keyword">if</span> (mp.containsKey(pre - k)) &#123;<br>                count += mp.get(pre - k);<br>            &#125;<br>            mp.put(pre, mp.getOrDefault(pre, <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>);<br>        &#125;<br>        <span class="hljs-keyword">return</span> count;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/subarray-sum-equals-k/solution/he-wei-kde-zi-shu-zu-by-leetcode-solution/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure><blockquote><p>æ°”æ­»äº†ï¼ä¸ºäº†å†™è¿™ä¸ªé¢˜è§£æˆ‘å¥ç¾é€‰ä¿®æ²¡äº†ï¼Œæ·¦ï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 238</title>
    <link href="/2021/09/02/LeetCode-Notes-238/"/>
    <url>/2021/09/02/LeetCode-Notes-238/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-238"><a href="#Leetcode-Notes-238" class="headerlink" title="Leetcode Notes -238"></a>Leetcode Notes -238</h1><p>é¢˜ç›®ï¼š<strong>238. é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>æ•°ç»„</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-åŒå‘ä¹˜æ³•"><a href="#1-åŒå‘ä¹˜æ³•" class="headerlink" title="1. åŒå‘ä¹˜æ³•"></a>1. åŒå‘ä¹˜æ³•</h3><p>ä¸æ“¦ğŸ˜Š</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210902113553113.png" alt="åŒå‘ä¹˜æ³•"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[] productExceptSelf(<span class="hljs-keyword">int</span>[] nums) &#123;<br>        <span class="hljs-keyword">int</span> n = nums.length;<br>        <span class="hljs-keyword">int</span>[] res = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];<br><br>        <span class="hljs-comment">// Left Multiplication</span><br>        <span class="hljs-keyword">int</span> cur = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> val = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> l = <span class="hljs-number">0</span>; l &lt; n; l++)&#123;<br>            <span class="hljs-keyword">while</span>(cur &lt; l)&#123;<br>                val *= nums[cur];<br>                cur++;<br>            &#125;<br>            res[l] = val;<br>        &#125;<br><br>        <span class="hljs-comment">// Right Multiplication</span><br>        cur = n - <span class="hljs-number">1</span>;<br>        val = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> r = n - <span class="hljs-number">1</span>; r &gt;= <span class="hljs-number">0</span>; r--)&#123;<br>            <span class="hljs-keyword">while</span>(cur &gt; r)&#123;<br>                val *= nums[cur];<br>                cur--;<br>            &#125;<br><br>            res[r] = res[r] * val;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="ç©ºé—´å¤æ‚åº¦ä¸ºO-1-çš„æ–¹æ³•"><a href="#ç©ºé—´å¤æ‚åº¦ä¸ºO-1-çš„æ–¹æ³•" class="headerlink" title="ç©ºé—´å¤æ‚åº¦ä¸ºO(1)çš„æ–¹æ³•"></a>ç©ºé—´å¤æ‚åº¦ä¸ºO(1)çš„æ–¹æ³•</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>ç”±äºè¾“å‡ºæ•°ç»„ä¸ç®—åœ¨ç©ºé—´å¤æ‚åº¦å†…ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°† L æˆ– R æ•°ç»„ç”¨è¾“å‡ºæ•°ç»„æ¥è®¡ç®—ã€‚å…ˆæŠŠè¾“å‡ºæ•°ç»„å½“ä½œ L æ•°ç»„æ¥è®¡ç®—ï¼Œç„¶åå†åŠ¨æ€æ„é€  R æ•°ç»„å¾—åˆ°ç»“æœã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹åŸºäºè¿™ä¸ªæ€æƒ³çš„ç®—æ³•ã€‚</p><p>åˆå§‹åŒ– answer æ•°ç»„ï¼Œå¯¹äºç»™å®šç´¢å¼• iï¼Œanswer[i] ä»£è¡¨çš„æ˜¯ i å·¦ä¾§æ‰€æœ‰æ•°å­—çš„ä¹˜ç§¯ã€‚</p><p>æ„é€ æ–¹å¼ä¸ä¹‹å‰ç›¸åŒï¼Œåªæ˜¯æˆ‘ä»¬è¯•å›¾èŠ‚çœç©ºé—´ï¼Œå…ˆæŠŠ answer ä½œä¸ºæ–¹æ³•ä¸€çš„ L æ•°ç»„ã€‚è¿™ç§æ–¹æ³•çš„å”¯ä¸€å˜åŒ–å°±æ˜¯æˆ‘ä»¬æ²¡æœ‰æ„é€  R æ•°ç»„ã€‚è€Œæ˜¯ç”¨ä¸€ä¸ªéå†æ¥è·Ÿè¸ªå³è¾¹å…ƒç´ çš„ä¹˜ç§¯ã€‚å¹¶æ›´æ–°æ•°ç»„ answer[i] = answer[i] âˆ— Rã€‚ç„¶å RR æ›´æ–°ä¸ºR = R âˆ— nums[i]ï¼Œå…¶ä¸­å˜é‡ R è¡¨ç¤ºçš„å°±æ˜¯ç´¢å¼•å³ä¾§æ•°å­—çš„ä¹˜ç§¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[] productExceptSelf(<span class="hljs-keyword">int</span>[] nums) &#123;<br>        <span class="hljs-keyword">int</span> length = nums.length;<br>        <span class="hljs-keyword">int</span>[] answer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[length];<br><br>        <span class="hljs-comment">// answer[i] è¡¨ç¤ºç´¢å¼• i å·¦ä¾§æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯</span><br>        <span class="hljs-comment">// å› ä¸ºç´¢å¼•ä¸º &#x27;0&#x27; çš„å…ƒç´ å·¦ä¾§æ²¡æœ‰å…ƒç´ ï¼Œ æ‰€ä»¥ answer[0] = 1</span><br>        answer[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; length; i++) &#123;<br>            answer[i] = nums[i - <span class="hljs-number">1</span>] * answer[i - <span class="hljs-number">1</span>];<br>        &#125;<br><br>        <span class="hljs-comment">// R ä¸ºå³ä¾§æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯</span><br>        <span class="hljs-comment">// åˆšå¼€å§‹å³è¾¹æ²¡æœ‰å…ƒç´ ï¼Œæ‰€ä»¥ R = 1</span><br>        <span class="hljs-keyword">int</span> R = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>            <span class="hljs-comment">// å¯¹äºç´¢å¼• iï¼Œå·¦è¾¹çš„ä¹˜ç§¯ä¸º answer[i]ï¼Œå³è¾¹çš„ä¹˜ç§¯ä¸º R</span><br>            answer[i] = answer[i] * R;<br>            <span class="hljs-comment">// R éœ€è¦åŒ…å«å³è¾¹æ‰€æœ‰çš„ä¹˜ç§¯ï¼Œæ‰€ä»¥è®¡ç®—ä¸‹ä¸€ä¸ªç»“æœæ—¶éœ€è¦å°†å½“å‰å€¼ä¹˜åˆ° R ä¸Š</span><br>            R *= nums[i];<br>        &#125;<br>        <span class="hljs-keyword">return</span> answer;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/product-of-array-except-self/solution/chu-zi-shen-yi-wai-shu-zu-de-cheng-ji-by-leetcode-/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure><blockquote><p>è¿™ä¸ªç®—æ˜¯åšè¿‡ä¸€æ¬¡å°±å­¦ä¼šäº†ï¼Œè¾“å‡ºæ•°ç»„ä¸ç®—å…¥ç©ºé—´å¤æ‚åº¦</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 334</title>
    <link href="/2021/09/02/LeetCode-Notes-334/"/>
    <url>/2021/09/02/LeetCode-Notes-334/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-334"><a href="#Leetcode-Notes-334" class="headerlink" title="Leetcode Notes - 334"></a>Leetcode Notes - 334</h1><p>é¢˜ç›®ï¼š<strong>334. é€’å¢çš„ä¸‰å…ƒå­åºåˆ—</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>è´ªå¿ƒ</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-è´ªå¿ƒ-ï¼Ÿ"><a href="#1-è´ªå¿ƒ-ï¼Ÿ" class="headerlink" title="1. è´ªå¿ƒ ï¼Ÿ"></a>1. è´ªå¿ƒ ï¼Ÿ</h3><p>å¤è¯»ç‰ˆæœ¬ğŸ“•</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210902131133263.png" alt="ä¼ªDP"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">increasingTriplet</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(nums.length &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br><br>        <span class="hljs-keyword">int</span> small = Integer.MAX_VALUE;<br>        <span class="hljs-keyword">int</span> mid = Integer.MAX_VALUE;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> cur : nums)&#123;<br>            <span class="hljs-keyword">if</span>(cur &lt;= small)&#123;<br>                small = cur;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(cur &lt;= mid)&#123;<br>                mid = cur;<br>            &#125;<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(cur &gt; mid)&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>æœ¬é¢˜çš„æ€è·¯éå¸¸çš„å·§å¦™ï¼</p><p>é¦–å…ˆï¼Œæ–°å»ºä¸¤ä¸ªå˜é‡ small å’Œ mid ï¼Œåˆ†åˆ«ç”¨æ¥ä¿å­˜é¢˜ç›®è¦æˆ‘ä»¬æ±‚çš„é•¿åº¦ä¸º 3 çš„é€’å¢å­åºåˆ—çš„æœ€å°å€¼å’Œä¸­é—´å€¼ã€‚</p><p>æ¥ç€ï¼Œæˆ‘ä»¬éå†æ•°ç»„ï¼Œæ¯é‡åˆ°ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬å°†å®ƒå’Œ small å’Œ mid ç›¸æ¯”ï¼Œè‹¥å°äºç­‰äº small ï¼Œåˆ™æ›¿æ¢ smallï¼›å¦åˆ™ï¼Œè‹¥å°äºç­‰äº midï¼Œåˆ™æ›¿æ¢ midï¼›å¦åˆ™ï¼Œè‹¥å¤§äº midï¼Œåˆ™è¯´æ˜æˆ‘ä»¬æ‰¾åˆ°äº†é•¿åº¦ä¸º 3 çš„é€’å¢æ•°ç»„ï¼</p><p>ä¸Šé¢çš„æ±‚è§£è¿‡ç¨‹ä¸­æœ‰ä¸ªé—®é¢˜ï¼šå½“å·²ç»æ‰¾åˆ°äº†é•¿åº¦ä¸º 2 çš„é€’å¢åºåˆ—ï¼Œè¿™æ—¶åˆæ¥äº†ä¸€ä¸ªæ¯” small è¿˜å°çš„æ•°å­—ï¼Œä¸ºä»€ä¹ˆå¯ä»¥ç›´æ¥æ›¿æ¢ small å‘¢ï¼Œè¿™æ · small å’Œ mid åœ¨åŸæ•°ç»„ä¸­å¹¶ä¸æ˜¯æŒ‰ç…§ç´¢å¼•é€’å¢çš„å…³ç³»å‘€ï¼Ÿ</p><p>Trick å°±åœ¨è¿™é‡Œäº†ï¼å‡å¦‚å½“å‰çš„ small å’Œ mid ä¸º [3, 5]ï¼Œè¿™æ—¶åˆæ¥äº†ä¸ª 1ã€‚å‡å¦‚æˆ‘ä»¬ä¸å°† small æ›¿æ¢ä¸º 1ï¼Œé‚£ä¹ˆï¼Œå½“ä¸‹ä¸€ä¸ªæ•°å­—æ˜¯ 2ï¼Œåé¢å†æ¥ä¸Šä¸€ä¸ª 3 çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰åŠæ³•å‘ç°è¿™ä¸ª [1,2,3] çš„é€’å¢æ•°ç»„äº†ï¼ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬æ›¿æ¢æœ€å°å€¼ï¼Œæ˜¯ä¸ºäº†åç»­èƒ½å¤Ÿæ›´å¥½åœ°æ›´æ–°ä¸­é—´å€¼ï¼</p><p>å¦å¤–ï¼Œå³ä½¿æˆ‘ä»¬æ›´æ–°äº† small ï¼Œè¿™ä¸ª small åœ¨ mid åé¢ï¼Œæ²¡æœ‰ä¸¥æ ¼éµå®ˆé€’å¢é¡ºåºï¼Œä½†å®ƒéšå«ç€çš„çœŸç›¸æ˜¯ï¼Œæœ‰ä¸€ä¸ªæ¯” small å¤§æ¯” mid å°çš„å‰Â·æœ€å°å€¼å‡ºç°åœ¨ mid ä¹‹å‰ã€‚å› æ­¤ï¼Œå½“åç»­å‡ºç°æ¯” mid å¤§çš„å€¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸€æ ·å¯ä»¥é€šè¿‡å½“å‰ small å’Œ mid æ¨æ–­çš„ç¡®å­˜åœ¨ç€é•¿åº¦ä¸º 3 çš„é€’å¢åºåˆ—ã€‚ æ‰€ä»¥ï¼Œè¿™æ ·çš„æ›¿æ¢å¹¶ä¸ä¼šå¹²æ‰°æˆ‘ä»¬åç»­çš„è®¡ç®—ï¼</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> &#123;</span><br><span class="hljs-keyword">public</span>:<br>  <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">increasingTriplet</span><span class="hljs-params">(vector&lt;<span class="hljs-keyword">int</span>&gt;&amp; nums)</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> len = nums.<span class="hljs-built_in">size</span>();<br>    <span class="hljs-keyword">if</span> (len &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">int</span> small = INT_MAX, mid = INT_MAX;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">auto</span> num : nums) &#123;<br>      <span class="hljs-keyword">if</span> (num &lt;= small) &#123;<br>        small = num;<br>      &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (num &lt;= mid) &#123;<br>        mid = num;<br>      &#125; <br>      <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (num &gt; mid) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;    <br>  &#125;<br>&#125;;<br><br>ä½œè€…ï¼šfxxuuu<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/increasing-triplet-subsequence/solution/c-xian-xing-shi-jian-fu-za-du-xiang-xi-jie-xi-da-b/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Big Data Intro - Chapter 4</title>
    <link href="/2021/09/02/Big-Data-Intro-Chapter-4/"/>
    <url>/2021/09/02/Big-Data-Intro-Chapter-4/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬04ç« -HBaseæŠ€æœ¯åŸç†"><a href="#ç¬¬04ç« -HBaseæŠ€æœ¯åŸç†" class="headerlink" title="ç¬¬04ç«  HBaseæŠ€æœ¯åŸç†"></a>ç¬¬04ç«  HBaseæŠ€æœ¯åŸç†</h1><h2 id="Part-1-HBase-åŸºæœ¬ä»‹ç»"><a href="#Part-1-HBase-åŸºæœ¬ä»‹ç»" class="headerlink" title="Part 1 HBase åŸºæœ¬ä»‹ç»"></a>Part 1 HBase åŸºæœ¬ä»‹ç»</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><strong>HBase</strong> æ˜¯ä¸€ä¸ª<strong>é«˜å¯é æ€§ã€é«˜æ€§èƒ½ã€é¢å‘åˆ—ã€å¯ä¼¸ç¼©</strong>çš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿ</p><ul><li>é€‚åˆäº<strong>å­˜å‚¨å¤§è¡¨æ•°æ®ï¼ˆè¡¨çš„è§„æ¨¡å¯ä»¥è¾¾åˆ°æ•°åäº¿è¡Œä»¥åŠæ•°ç™¾ä¸‡åˆ—ï¼‰</strong>ï¼Œå¹¶ä¸”å¯¹è¾¾æ ‡æ•°æ®çš„è¯»ã€å†™è®¿é—®å¯ä»¥è¾¾åˆ°<strong>å®æ—¶çº§åˆ«</strong><ul><li>è¡¥å……ï¼š<strong>BigTableç»“æ„</strong>ï¼Œæ˜¯ä¸€ä¸ª<strong>ç–æ¾çš„åˆ†å¸ƒå¼çš„æŒä¹…çš„å¤šç»´æ’åºçš„map</strong></li><li>è¿™ä¸ªè¡Œmapæœ‰<strong>è¡Œé”®ã€åˆ—é”®å’Œæ—¶é—´æˆ³ç´¢å¼•</strong>ï¼Œæ¯ä¸€ä¸ªå€¼éƒ½æ˜¯è¿ç»­çš„byteæ•°ç»„</li></ul></li><li>åˆ©ç”¨ <strong>HDFS</strong> ä½œä¸ºå…¶æ–‡ä»¶å­˜å‚¨ç³»ç»Ÿï¼Œæä¾›å®æ—¶è¯»å†™çš„åˆ†å¸ƒå¼æ“ä½œç³»ç»Ÿ</li><li>åˆ©ç”¨ <strong>Zookeeper</strong> ä½œä¸ºååŒæœåŠ¡<ul><li>åˆ†å¸ƒå¼é”</li><li>äº‹ä»¶ç›‘æ§</li><li>å­˜å‚¨HBaseçš„Region Serveræ•°æ®ï¼Œå……å½“å¾®å‹æ•°æ®åº“</li></ul></li></ul><h3 id="HBase-ä¸-RDB-çš„å¯¹æ¯”"><a href="#HBase-ä¸-RDB-çš„å¯¹æ¯”" class="headerlink" title="HBase ä¸ RDB çš„å¯¹æ¯”"></a>HBase ä¸ RDB çš„å¯¹æ¯”</h3><h4 id="1-æ•°æ®ç´¢å¼•"><a href="#1-æ•°æ®ç´¢å¼•" class="headerlink" title="1. æ•°æ®ç´¢å¼•"></a>1. æ•°æ®ç´¢å¼•</h4><p>å…³ç³»æ•°æ®åº“é€šå¸¸å¯ä»¥é’ˆå¯¹ä¸åŒåˆ—æ„å»ºå¤æ‚çš„å¤šä¸ªç´¢å¼•ï¼Œä»¥æé«˜æ•°æ®è®¿é—®æ€§èƒ½</p><p>HBaseåªæœ‰ä¸€ä¸ªç´¢å¼•â€”â€”è¡Œé”®ï¼Œé€šè¿‡å·§å¦™çš„è®¾è®¡ï¼ŒHBaseä¸­çš„æ‰€æœ‰è®¿é—®æ–¹æ³•ï¼Œæˆ–è€…é€šè¿‡è¡Œé”®è®¿é—®ï¼Œæˆ–è€…é€šè¿‡è¡Œé”®æ‰«æï¼Œä»è€Œä½¿å¾—æ•´ä¸ªç³»ç»Ÿä¸ä¼šæ…¢ä¸‹æ¥</p><h4 id="2-æ•°æ®ç»´æŠ¤"><a href="#2-æ•°æ®ç»´æŠ¤" class="headerlink" title="2. æ•°æ®ç»´æŠ¤"></a>2. æ•°æ®ç»´æŠ¤</h4><p>åœ¨å…³ç³»æ•°æ®åº“ä¸­ï¼Œæ›´æ–°æ“ä½œä¼šç”¨æœ€æ–°çš„å½“å‰å€¼å»æ›¿æ¢è®°å½•ä¸­åŸæ¥çš„æ—§å€¼ï¼Œæ—§å€¼è¢«è¦†ç›–åå°±ä¸ä¼šå­˜åœ¨</p><p>åœ¨HBaseä¸­æ‰§è¡Œæ›´æ–°æ“ä½œæ—¶ï¼Œå¹¶ä¸ä¼šåˆ é™¤æ•°æ®æ—§çš„ç‰ˆæœ¬ï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œæ—§æœ‰çš„ç‰ˆæœ¬ä»ç„¶ä¿ç•™</p><h4 id="3-å¯ä¼¸ç¼©æ€§"><a href="#3-å¯ä¼¸ç¼©æ€§" class="headerlink" title="3. å¯ä¼¸ç¼©æ€§"></a>3. å¯ä¼¸ç¼©æ€§</h4><p>å…³ç³»æ•°æ®åº“å¾ˆéš¾å®ç°æ¨ªå‘æ‰©å±•ï¼Œçºµå‘æ‰©å±•çš„ç©ºé—´ä¹Ÿæ¯”è¾ƒæœ‰é™</p><p>ç›¸åï¼ŒHBase å’Œ <strong>BigTable</strong> è¿™äº›åˆ†å¸ƒå¼æ•°æ®åº“å°±æ˜¯ä¸ºäº†å®ç°çµæ´»çš„æ°´å¹³æ‰©å±•è€Œå¼€å‘çš„ï¼Œèƒ½å¤Ÿè½»æ˜“åœ°é€šè¿‡åœ¨é›†ç¾¤ä¸­å¢åŠ æˆ–è€…å‡å°‘ç¡¬ä»¶æ•°é‡æ¥å®ç°æ€§èƒ½çš„ä¼¸ç¼©</p><h2 id="Part-2-HBase-ç›¸å…³æ¦‚å¿µ"><a href="#Part-2-HBase-ç›¸å…³æ¦‚å¿µ" class="headerlink" title="Part 2 HBase ç›¸å…³æ¦‚å¿µ"></a>Part 2 HBase ç›¸å…³æ¦‚å¿µ</h2><h3 id="æ•°æ®æ¨¡å‹"><a href="#æ•°æ®æ¨¡å‹" class="headerlink" title="æ•°æ®æ¨¡å‹"></a>æ•°æ®æ¨¡å‹</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210902194427988.png" alt="HBaseè¡¨ç»“æ„"></p><p><strong>å•å…ƒæ ¼ Cell</strong>ï¼šåœ¨ HBase è¡¨ä¸­ï¼Œé€šè¿‡è¡Œï¼Œåˆ—æ—å’Œåˆ—é™å®šç¬¦ç¡®å®šä¸€ä¸ªâ€œå•å…ƒæ ¼â€ï¼Œå•å…ƒæ ¼ä¸­å­˜å‚¨çš„æ•°æ®æ²¡æœ‰æ•°æ®ç±»å‹ï¼Œæ€»è¢«è§†ä¸º<strong>å­—èŠ‚æ•°ç»„byte[]</strong></p><h3 id="è¡Œå­˜å‚¨"><a href="#è¡Œå­˜å‚¨" class="headerlink" title="è¡Œå­˜å‚¨"></a>è¡Œå­˜å‚¨</h3><p>æ•°æ®<strong>æŒ‰è¡Œå­˜å‚¨</strong>åœ¨åº•å±‚æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚é€šå¸¸ï¼Œæ¯ä¸€è¡Œä¼šè¢«åˆ†é…å›ºå®šçš„ç©ºé—´</p><ul><li>ä¼˜ç‚¹ï¼šæœ‰åˆ©äº<strong>å¢åŠ /ä¿®æ”¹</strong>æ•´è¡Œè®°å½•ç­‰æ“ä½œï¼›æœ‰åˆ©äºæ•´è¡Œæ•°æ®çš„<strong>è¯»å–æ“ä½œ</strong></li><li>ç¼ºç‚¹ï¼š<strong>å•åˆ—æŸ¥è¯¢</strong>æ—¶ï¼Œä¼šè¯»å–ä¸€äº›ä¸å¿…è¦çš„æ•°æ®</li></ul><h3 id="åˆ—å­˜å‚¨"><a href="#åˆ—å­˜å‚¨" class="headerlink" title="åˆ—å­˜å‚¨"></a>åˆ—å­˜å‚¨</h3><p>HBaseé‡‡ç”¨<strong>åˆ—å­˜å‚¨</strong></p><p>æ•°æ®<strong>ä»¥åˆ—å•ä½</strong>å­˜å‚¨åœ¨åº•å±‚æ–‡ä»¶ç³»ç»Ÿä¸­</p><ul><li>ä¼˜ç‚¹ï¼šæœ‰åˆ©äºé¢å‘å•åˆ—æ•°æ®çš„<strong>è¯»å–/ç»Ÿè®¡</strong>ç­‰æ“ä½œ</li><li>ç¼ºç‚¹ï¼šæ•´è¡Œè¯»å–æ—¶ï¼Œå¯èƒ½éœ€è¦å¤šæ¬¡<strong>I/O</strong>æ“ä½œ</li></ul><h2 id="Part-3-HBase-æ¶æ„"><a href="#Part-3-HBase-æ¶æ„" class="headerlink" title="Part 3 HBase æ¶æ„"></a>Part 3 HBase æ¶æ„</h2><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210902195512539.png" alt="HBaseæ•´ä½“æ¶æ„"></p><p><strong>ZooKeeper</strong> ä¸º HBase é›†ç¾¤ä¸­å„è¿›ç¨‹<strong>æä¾›åˆ†å¸ƒå¼åä½œæœåŠ¡</strong></p><ul><li>å„ <strong>RegionServer</strong> å°†è‡ªå·±çš„ä¿¡æ¯æ³¨å†Œåˆ° <strong>Zookeeper</strong> ä¸­ï¼Œä¸»ç”¨<strong>Master</strong>æ®æ­¤æ„ŸçŸ¥å„ä¸ª<strong>RegionServer</strong> çš„å¥åº·çŠ¶æ€</li></ul><p><strong>Client</strong> ä½¿ç”¨ HBase çš„<strong>RPC</strong>æœºåˆ¶ä¸ <strong>Masterã€RegionServer</strong> è¿›è¡Œé€šä¿¡</p><ul><li><strong>Client</strong> ä¸ <strong>Master</strong> è¿›è¡Œç®¡ç† ç±»é€šä¿¡ï¼Œä¸ <strong>RegionServer</strong> è¿›è¡Œæ•°æ®æ“ä½œç±»é€šä¿¡</li></ul><p><strong>RegionServer</strong> è´Ÿè´£æä¾›<strong>è¡¨æ•°æ®è¯»å†™</strong>ç­‰æœåŠ¡ï¼Œæ˜¯ HBase çš„<strong>æ•°æ®å¤„ç†å’Œè®¡ç®—å•å…ƒ</strong></p><ul><li><strong>RegionServer</strong> ä¸€èˆ¬ä¸ HDFS é›†ç¾¤çš„ <strong>DataNode</strong> éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œå®ç°æ•°æ®çš„å­˜å‚¨åŠŸèƒ½</li></ul><p><strong>HMaster</strong>ï¼Œåœ¨<strong>HA</strong>æ¨¡å¼ä¸‹ï¼ŒåŒ…å« <strong>ä¸»ç”¨Masterå’Œå¤‡ç”¨Master</strong></p><ul><li>ä¸»ç”¨Masterï¼šè´Ÿè´£ HBase ä¸­ RegionServer çš„ç®¡ç†ï¼ŒåŒ…æ‹¬è¡¨çš„å¢åˆ æ”¹æŸ¥ï¼›RegionServer çš„è´Ÿè½½å‡è¡¡ï¼ŒRegion åˆ†å¸ƒè°ƒæ•´ï¼›Region åˆ†è£‚ä»¥åŠåˆ†è£‚åçš„ Region åˆ†é…ï¼› RegionServer å¤±æ•ˆåçš„ Region è¿ç§»ç­‰</li><li>å¤‡ç”¨Masterï¼šå½“<strong>ä¸»ç”¨Master</strong>æ•…éšœæ—¶ï¼Œå¤‡ç”¨Masterå°†å–ä»£ä¸»ç”¨Masterå¯¹å¤–æä¾›æœåŠ¡ã€‚ <strong>æ•…éšœæ¢å¤åï¼ŒåŸä¸»ç”¨Masteré™ä¸ºå¤‡ç”¨</strong></li></ul><p>HDFS ä¸º HBase æä¾›<strong>é«˜å¯é çš„æ–‡ä»¶å­˜å‚¨æœåŠ¡</strong>ï¼ŒHBaseçš„æ•°æ®<strong>å…¨éƒ¨å­˜å‚¨åœ¨HDFS</strong>ä¸­</p><p>å®¢æˆ·ç«¯å¹¶ä¸ä¾èµ– <strong>HMaster</strong>ï¼Œè€Œæ˜¯é€šè¿‡ <strong>Zookeeper</strong>æ¥è·å¾— <strong>Region</strong> ä½ç½®ä¿¡æ¯ï¼Œå¤§å¤šæ•°å®¢æˆ·ç«¯ç”šè‡³ä»æ¥ä¸å’Œ <strong>HMaster</strong> é€šä¿¡</p><h3 id="ä¸»è¦åŠŸèƒ½ç»„ä»¶"><a href="#ä¸»è¦åŠŸèƒ½ç»„ä»¶" class="headerlink" title="ä¸»è¦åŠŸèƒ½ç»„ä»¶"></a>ä¸»è¦åŠŸèƒ½ç»„ä»¶</h3><p><strong>1. åº“å‡½æ•°ï¼šé“¾æ¥åˆ°æ¯ä¸ªå®¢æˆ·ç«¯</strong></p><p><strong>2. ä¸€ä¸ª HMaster ä¸»æœåŠ¡å™¨</strong></p><p><strong>3. å¤šä¸ª HReigonServer</strong></p><p>ä¸¤ä¸ªæ¦‚å¿µâ€”â€”<strong>MemStore å’Œ StoreFile</strong></p><ul><li>å½“ <strong>RS</strong> ä¸­çš„ <strong>MS</strong> å¤§å°è¾¾åˆ°é…ç½®çš„å®¹é‡ä¸Šé™æ—¶ï¼Œ<strong>RS</strong> ä¼šå°† <strong>MS</strong> ä¸­çš„æ•°æ® â€œflushâ€ åˆ° HDFS ä¸­</li><li>éšç€æ•°æ®çš„<strong>æ’å…¥</strong>ï¼Œä¸€ä¸ª <strong>SF</strong> ä¼šäº§ç”Ÿå¤šä¸ª <strong>SF</strong>ï¼Œå½“ <strong>SF</strong> çš„ä¸ªæ•°è¾¾åˆ°é…ç½®çš„æœ€å¤§æ—¶ï¼Œ<strong>RS</strong> ä¼šå°†å¤šä¸ª <strong>SF</strong> åˆå¹¶æˆä¸€ä¸ªå¤§çš„ <strong>SF</strong></li></ul><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210902200636355.png" alt="HBaseå­˜å‚¨æ¶æ„"></p><h3 id="è¡¨å’ŒRegion"><a href="#è¡¨å’ŒRegion" class="headerlink" title="è¡¨å’ŒRegion"></a>è¡¨å’ŒRegion</h3><ul><li><p>HBase è¡¨å¼€å§‹åªæœ‰ä¸€ä¸ª Regionï¼Œåæ¥ä¸æ–­åˆ†è£‚</p></li><li><p>Region æ‹†åˆ†æ“ä½œéå¸¸å¿«ï¼Œæ¥è¿‘ç¬é—´ï¼Œæ‹†åˆ†è¿‡ç¨‹ä¸­çš„ Regionä¸å¯è¯»ï¼Œç›´åˆ°æŠŠ Region å­˜å‚¨æ–‡ä»¶ å¼‚æ­¥åœ°å†™åˆ°ç‹¬ç«‹çš„æ–‡ä»¶ä¹‹åï¼Œæ‰ä¼šè¯»å–æ–°æ–‡ä»¶</p></li></ul><h3 id="Region-çš„å®šä½"><a href="#Region-çš„å®šä½" class="headerlink" title="Region çš„å®šä½"></a>Region çš„å®šä½</h3><ul><li>Region åˆ†ä¸º <strong>å…ƒæ•°æ®Regionä»¥åŠç”¨æˆ· Region</strong> ä¸¤ç±»</li><li><strong>Meta Region</strong> è®°å½•äº†æ¯ä¸€ä¸ª <strong>User Region</strong> çš„è·¯ç”±ä¿¡æ¯</li><li>è¯»å†™ <strong>Region</strong> æ•°æ®çš„è·¯ç”±ï¼ŒåŒ…æ‹¬å¦‚ä¸‹å‡ æ­¥ï¼š<ul><li>æ‰¾å¯» <strong>Meta Region</strong> åœ°å€</li><li>å†ç”± <strong>Meta Region</strong> æ‰¾å¯» <strong>User Region</strong> åœ°å€</li></ul></li></ul><h3 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h3><p>å®¢æˆ·ç«¯åŒ…å«è®¿é—® <strong>HBase</strong> çš„æ¥å£ï¼ŒåŒæ—¶åœ¨ç¼“å­˜ä¸­ç»´æŠ¤ç€å·²ç»è®¿é—®è¿‡çš„ <strong>Region</strong> ä½ç½®ä¿¡æ¯ï¼Œç”¨æ¥åŠ å¿«åç»­æ•°æ®è®¿é—®è¿‡ç¨‹</p><p>æ•´ä½“è¿‡ç¨‹æ˜¯â€”â€”</p><ol><li>æŸ¥è¯¢ <strong>hbase:meta</strong> è¡¨</li><li>ç¡®å®š <strong>Region</strong> çš„ä½ç½®</li><li>å®šä½åˆ°æ‰€éœ€è¦çš„åŒºåŸŸåï¼Œå®¢æˆ·ç«¯ç›´æ¥è®¿é—®ç›¸åº”çš„ <strong>Regionï¼ˆä¸ç»è¿‡HMasterï¼‰</strong>ï¼Œå‘èµ·è¯»å†™è¯·æ±‚</li></ol><h3 id="HMaster-å’Œ-HRegionServer"><a href="#HMaster-å’Œ-HRegionServer" class="headerlink" title="HMaster å’Œ HRegionServer"></a>HMaster å’Œ HRegionServer</h3><h4 id="Master"><a href="#Master" class="headerlink" title="Master"></a>Master</h4><p>è´Ÿè´£ <strong>è¡¨å’Œ Region</strong> çš„ç®¡ç†å·¥ä½œ</p><ul><li>ç®¡ç†ç”¨æˆ·å¯¹è¡¨çš„<strong>å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹ã€æŸ¥è¯¢</strong>ç­‰æ“ä½œ</li><li>å®ç°ä¸åŒ <strong>HRegionServer</strong> ä¹‹é—´çš„è´Ÿè½½å‡è¡¡</li><li>åœ¨ <strong>Region</strong> åˆ†è£‚æˆ–åˆå¹¶åï¼Œè´Ÿè´£é‡æ–°è°ƒæ•´ <strong>Region</strong> çš„åˆ†å¸ƒ</li><li>å¯¹å‘ç”Ÿæ•…éšœå¤±æ•ˆçš„ <strong>HRegionServer</strong> ä¸Šçš„Regionè¿›è¡Œè¿ç§»</li></ul><p>é«˜å¯ç”¨ï¼šZK å¯ä»¥å¸®åŠ©é€‰ä¸¾å‡ºä¸€ä¸ª HMasterä½œä¸ºé›†ç¾¤çš„æ€»ç®¡ï¼Œå¹¶ä¿è¯åœ¨ä»»ä½•æ—¶åˆ»æ€»æœ‰å”¯ä¸€ä¸€ä¸ª HMaster åœ¨è¿è¡Œï¼Œè¿™å°±é¿å…äº† HMaster çš„â€œå•ç‚¹å¤±æ•ˆâ€é—®é¢˜</p><h4 id="RegionServer"><a href="#RegionServer" class="headerlink" title="RegionServer"></a>RegionServer</h4><p>HRS æ˜¯ HBase ä¸­æœ€æ ¸å¿ƒçš„æ¨¡å—</p><ul><li>è´Ÿè´£ç»´æŠ¤åˆ†é…ç»™è‡ªå·±çš„ Region</li><li>å“åº”ç”¨æˆ·çš„è¯»å†™è¯·æ±‚</li></ul><h2 id="Part-3-HBase-å…³é”®æµç¨‹"><a href="#Part-3-HBase-å…³é”®æµç¨‹" class="headerlink" title="Part 3 HBase å…³é”®æµç¨‹"></a>Part 3 HBase å…³é”®æµç¨‹</h2><h3 id="ç”¨æˆ·è¯»å†™æ•°æ®è¿‡ç¨‹"><a href="#ç”¨æˆ·è¯»å†™æ•°æ®è¿‡ç¨‹" class="headerlink" title="ç”¨æˆ·è¯»å†™æ•°æ®è¿‡ç¨‹"></a>ç”¨æˆ·è¯»å†™æ•°æ®è¿‡ç¨‹</h3><ol><li>ç”¨æˆ·å†™å…¥æ•°æ®æ—¶ï¼Œè¢«åˆ†é…åˆ°ç›¸åº” <strong>HRegionServer</strong> å»æ‰§è¡Œ</li><li>ç”¨æˆ·æ•°æ®é¦–å…ˆè¢«å†™å…¥ <strong>Hlog</strong> ä¸­ï¼Œå†å†™å…¥ <strong>MemStore</strong> ä¸­ï¼Œæœ€ç»ˆå†™åˆ°ç£ç›˜ä¸Šå½¢æˆ <strong>StoreFile</strong></li><li>åªæœ‰å½“æ“ä½œå†™å…¥ <strong>Hlog</strong> ä¹‹åï¼Œ<strong>commit()</strong> è°ƒç”¨æ‰ä¼šå°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯</li><li>å½“ç”¨æˆ·è¯»å–æ•°æ®æ—¶ï¼Œ<strong>HRegionServer</strong> é¦–å…ˆè®¿é—® <strong>MemStore</strong> ç¼“å­˜ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œå†å»ç£ç›˜ä¸Šé¢çš„ <strong>StoreFile</strong> ä¸­å¯»æ‰¾</li></ol><h3 id="ç¼“å­˜çš„åˆ·æ–°"><a href="#ç¼“å­˜çš„åˆ·æ–°" class="headerlink" title="ç¼“å­˜çš„åˆ·æ–°"></a>ç¼“å­˜çš„åˆ·æ–°</h3><ol><li>ç³»ç»Ÿä¼šå‘¨æœŸæ€§åœ°æŠŠ <strong>MemStore</strong> ç¼“å­˜é‡Œçš„å†…å®¹åˆ·å†™åˆ°ç£ç›˜çš„ <strong>StoreFIle</strong> æ–‡ä»¶ä¸­ï¼Œæ¸…ç©ºç¼“å­˜ï¼Œå¹¶åœ¨ <strong>Hlog</strong> é‡Œé¢å†™å…¥ä¸€ä¸ªæ ‡è®°</li><li>æ¯æ¬¡åˆ·å†™éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„ <strong>StoreFile</strong> æ–‡ä»¶ï¼Œå› æ­¤ï¼Œæ¯ä¸ª <strong>Store</strong> åŒ…å«å¤šä¸ª <strong>StoreFile</strong> æ–‡ä»¶</li><li>æ¯ä¸ª <strong>HRegionServer</strong> éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„ <strong>Hlog</strong> æ–‡ä»¶ï¼Œæ¯æ¬¡å¯åŠ¨éƒ½æ£€æŸ¥è¯¥æ–‡ä»¶ï¼Œç¡®è®¤æœ€è¿‘ä¸€æ¬¡æ‰§è¡Œç¼“å­˜åˆ·æ–°æ“ä½œä¹‹åæ˜¯å¦å‘ç”Ÿæ–°çš„å†™å…¥æ“ä½œï¼›å¦‚æœå‘ç°æ›´æ–°ï¼Œåˆ™å…ˆå†™å…¥ <strong>MemStore</strong> ï¼Œå†åˆ·å†™åˆ° <strong>StoreFile</strong>ï¼Œå¼€å§‹ä¸ºç”¨æˆ·æä¾›æœåŠ¡</li></ol><h3 id="StoreFile-çš„åˆå¹¶"><a href="#StoreFile-çš„åˆå¹¶" class="headerlink" title="StoreFile çš„åˆå¹¶"></a>StoreFile çš„åˆå¹¶</h3><ol><li>æ¯æ¬¡åˆ·å†™éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„ <strong>StoreFile</strong>ï¼Œæ•°é‡å¤ªå¤šï¼Œå½±å“æŸ¥æ‰¾é€Ÿåº¦</li><li>è°ƒç”¨ <strong>Store.compact()</strong> æŠŠå¤šä¸ªåˆå¹¶æˆä¸€ä¸ª</li><li>åˆå¹¶æ“ä½œæ¯”è¾ƒè€—è´¹èµ„æºï¼Œåªæœ‰æ•°é‡è¾¾åˆ°ä¸€ä¸ªé˜ˆå€¼æ‰å¯åŠ¨åˆå¹¶</li></ol><h3 id="Store-å·¥ä½œåŸç†"><a href="#Store-å·¥ä½œåŸç†" class="headerlink" title="Store å·¥ä½œåŸç†"></a>Store å·¥ä½œåŸç†</h3><ol><li><strong>Store</strong> æ˜¯ <strong>HRegionServer</strong> çš„æ ¸å¿ƒ</li><li>å¤šä¸ª <strong>StoreFIle</strong> åˆå¹¶æˆä¸€ä¸ª</li><li>å•ä¸ª <strong>StoreFile</strong> è¿‡å¤§æ—¶ï¼Œåˆè§¦å‘åˆ†è£‚æ“ä½œï¼Œä¸€ä¸ªçˆ¶ <strong>Region</strong> è¢«åˆ†è£‚æˆä¸¤ä¸ªå­ <strong>Region</strong></li></ol><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210902212733671.png" alt="Store å·¥ä½œåŸç†"></p><h3 id="Hlog-å·¥ä½œåŸç†"><a href="#Hlog-å·¥ä½œåŸç†" class="headerlink" title="Hlog å·¥ä½œåŸç†"></a>Hlog å·¥ä½œåŸç†</h3><ol><li>åˆ†å¸ƒå¼ç¯å¢ƒå¿…é¡»è¦è€ƒè™‘ç³»ç»Ÿå‡ºé”™ã€‚HBase é‡‡ç”¨ <strong>Hlog</strong> ä¿è¯ç³»ç»Ÿæ¢å¤</li><li>HBase ç³»ç»Ÿä¸ºæ¯ä¸ª <strong>HRegionServer</strong> é…ç½®äº†ä¸€ä¸ª <strong>Hlog</strong> æ–‡ä»¶ï¼Œå®ƒæ˜¯ä¸€ç§é¢„å†™å¼æ—¥å¿—ï¼ˆWrite Ahead Logï¼‰</li><li>ç”¨æˆ·æ›´æ–°æ•°æ®å¿…é¡»<strong>é¦–å…ˆå†™å…¥æ—¥å¿—</strong>åï¼Œæ‰èƒ½å†™å…¥ <strong>MemStore</strong> ç¼“å­˜ï¼Œå¹¶ä¸”ï¼ŒçŸ¥é“ <strong>MemStore</strong> ç¼“å­˜å†…å®¹å¯¹åº”çš„æ—¥å¿—å·²ç»å†™å…¥ç£ç›˜ï¼Œè¯¥ç¼“å­˜å†…å®¹æ‰èƒ½è¢«åˆ·å†™åˆ°ç£ç›˜</li><li><strong>Zookeeper</strong> ä¼šå®æ—¶æ£€æµ‹æ¯ä¸ª <strong>HRegionServer</strong> çš„çŠ¶æ€ï¼Œå½“æŸä¸ª <strong>HRegionServer</strong> å‘ç”Ÿæ•…éšœæ—¶ï¼Œ<strong>Zookeeper</strong> ä¼šé€šçŸ¥ <strong>HMaster</strong> <ul><li><strong>HMaster</strong> ä¼šé¦–å…ˆå¤„ç†è¯¥æ•…éšœ <strong>HRegionServer</strong> ä¸Šé¢é—ç•™çš„ <strong>Hlog</strong> æ–‡ä»¶ï¼Œè¿™ä¸ªé—ç•™çš„ <strong>Hlog</strong> æ–‡ä»¶ä¸­åŒ…å«äº†æ¥è‡ªå¤šä¸ª <strong>Region</strong> å¯¹è±¡çš„æ—¥å¿—è®°å½•</li><li>ç³»ç»Ÿä¼šæ ¹æ®<strong>æ¯æ¡æ—¥å¿—è®°å½•æ‰€å±çš„ Regionå¯¹è±¡</strong> å¯¹ <strong>Hlog</strong> è¿›è¡Œæ‹†åˆ†ï¼Œåˆ†åˆ«æ”¾åˆ°å¯¹åº” <strong>Region å¯¹è±¡</strong> çš„ç›®å½•ä¸‹ï¼Œç„¶åï¼Œå†å°†å¤±æ•ˆçš„ <strong>Region</strong> é‡æ–°åˆ†é…åˆ°å¯ç”¨çš„ <strong>HRegionServer</strong> ä¸­ï¼Œå¹¶æŠŠè¯¥ <strong>Regionå¯¹è±¡</strong> ç›¸å…³çš„ <strong>Hlog</strong> æ—¥å¿—è®°å½•ä¹Ÿå‘é€ç»™ç›¸åº”çš„ <strong>HRegionServer</strong></li><li><strong>HRegionServer</strong> é¢†å–åˆ°åˆ†é…ç»™è‡ªå·±çš„ <strong>Region</strong> å¯¹è±¡ä»¥åŠä¸ä¹‹ç›¸å…³çš„ <strong>Hlog</strong> æ—¥å¿—è®°å½•ä»¥åï¼Œä¼šé‡æ–°åšä¸€éæ—¥å¿—è®°å½•ä¸­çš„å„ç§æ“ä½œï¼ŒæŠŠæ—¥å¿—è®°å½•ä¸­çš„æ•°æ®å†™å…¥åˆ° <strong>MemStore</strong> ç¼“å­˜ä¸­ï¼Œç„¶åï¼Œåˆ·å†™åˆ°ç£ç›˜çš„ <strong>StoreFile</strong> æ–‡ä»¶ä¸­ï¼Œå®Œæˆæ•°æ®æ¢å¤</li></ul></li><li>å…±ç”¨æ—¥å¿—<ul><li>ä¼˜ç‚¹ï¼šæé«˜å¯¹è¡¨çš„å†™æ“ä½œæ€§èƒ½</li><li>ç¼ºç‚¹ï¼šæ¢å¤æ—¶éœ€è¦æ‹†åˆ†æ—¥å¿—</li></ul></li></ol><h2 id="Part-4-HBase-çªå‡ºç‰¹ç‚¹"><a href="#Part-4-HBase-çªå‡ºç‰¹ç‚¹" class="headerlink" title="Part 4 HBase çªå‡ºç‰¹ç‚¹"></a>Part 4 HBase çªå‡ºç‰¹ç‚¹</h2><h3 id="å¤š-HFile-çš„å½±å“"><a href="#å¤š-HFile-çš„å½±å“" class="headerlink" title="å¤š HFile çš„å½±å“"></a>å¤š HFile çš„å½±å“</h3><p><strong>HFile</strong> æ–‡ä»¶æ•°ç›®è¶Šæ¥è¶Šå¤šï¼Œè¯»å–çš„æ—¶å»¶ä¹Ÿè¶Šæ¥è¶Šå¤§ã€‚</p><h3 id="Compaction-å‹ç¼©"><a href="#Compaction-å‹ç¼©" class="headerlink" title="Compaction å‹ç¼©"></a>Compaction å‹ç¼©</h3><p><strong>Compaction</strong> æ˜¯ä¸ºäº†å‡å°‘åŒä¸€ä¸ª <strong>Region</strong> ä¸­åŒä¸€ä¸ª <strong>ColumnFamilyï¼ˆåˆ—æ—ï¼‰</strong> ä¸‹é¢çš„å°æ–‡ä»¶ï¼Œå³ <strong>HFile</strong> çš„æ•°ç›®ï¼Œä»è€Œæå‡è¯»å–çš„æ€§èƒ½</p><p><strong>Compaction</strong> åˆ†ä¸º <strong>Minorå’ŒMajor</strong> ä¸¤ç±»â€”â€”</p><ul><li>Minorï¼šå°èŒƒå›´çš„å‹ç¼©ã€‚æœ‰æœ€å°‘å’Œæœ€å¤§æ–‡ä»¶æ•°ç›®é™åˆ¶ã€‚é€šå¸¸ä¼šé€‰æ‹©ä¸€äº›<strong>è¿ç»­æ—¶é—´èŒƒå›´</strong>çš„å°æ–‡ä»¶æƒŠé†’åˆå¹¶</li><li>Majorï¼šè®¾è®¡è¯¥ <strong>Region</strong> æˆ–è€… è¯¥ <strong>CF</strong> ä¸‹é¢æ‰€æœ‰çš„ <strong>HFile</strong> æ–‡ä»¶</li><li><strong>Minor Compaction</strong> é€‰å–æ–‡ä»¶æ—¶ï¼Œéµå¾ªä¸€å®šçš„ç®—æ³•</li></ul><p><strong>Compaction</strong> ä¹Ÿä¼šéµå¾ªä¸€å®šçš„è§„åˆ™</p><ul><li>é¦–å…ˆå¯¹è¯¥ Store ä¸­æ‰€æœ‰ <strong>HFile</strong> è¿›è¡Œä¸€ä¸€æ’æŸ¥ï¼Œæ’é™¤ä¸æ»¡è¶³æ¡ä»¶çš„éƒ¨åˆ†æ–‡ä»¶ï¼š<ul><li>æ’é™¤å½“å‰æ­£åœ¨æ‰§è¡Œ <strong>compact</strong> çš„æ–‡ä»¶åŠå…¶æ¯”è¿™äº›æ–‡ä»¶æ›´æ–°çš„æ‰€æœ‰æ–‡ä»¶ ( <strong>SequenceId</strong> æ›´å¤§)</li><li>æ’é™¤æŸäº›è¿‡å¤§çš„å•ä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ–‡ä»¶å¤§å°å¤§äº  <strong>hbase.hzstore.compaction.max.size</strong> (  é»˜è®¤ Long æœ€å¤§å€¼  )ï¼Œåˆ™è¢«æ’é™¤ï¼Œå¦åˆ™ä¼šäº§ç”Ÿå¤§é‡IOæ¶ˆè€—ã€‚</li></ul></li></ul><p>ç»è¿‡æ’é™¤çš„æ–‡ä»¶ç§°ä¸º<strong>å€™é€‰æ–‡ä»¶</strong>ï¼Œ<strong>HBase</strong> æ¥ä¸‹æ¥ä¼šå†åˆ¤æ–­æ˜¯å¦æ»¡è¶³ <strong>major compaction</strong> æ¡ä»¶ï¼Œ å¦‚æœæ»¡è¶³ï¼Œå°±ä¼šé€‰æ‹©å…¨éƒ¨æ–‡ä»¶è¿›è¡Œåˆå¹¶ã€‚åˆ¤æ–­æ¡ä»¶æœ‰ä¸‹é¢ä¸‰æ¡ï¼Œåªè¦æ»¡è¶³å…¶ä¸­ä¸€æ¡å°±ä¼šæ‰§è¡Œ<strong>major compaction</strong></p><ul><li>ç”¨æˆ·å¼ºåˆ¶æ‰§è¡Œ<strong>major compaction</strong></li><li>é•¿æ—¶é—´æ²¡æœ‰è¿›è¡Œ <strong>compact ( CompactionChecker çš„åˆ¤æ–­æ¡ä»¶2 )</strong> ä¸”å€™é€‰æ–‡ä»¶æ•°å°äº <strong>hbase.hstore.compaction.max (é»˜è®¤10)</strong></li><li><strong>Store</strong> ä¸­å«æœ‰ <strong>Reference</strong> æ–‡ä»¶ï¼Œ<strong>Reference</strong> æ–‡ä»¶æ˜¯ <strong>split region</strong> äº§ç”Ÿçš„ä¸´æ—¶æ–‡ä»¶ï¼Œåªæ˜¯ç®€å•çš„å¼•ç”¨æ–‡ä»¶ï¼Œä¸€èˆ¬å¿…é¡»åœ¨ <strong>compact</strong> è¿‡ç¨‹ä¸­åˆ é™¤</li></ul><p>å¦‚æœä¸æ»¡è¶³ <strong>major compaction</strong> æ¡ä»¶ï¼Œå°±å¿…ç„¶ä¸º <strong>minor compaction</strong></p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210902215023011.png" alt="Compactionæµç¨‹"></p><h3 id="OpenScanner"><a href="#OpenScanner" class="headerlink" title="OpenScanner"></a>OpenScanner</h3><p>åœ¨å¯»æ‰¾åˆ° <strong>rowkey</strong> æ‰€å¯¹åº”çš„ <strong>RegionServer</strong> å’Œ <strong>Region</strong> ä¹‹åï¼Œéœ€è¦æ‰“å¼€ä¸€ä¸ªæŸ¥æ‰¾å™¨<strong>Scanner</strong>ï¼Œç”± å…¶å…·ä½“æ‰§è¡ŒæŸ¥æ‰¾æ•°æ®ï¼Œ<strong>Region</strong> ä¸­ä¼šåŒ…å«<strong>å†…å­˜æ•°æ®MemStore</strong>ï¼Œæ–‡ä»¶æ•°æ®<strong>HFile</strong>ï¼Œé‚£ä¹ˆåœ¨ <strong>open  scanner</strong> çš„æ—¶å€™å°±éœ€è¦åˆ†åˆ«è¯»å–è¿™ä¸¤å—æ•°æ®ï¼Œæ‰“å¼€å¯¹åº”ä¸åŒçš„<strong>scanner</strong> åšæŸ¥è¯¢æ“ä½œ</p><ul><li><strong>HFile</strong> å¯¹åº”çš„ <strong>Scanner</strong> ä¸º <strong>StoreFIleScanner</strong></li><li><strong>MemStore</strong> å¯¹åº”çš„ <strong>Scanner</strong> ä¸º <strong>MemStoreScanner</strong></li></ul><h3 id="BloomFilter"><a href="#BloomFilter" class="headerlink" title="BloomFilter"></a>BloomFilter</h3><ol><li><strong>BloomFilter</strong> ç”¨æ¥ä¼˜åŒ–ä¸€äº›<strong>éšæœºè¯»å–</strong>çš„åœºæ™¯ï¼Œå³ <strong>Get</strong> åœºæ™¯ã€‚å®ƒå¯ä»¥è¢«ç”¨æ¥å¿«é€Ÿåœ°åˆ¤æ–­ä¸€æ¡ç”¨æˆ·æ•°æ®åœ¨ä¸€ä¸ªå¤§çš„æ•°æ®é›†åˆï¼ˆè¯¥æ•°æ®é›†åˆåœ°å¤§éƒ¨åˆ†æ•°æ®éƒ½æ²¡æ³•è¢«åŠ è½½åˆ°å†…å­˜ä¸­ï¼‰ä¸­æ˜¯å¦å­˜åœ¨</li><li><strong>BloomFilter</strong> åœ¨åˆ¤æ–­ä¸€ä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨æ—¶ï¼Œæ‹¥æœ‰ä¸€å®šçš„<strong>è¯¯åˆ¤ç‡</strong>ã€‚ä½†å¯¹äº â€œç”¨æˆ·æ•°æ® XXXä¸å­˜åœ¨â€ çš„åˆ¤æ–­ç»“æœæ˜¯å¯ä¿¡çš„</li><li><strong>HBase</strong> çš„ <strong>BloomFilter</strong> çš„ç›¸å…³æ•°æ®ï¼Œè¢«ä¿å­˜åœ¨ <strong>HFile</strong></li></ol><h2 id="Part-5-HBase-æ€§èƒ½ä¼˜åŒ–"><a href="#Part-5-HBase-æ€§èƒ½ä¼˜åŒ–" class="headerlink" title="Part 5 HBase æ€§èƒ½ä¼˜åŒ–"></a>Part 5 HBase æ€§èƒ½ä¼˜åŒ–</h2><h3 id="è¡Œé”®ï¼ˆRow-Keyï¼‰"><a href="#è¡Œé”®ï¼ˆRow-Keyï¼‰" class="headerlink" title="è¡Œé”®ï¼ˆRow Keyï¼‰"></a>è¡Œé”®ï¼ˆRow Keyï¼‰</h3><p>è¡Œé”®æ˜¯æŒ‰ç…§ <strong>å­—å…¸æ’åº</strong> å­˜å‚¨ï¼Œå› æ­¤ï¼Œè®¾è®¡è¡Œé”®æ—¶ï¼Œè¦å……åˆ†åˆ©ç”¨è¿™ä¸ªæ’åºç‰¹ç‚¹ï¼Œå°†ç»å¸¸ä¸€èµ·è¯»å–çš„æ•°æ®å­˜å‚¨åˆ°ä¸€å—ï¼Œå°†æœ€è¿‘å¯èƒ½è¢«è®¿é—®çš„æ•°æ®æ”¾åœ¨ä¸€å—</p><p>ä¾‹å­â€”â€”</p><blockquote><p>å¦‚æœæœ€è¿‘å†™å…¥ HBase è¡¨ä¸­çš„æ•°æ®æ˜¯æœ€å¯èƒ½è¢«è®¿é—®çš„ï¼Œå¯ä»¥è€ƒè™‘å°†æ—¶é—´æˆ³ä½œä¸ºè¡Œé”®çš„ä¸€éƒ¨åˆ†ï¼Œç”±äºæ˜¯å­—å…¸åºæ’åºï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ Long.MAX_VALUE - timestamp ä½œä¸ºè¡Œé”®ï¼Œè¿™æ ·èƒ½ä¿è¯æ–°å†™å…¥çš„æ•°æ®åœ¨è¯»å–æ—¶å¯ä»¥è¢«å¿«é€Ÿå‘½ä¸­</p></blockquote><h3 id="æ„å»º-HBase-äºŒçº§ç´¢å¼•"><a href="#æ„å»º-HBase-äºŒçº§ç´¢å¼•" class="headerlink" title="æ„å»º HBase äºŒçº§ç´¢å¼•"></a>æ„å»º HBase äºŒçº§ç´¢å¼•</h3><p>HBase åªæœ‰ä¸€ä¸ªé’ˆå¯¹è¡Œé”®çš„ç´¢å¼•</p><p>è®¿é—® HBase è¡¨ä¸­çš„è¡Œï¼Œåªæœ‰ä¸‰ç§æ–¹å¼ï¼š</p><ul><li>é€šè¿‡å•ä¸ªè¡Œé”®è®¿é—®</li><li>é€šè¿‡ä¸€ä¸ªè¡Œé”®çš„åŒºé—´æ¥è®¿é—®</li><li>å…¨è¡¨æ‰«æ</li></ul><p><strong>Hindex</strong> äºŒçº§ç´¢å¼•æ˜¯åä¸ºå…¬å¸å¼€å‘çš„çº¯ Java ç¼–å†™çš„ HBase äºŒçº§ç´¢å¼•</p><ul><li>å¤šä¸ªè¡¨ç´¢å¼•</li><li>å¤šä¸ªåˆ—ç´¢å¼•</li><li>åŸºäºéƒ¨åˆ†åˆ—å€¼çš„ç´¢å¼•</li></ul><h2 id="Part-6-HBase-å¸¸ç”¨-Shell-å‘½ä»¤"><a href="#Part-6-HBase-å¸¸ç”¨-Shell-å‘½ä»¤" class="headerlink" title="Part 6 HBase  å¸¸ç”¨ Shell å‘½ä»¤"></a>Part 6 HBase  å¸¸ç”¨ Shell å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta">#</span><span class="bash"> åˆ›å»ºè¡¨</span><br>create<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> åˆ—å‡º HBase ä¸­æ‰€æœ‰çš„è¡¨ä¿¡æ¯</span><br>list<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> å‘è¡¨ã€è¡Œã€åˆ—æŒ‡å®šçš„å•å…ƒæ ¼æ·»åŠ æ•°æ®</span><br>put<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> æµè§ˆè¡¨çš„ç›¸å…³ä¿¡æ¯</span><br>scan<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> é€šè¿‡è¡¨åã€è¡Œã€åˆ—ã€æ—¶é—´æˆ³ã€æ—¶é—´èŒƒå›´å’Œç‰ˆæœ¬å·æ¥è·å¾—ç›¸åº”å•å…ƒæ ¼çš„å€¼</span><br>get<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> ä½¿è¡¨æœ‰æ•ˆæˆ–æ— æ•ˆ</span><br>enable/disable<br><span class="hljs-meta"></span><br><span class="hljs-meta">#</span><span class="bash"> åˆ é™¤è¡¨ï¼ˆå¯¹åº”è¡¨éœ€è¦å…ˆå¤„äº diabled çŠ¶æ€ï¼‰</span><br>drop<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Big Data Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 240</title>
    <link href="/2021/09/01/LeetCode-Notes-240/"/>
    <url>/2021/09/01/LeetCode-Notes-240/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-240"><a href="#Leetcode-Notes-240" class="headerlink" title="Leetcode Notes - 240"></a>Leetcode Notes - 240</h1><p>é¢˜ç›®ï¼š<strong>240. æœç´¢äºŒç»´çŸ©é˜µ II</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>äºŒåˆ†æŸ¥æ‰¾</li><li>æœç´¢äºŒç»´çŸ©é˜µ</li><li>æœç´¢äºŒå‰æ ‘</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-é”™å°±å¯¹äº†ï¼"><a href="#1-é”™å°±å¯¹äº†ï¼" class="headerlink" title="1. é”™å°±å¯¹äº†ï¼"></a>1. é”™å°±å¯¹äº†ï¼</h3><p>æš´åŠ›æ³•çš„åºŸç‰©â€¦äºŒåˆ†å†™ä¸å‡ºæ¥ï¼Œéº»äº†ğŸ˜­</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210901230057218.png" alt="æš´åŠ›éå†"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">searchMatrix</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[][] matrix, <span class="hljs-keyword">int</span> target)</span> </span>&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> c = <span class="hljs-number">0</span>; c &lt; matrix[<span class="hljs-number">0</span>].length; c++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> r = <span class="hljs-number">0</span>; r &lt; matrix.length; r++)&#123;<br>                <span class="hljs-keyword">if</span>(matrix[r][c] == target) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="å‰ªæ"><a href="#å‰ªæ" class="headerlink" title="å‰ªæ"></a>å‰ªæ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>å¹¶ä¸æ˜¯æƒ³ä¸åˆ°è¿™ä¸ªæ–¹æ³•ï¼Œå¾ˆé‡è¦ä¸€ä¸ªå¼¯æ²¡æœ‰è½¬è¿‡æ¥ã€‚</p><p>å°±æ˜¯å‘å·¦å‘å³ä¸èƒ½æ˜¯åŒä¸€ä¸ªå•è°ƒæ€§ï¼Œäºæ˜¯æˆ‘ä»¬æœ‰â€”â€”</p><ul><li>é€‰å·¦ä¸Šè§’ï¼Œå¾€å³èµ°å’Œå¾€ä¸‹èµ°éƒ½å¢å¤§ï¼Œä¸èƒ½é€‰</li><li>é€‰å³ä¸‹è§’ï¼Œå¾€ä¸Šèµ°å’Œå¾€å·¦èµ°éƒ½å‡å°ï¼Œä¸èƒ½é€‰</li><li>é€‰å·¦ä¸‹è§’ï¼Œå¾€å³èµ°å¢å¤§ï¼Œå¾€ä¸Šèµ°å‡å°ï¼Œå¯é€‰</li><li>é€‰å³ä¸Šè§’ï¼Œå¾€ä¸‹èµ°å¢å¤§ï¼Œå¾€å·¦èµ°å‡å°ï¼Œå¯é€‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">searchMatrix</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[][] matrix, <span class="hljs-keyword">int</span> target)</span> </span>&#123;<br>        <span class="hljs-comment">// start our &quot;pointer&quot; in the bottom-left</span><br>        <span class="hljs-keyword">int</span> row = matrix.length-<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> col = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">while</span> (row &gt;= <span class="hljs-number">0</span> &amp;&amp; col &lt; matrix[<span class="hljs-number">0</span>].length) &#123;<br>            <span class="hljs-keyword">if</span> (matrix[row][col] &gt; target) &#123;<br>                row--;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (matrix[row][col] &lt; target) &#123;<br>                col++;<br>            &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// found it</span><br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 435</title>
    <link href="/2021/09/01/LeetCode-Notes-435/"/>
    <url>/2021/09/01/LeetCode-Notes-435/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-435"><a href="#Leetcode-Notes-435" class="headerlink" title="Leetcode Notes - 435"></a>Leetcode Notes - 435</h1><p>é¢˜ç›®ï¼š<strong>435. æ— é‡å åŒºé—´</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>DP</li><li>è´ªå¿ƒ</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="ä¸€ç›´é”™ï¼Œå“­äº†ï¼Œä¸ä¼šè´ª"><a href="#ä¸€ç›´é”™ï¼Œå“­äº†ï¼Œä¸ä¼šè´ª" class="headerlink" title="ä¸€ç›´é”™ï¼Œå“­äº†ï¼Œä¸ä¼šè´ª"></a>ä¸€ç›´é”™ï¼Œå“­äº†ï¼Œä¸ä¼šè´ª</h3><p>ç†è§£é¢˜è§£åé‡å†™ç‰ˆæœ¬ğŸ˜­</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210901234654745.png" alt="è´ªå¿ƒ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">eraseOverlapIntervals</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[][] intervals)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(intervals.length &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>        Arrays.sort(intervals, <span class="hljs-keyword">new</span> Comparator&lt;<span class="hljs-keyword">int</span>[]&gt;()&#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span> <span class="hljs-params">(<span class="hljs-keyword">int</span>[] v1, <span class="hljs-keyword">int</span>[] v2)</span></span>&#123;<br>                <span class="hljs-keyword">return</span> v1[<span class="hljs-number">1</span>] - v2[<span class="hljs-number">1</span>];<br>            &#125;<br>        &#125;);<br><br>        <span class="hljs-keyword">int</span> best = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> minRight = intervals[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>        <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; intervals.length; i++)&#123;<br>            <span class="hljs-keyword">if</span>(intervals[i][<span class="hljs-number">0</span>] &gt;= minRight)&#123;<br>                best++;<br>                minRight = intervals[i][<span class="hljs-number">1</span>];<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> intervals.length - best;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="è´ªå¿ƒ"><a href="#è´ªå¿ƒ" class="headerlink" title="è´ªå¿ƒ"></a>è´ªå¿ƒ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>æˆ‘ä»¬å¯ä»¥ä¸æ–­åœ°å¯»æ‰¾å³ç«¯ç‚¹åœ¨é¦–ä¸ªåŒºé—´å³ç«¯ç‚¹å·¦ä¾§çš„æ–°åŒºé—´ï¼Œå°†é¦–ä¸ªåŒºé—´æ›¿æ¢æˆè¯¥åŒºé—´ã€‚é‚£ä¹ˆå½“æˆ‘ä»¬æ— æ³•æ›¿æ¢æ—¶ï¼Œé¦–ä¸ªåŒºé—´å°±æ˜¯æ‰€æœ‰å¯ä»¥é€‰æ‹©çš„åŒºé—´ä¸­å³ç«¯ç‚¹æœ€å°çš„é‚£ä¸ªåŒºé—´ã€‚å› æ­¤æˆ‘ä»¬å°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å³ç«¯ç‚¹ä»å°åˆ°å¤§è¿›è¡Œæ’åºï¼Œé‚£ä¹ˆæ’å®Œåºä¹‹åçš„é¦–ä¸ªåŒºé—´ï¼Œå°±æ˜¯æˆ‘ä»¬é€‰æ‹©çš„é¦–ä¸ªåŒºé—´ã€‚</p><p>å¦‚æœæœ‰å¤šä¸ªåŒºé—´çš„å³ç«¯ç‚¹éƒ½åŒæ ·æœ€å°æ€ä¹ˆåŠï¼Ÿç”±äºæˆ‘ä»¬é€‰æ‹©çš„æ˜¯é¦–ä¸ªåŒºé—´ï¼Œå› æ­¤åœ¨å·¦ä¾§ä¸ä¼šæœ‰å…¶å®ƒçš„åŒºé—´ï¼Œé‚£ä¹ˆå·¦ç«¯ç‚¹åœ¨ä½•å¤„æ˜¯ä¸é‡è¦çš„ï¼Œæˆ‘ä»¬åªè¦ä»»æ„é€‰æ‹©ä¸€ä¸ªå³ç«¯ç‚¹æœ€å°çš„åŒºé—´å³å¯ã€‚</p><p>å½“ç¡®å®šäº†é¦–ä¸ªåŒºé—´ä¹‹åï¼Œæ‰€æœ‰ä¸é¦–ä¸ªåŒºé—´ä¸é‡åˆçš„åŒºé—´å°±ç»„æˆäº†ä¸€ä¸ªè§„æ¨¡æ›´å°çš„å­é—®é¢˜ã€‚ç”±äºæˆ‘ä»¬å·²ç»åœ¨åˆå§‹æ—¶å°†æ‰€æœ‰åŒºé—´æŒ‰ç…§å³ç«¯ç‚¹æ’å¥½åºäº†ï¼Œå› æ­¤å¯¹äºè¿™ä¸ªå­é—®é¢˜ï¼Œæˆ‘ä»¬æ— éœ€å†æ¬¡è¿›è¡Œæ’åºï¼Œåªè¦æ‰¾å‡ºå…¶ä¸­ä¸é¦–ä¸ªåŒºé—´ä¸é‡åˆå¹¶ä¸”å³ç«¯ç‚¹æœ€å°çš„åŒºé—´å³å¯ã€‚ç”¨ç›¸åŒçš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥ä¾æ¬¡ç¡®å®šåç»­çš„æ‰€æœ‰åŒºé—´ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">eraseOverlapIntervals</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[][] intervals)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (intervals.length == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        &#125;<br>        <br>        Arrays.sort(intervals, <span class="hljs-keyword">new</span> Comparator&lt;<span class="hljs-keyword">int</span>[]&gt;() &#123;<br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] interval1, <span class="hljs-keyword">int</span>[] interval2)</span> </span>&#123;<br>                <span class="hljs-keyword">return</span> interval1[<span class="hljs-number">1</span>] - interval2[<span class="hljs-number">1</span>];<br>            &#125;<br>        &#125;);<br><br>        <span class="hljs-keyword">int</span> n = intervals.length;<br>        <span class="hljs-keyword">int</span> right = intervals[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">if</span> (intervals[i][<span class="hljs-number">0</span>] &gt;= right) &#123;<br>                ++ans;<br>                right = intervals[i][<span class="hljs-number">1</span>];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> n - ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Big Data Intro - Chapter 3</title>
    <link href="/2021/09/01/Big-Data-Intro-Chapter-3/"/>
    <url>/2021/09/01/Big-Data-Intro-Chapter-3/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬03ç« -Hiveåˆ†å¸ƒå¼æ•°æ®ä»“åº“"><a href="#ç¬¬03ç« -Hiveåˆ†å¸ƒå¼æ•°æ®ä»“åº“" class="headerlink" title="ç¬¬03ç«  Hiveåˆ†å¸ƒå¼æ•°æ®ä»“åº“"></a>ç¬¬03ç«  Hiveåˆ†å¸ƒå¼æ•°æ®ä»“åº“</h1><h2 id="Part1-Hiveæ¦‚è¿°"><a href="#Part1-Hiveæ¦‚è¿°" class="headerlink" title="Part1 Hiveæ¦‚è¿°"></a>Part1 Hiveæ¦‚è¿°</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>Hiveæ˜¯åŸºäº<strong>Hadoop</strong>çš„<strong>æ•°æ®ä»“åº“è½¯ä»¶</strong>ï¼Œå¯ä»¥<strong>æŸ¥è¯¢å’Œç®¡ç†PBçº§åˆ«</strong>çš„åˆ†å¸ƒå¼æ•°æ®</p><h3 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h3><ol><li>çµæ´»æ–¹ä¾¿çš„ETL</li><li>æ”¯æŒTezï¼ŒSparkç­‰å¤šç§è®¡ç®—å¼•æ“</li><li>å¯ç›´æ¥è®¿é—®HDFSæ–‡ä»¶ä»¥åŠHBase</li><li>æ˜“ç”¨æ˜“ç¼–ç¨‹</li></ol><h3 id="å±€é™æ€§"><a href="#å±€é™æ€§" class="headerlink" title="å±€é™æ€§"></a>å±€é™æ€§</h3><ol><li><p>Hiveæ„å»ºåœ¨åŸºäº<strong>é™æ€æ‰¹å¤„ç†çš„Hadoop</strong>ä¹‹ä¸Šï¼Œè€ŒHadoopé€šå¸¸éƒ½æœ‰<strong>è¾ƒé«˜çš„å»¶è¿Ÿ</strong>å¹¶ä¸”åœ¨ä½œä¸šæäº¤å’Œè°ƒåº¦çš„æ—¶å€™<strong>éœ€è¦å¤§é‡çš„å¼€é”€</strong></p></li><li><p>Hiveå¹¶ä¸èƒ½åœ¨å¤§è§„æ¨¡æ•°æ®é›†ä¸Šå®ç°<strong>ä½å»¶è¿Ÿå¿«é€Ÿçš„æŸ¥è¯¢</strong>ï¼Œå¹¶ä¸é€‚åˆä½æ—¶å»¶éœ€æ±‚çš„åº”ç”¨ï¼Œå¦‚OLTPï¼ˆè”åˆäº‹åŠ¡å¤„ç†ï¼‰</p><blockquote><p>ä¾‹å¦‚Hiveåœ¨å‡ ç™¾MBçš„æ•°æ®é›†ä¸Šæ‰§è¡ŒæŸ¥è¯¢ä¸€èˆ¬æœ‰<strong>åˆ†é’Ÿçº§</strong>çš„æ—¶é—´å»¶è¿Ÿã€‚</p></blockquote></li><li><p>Hiveå¹¶ä¸æä¾›<strong>å®æ—¶çš„æŸ¥è¯¢</strong>å’Œ<strong>åŸºäºè¡Œçº§çš„æ•°æ®æ›´æ–°æ“ä½œ</strong></p></li><li><p>Hiveçš„æœ€ä½³ä½¿ç”¨åœºæ™¯æ˜¯<strong>æ‰“å‡ºèšé›†çš„æ‰¹å¤„ç†ä½œä¸š</strong>ï¼Œä¾‹å¦‚ç½‘ç»œæ—¥å¿—åˆ†æ</p></li></ol><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ol><li>é«˜å¯é ä¸é«˜å®¹é”™<ul><li>HiveServeré‡‡ç”¨é›†ç¾¤æ¨¡å¼</li><li>åŒMetaStore</li><li>è¶…æ—¶é‡è¯•æœºåˆ¶</li></ul></li><li>ç±»SQL<ul><li>ç±»ä¼¼SQLè¯­æ³•</li><li>å†…ç½®å¤§é‡å‡½æ•°</li></ul></li><li>å¯æ‰©å±•<ul><li>è‡ªå®šä¹‰å­˜å‚¨æ ¼å¼</li><li>è‡ªå®šä¹‰å‡½æ•°</li></ul></li><li>å¤šæ¥å£<ul><li>Beeline - Hiveçš„å‘½ä»¤è¡Œå®¢æˆ·ç«¯</li><li>JDBC</li><li>Thrift - ä¸€ç§åºåˆ—åŒ–ã€é€šä¿¡åè®®</li><li>ODBC - åŸºäºC/C++çš„æ•°æ®åº“æ ‡å‡†æ¥å£</li></ul></li></ol><h2 id="Part-2-HiveåŠŸèƒ½ä¸æ¶æ„"><a href="#Part-2-HiveåŠŸèƒ½ä¸æ¶æ„" class="headerlink" title="Part 2 HiveåŠŸèƒ½ä¸æ¶æ„"></a>Part 2 HiveåŠŸèƒ½ä¸æ¶æ„</h2><h3 id="æ¶æ„å›¾"><a href="#æ¶æ„å›¾" class="headerlink" title="æ¶æ„å›¾"></a>æ¶æ„å›¾</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210901211737923.png" alt="Hiveæ¶æ„å›¾"></p><p>å…¶ä¸­éœ€è¦è¡¥å……çš„æœ‰â€”â€”</p><ul><li><p>Optimizerï¼šä¼˜åŒ–å™¨ï¼Œåˆ†ä¸º<strong>é€»è¾‘ä¼˜åŒ–å™¨å’Œç‰©ç†ä¼˜åŒ–å™¨</strong></p><blockquote><p>åˆ†åˆ«å¯¹HQLç”Ÿæˆçš„æ‰§è¡Œè®¡åˆ’å’ŒMapReduceä»»åŠ¡è¿›è¡Œä¼˜åŒ–</p></blockquote></li><li><p>Thrift Serverï¼šæä¾›<strong>thriftæ¥å£</strong>ï¼Œä½œä¸ºJDBC/ODBCæ¥å£ï¼Œä¸ºç”¨æˆ·è®¿é—®æä¾›æ¥å£</p></li><li><p>Clientsï¼šåŒ…å«å‘½ä»¤è¡Œæ¥å£Beelineå’ŒJDBC/ODBCæ¥å£ï¼Œä¸ºç”¨æˆ·è®¿é—®æä¾›æ¥å£</p></li></ul><h3 id="è¿è¡Œæµç¨‹"><a href="#è¿è¡Œæµç¨‹" class="headerlink" title="è¿è¡Œæµç¨‹"></a>è¿è¡Œæµç¨‹</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210901212804665.png" alt="Hiveè¿è¡Œæµç¨‹"></p><h3 id="æ•°æ®å­˜å‚¨æ¨¡å‹"><a href="#æ•°æ®å­˜å‚¨æ¨¡å‹" class="headerlink" title="æ•°æ®å­˜å‚¨æ¨¡å‹"></a>æ•°æ®å­˜å‚¨æ¨¡å‹</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210901214238333.png" alt="Hiveæ•°æ®å­˜å‚¨æ¨¡å‹"></p><p>å‡ ä¸ªåŸºæœ¬æ¦‚å¿µâ€”â€”</p><ul><li><p>æ•°æ®åº“ï¼šå¯¹åº” <strong>Schema</strong>ï¼Œåˆ›å»ºè¡¨æ—¶å¦‚æœä¸æŒ‡å®šæ•°æ®åº“ï¼Œåˆ™é»˜è®¤ä¸º<strong>default</strong>æ•°æ®åº“</p></li><li><p>è¡¨ï¼šç‰©ç†æ¦‚å¿µï¼Œå®é™…å¯¹åº”HDFSä¸Šçš„ä¸€ä¸ª<strong>ç›®å½•</strong></p></li><li><p>åˆ†åŒºï¼šå¯¹åº”æ‰€åœ¨è¡¨æ‰€åœ¨ç›®ä¸‹çš„ä¸€ä¸ª<strong>å­ç›®å½•</strong></p><ul><li>å½“è¡¨æ ¼æ•°æ®é‡è¾ƒå¤§æ—¶ï¼Œå¯å¯¹è¡¨æ ¼è¿›è¡Œåˆ†åŒºå¤„ç† (Partition)</li><li>è¿™æ ·ä¾¿äºå±€éƒ¨æ•°æ®çš„æŸ¥è¯¢æ“ä½œï¼Œå¦‚æŒ‰æ—¶é—´åˆ†åŒºã€æŒ‰åœ°åŸŸåˆ†åŒºï¼Œå°†å…·æœ‰ç›¸åŒæ€§è´¨çš„æ•°æ®å­˜å‚¨åˆ°åŒä¸€ç£ç›˜å—ä¸Šï¼Œä»è€ŒåŠ å¿«æŸ¥è¯¢æ•ˆç‡</li></ul></li><li><p>æ¡¶ï¼šå¯¹åº”è¡¨æˆ–åˆ†åŒºæ‰€åœ¨è·¯å¾„çš„ä¸€ä¸ª<strong>æ–‡ä»¶</strong></p><ul><li>Hiveæ˜¯é’ˆå¯¹æŸä¸€åˆ—è¿›è¡Œåˆ†æ¡¶</li><li>Hiveé‡‡ç”¨å¯¹åˆ—å€¼å“ˆå¸Œï¼Œç„¶åé™¤ä»¥æ¡¶çš„ä¸ªæ•°æ±‚ä½™çš„æ–¹å¼å†³å®šè¯¥æ¡è®°å½•å­˜æ”¾åœ¨å“ªä¸ªæ¡¶ä¸­</li><li>åˆ†æ¡¶çš„å¥½å¤„æ˜¯å¯ä»¥è·å¾—æ›´é«˜çš„æŸ¥è¯¢å¤„ç†æ•ˆç‡ã€‚ä½¿å–æ ·æ›´é«˜æ•ˆ<ul><li>åˆ†æ¡¶çš„åº”ç”¨åœºæ™¯ï¼š1ï¼‰æ•°æ®æŠ½æ · 2ï¼‰æå‡æŸäº›æŸ¥è¯¢æ“ä½œæ•ˆç‡ï¼Œå¦‚ï¼šmapside join</li></ul></li></ul></li><li><p>æ•°æ®çš„<strong>å€¾æ–œå’Œæ­£å¸¸</strong>ï¼š</p><ul><li><strong>å€¾æ–œï¼š</strong>æ•°æ®é›†ä¸­äºä¸ªåˆ«å­—æ®µå€¼çš„åœºæ™¯ï¼Œæ¯”å¦‚æŒ‰ç…§åŸå¸‚åˆ†åŒºæ—¶ï¼Œ80%çš„æ•°æ®éƒ½æ¥è‡ªæŸä¸ªå¤§åŸå¸‚</li><li><strong>æ­£å¸¸ï¼š</strong>ä¸å­˜åœ¨å€¾æ–œçš„æ•°æ®</li></ul></li><li><p>Hiveå¯ä»¥åˆ›å»ºä¸¤ç§è¡¨<strong>æ‰˜ç®¡è¡¨å’Œå¤–éƒ¨è¡¨</strong></p><ul><li><p>åˆ›å»ºHiveè¡¨ï¼ŒHiveä¼šå°†æ•°æ®ç§»åŠ¨åˆ°<strong>æ•°æ®ä»“åº“ç›®å½•</strong></p></li><li><p>é€‰æ‹©è§„åˆ™â€”â€”</p><ul><li>å¦‚æœ<strong>æ‰€æœ‰å¤„ç†éƒ½ç”±Hiveå®Œæˆ</strong>ï¼Œå»ºè®®ä½¿ç”¨<strong>æ‰˜ç®¡è¡¨</strong></li><li>å¦‚æœ<strong>è¦ç”¨Hiveå’Œå…¶ä»–å·¥å…·æ¥å¤„ç†åŒä¸€ä¸ªæ•°æ®é›†</strong>ï¼Œå»ºè®®ä½¿ç”¨<strong>å¤–éƒ¨è¡¨</strong></li></ul></li><li><p>ä¸¤è€…ä¸»è¦åŒºåˆ«â€”â€”</p><ul><li><p>Hive åˆ›å»ºè¡¨æ—¶</p><blockquote><ol><li>åˆ›å»ºå†…éƒ¨è¡¨æ—¶ï¼Œä¼š<strong>å°†æ•°æ®ç§»åŠ¨åˆ°æ•°æ®ä»“åº“</strong>æŒ‡å‘çš„è·¯å¾„</li><li>è‹¥åˆ›å»ºå¤–éƒ¨è¡¨ï¼Œä»…<strong>è®°å½•æ•°æ®æ‰€åœ¨çš„è·¯å¾„ï¼Œ ä¸å¯¹æ•°æ®çš„ä½ç½®</strong>åšä»»ä½•æ”¹å˜</li></ol></blockquote></li><li><p>Hive åˆ é™¤è¡¨çš„æ—¶</p><blockquote><ol><li>å†…éƒ¨è¡¨çš„å…ƒæ•°æ®å’Œæ•°æ®ä¼šè¢«ä¸€èµ·åˆ é™¤</li><li>å¤–éƒ¨è¡¨åªåˆ é™¤å…ƒæ•°æ®ï¼Œä¸åˆ é™¤æ•°æ®</li><li>è¿™æ ·å¤–éƒ¨è¡¨ç›¸å¯¹æ¥è¯´æ›´åŠ å®‰å…¨äº›ï¼Œæ•°æ®ç»„ç»‡ä¹Ÿæ›´åŠ çµæ´»ï¼Œæ–¹ä¾¿å…±äº«æºæ•°æ®</li></ol></blockquote></li></ul></li></ul></li></ul><h2 id="Part-3-HiveåŸºæœ¬æ“ä½œä¸ä½¿ç”¨"><a href="#Part-3-HiveåŸºæœ¬æ“ä½œä¸ä½¿ç”¨" class="headerlink" title="Part 3 HiveåŸºæœ¬æ“ä½œä¸ä½¿ç”¨"></a>Part 3 HiveåŸºæœ¬æ“ä½œä¸ä½¿ç”¨</h2><p>è¯¦è§åç»­åšå®¢</p>]]></content>
    
    
    <categories>
      
      <category>Big Data Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Big Data Intro - Chapter 2</title>
    <link href="/2021/08/31/Big-Data-Intro-Chapter-2/"/>
    <url>/2021/08/31/Big-Data-Intro-Chapter-2/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬02ç« -HDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå’ŒZooKeeper"><a href="#ç¬¬02ç« -HDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå’ŒZooKeeper" class="headerlink" title="ç¬¬02ç«  HDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå’ŒZooKeeper"></a>ç¬¬02ç«  HDFSåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿå’ŒZooKeeper</h1><h2 id="Part-1-HDFS"><a href="#Part-1-HDFS" class="headerlink" title="Part 1 - HDFS"></a>Part 1 - HDFS</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>æ˜¯ä¸€ç§æ—¨åœ¨å•†å“ç¡¬ä»¶ä¸Šè¿è¡Œçš„<strong>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</strong></p><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ol><li>å…·æœ‰<strong>é«˜å®¹é”™èƒ½åŠ›</strong>ï¼Œæ—¨åœ¨éƒ¨ç½²åœ¨ä½æˆæœ¬ç¡¬ä»¶ä¸Š</li><li>æä¾›<strong>é«˜ååé‡çš„è®¿é—®</strong>ï¼Œé€‚ç”¨äºå…·æœ‰<strong>å¤§æ•°æ®é›†</strong>çš„åº”ç”¨ç¨‹åº</li><li>æ”¾å®½ä¸€äº›<strong>POSIX</strong>è¦æ±‚ï¼Œä»¥å®ç°å¯¹æ–‡ä»¶ç³»ç»Ÿæ•°æ®çš„<strong>æµå¼è®¿é—®</strong></li></ol><h3 id="ä¸é€‚ç”¨åœºæ™¯"><a href="#ä¸é€‚ç”¨åœºæ™¯" class="headerlink" title="ä¸é€‚ç”¨åœºæ™¯"></a>ä¸é€‚ç”¨åœºæ™¯</h3><h4 id="1-ä½æ—¶é—´å»¶è¿Ÿæ•°æ®è®¿é—®çš„åº”ç”¨ï¼ˆä¾‹å¦‚å‡ åæ¯«ç§’çš„èŒƒå›´ï¼‰"><a href="#1-ä½æ—¶é—´å»¶è¿Ÿæ•°æ®è®¿é—®çš„åº”ç”¨ï¼ˆä¾‹å¦‚å‡ åæ¯«ç§’çš„èŒƒå›´ï¼‰" class="headerlink" title="1. ä½æ—¶é—´å»¶è¿Ÿæ•°æ®è®¿é—®çš„åº”ç”¨ï¼ˆä¾‹å¦‚å‡ åæ¯«ç§’çš„èŒƒå›´ï¼‰"></a>1. ä½æ—¶é—´å»¶è¿Ÿæ•°æ®è®¿é—®çš„åº”ç”¨ï¼ˆä¾‹å¦‚å‡ åæ¯«ç§’çš„èŒƒå›´ï¼‰</h4><p><strong>åŸå› ï¼š</strong>HDFSæ˜¯ä¸ºé«˜ååé‡åº”ç”¨ä¼˜åŒ–çš„ï¼Œè¿™æ ·åšä¼šé€ æˆä»¥<strong>é«˜æ—¶é—´å»¶è¿Ÿ</strong>ä¸ºä»£ä»·</p><h4 id="2-å¤§é‡å°æ–‡ä»¶"><a href="#2-å¤§é‡å°æ–‡ä»¶" class="headerlink" title="2. å¤§é‡å°æ–‡ä»¶"></a>2. å¤§é‡å°æ–‡ä»¶</h4><p><strong>åŸå› ï¼š</strong>NameNodeå¯åŠ¨æ—¶ï¼Œå°†æ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®åŠ è½½åˆ°å†…å­˜ï¼Œå› æ­¤æ–‡ä»¶ç³»ç»Ÿæ‰€èƒ½å­˜å‚¨çš„æ–‡ä»¶æ€»æ•°å—é™äºNameNodeå†…å­˜å®¹é‡ã€‚æ ¹æ®ç»éªŒï¼Œæ¯ä¸ªæ–‡ä»¶ï¼Œç›®å½•å’Œæ•°æ®å—çš„å­˜å‚¨ä¿¡æ¯å¤§çº¦å 150å­—èŠ‚ï¼Œå¦‚æœä¸€ç™¾ä¸‡ä¸ªæ–‡ä»¶ï¼Œä¸”æ¯ä¸ªæ–‡ä»¶å ä¸€ä¸ªæ•°æ®å—ï¼Œé‚£è‡³å°‘éœ€è¦300MBçš„å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯å¦‚æœå­˜å‚¨åäº¿ä¸ªæ–‡ä»¶ï¼Œé‚£ä¹ˆéœ€è¦çš„å†…å­˜ç©ºé—´å°†æ˜¯éå¸¸å¤§çš„ã€‚</p><h4 id="3-å¤šç”¨æˆ·å†™å…¥ï¼Œä»»æ„ä¿®æ”¹æ–‡ä»¶"><a href="#3-å¤šç”¨æˆ·å†™å…¥ï¼Œä»»æ„ä¿®æ”¹æ–‡ä»¶" class="headerlink" title="3. å¤šç”¨æˆ·å†™å…¥ï¼Œä»»æ„ä¿®æ”¹æ–‡ä»¶"></a>3. å¤šç”¨æˆ·å†™å…¥ï¼Œä»»æ„ä¿®æ”¹æ–‡ä»¶</h4><p><strong>åŸå› ï¼š</strong>ç°åœ¨HDFSæ–‡ä»¶åªæœ‰ä¸€ä¸ªwriterï¼Œè€Œä¸”å†™æ“ä½œæ€»æ˜¯å†™åœ¨æ–‡ä»¶çš„æœ«å°¾ã€‚ä¹Ÿä¸æ”¯æŒåœ¨æ–‡ä»¶çš„ä»»æ„ä½ç½®è¿›è¡Œä¿®æ”¹ã€‚å¯èƒ½ä»¥åä¼šæ”¯æŒï¼Œä½†ç›¸å¯¹æ¯”è¾ƒä½æ•ˆ</p><h3 id="Block-å—"><a href="#Block-å—" class="headerlink" title="Block - å—"></a>Block - å—</h3><blockquote><p><strong>HDFS</strong> é»˜è®¤ä¸€ä¸ªå— <strong>128MB</strong> ,ä¸€ä¸ªæ–‡ä»¶è¢«åˆ†æˆå¤šä¸ªå—ï¼Œä»¥å—ä½œä¸ºå­˜å‚¨å•ä½</p></blockquote><p>å—çš„å¤§å°è¿œè¿œå¤§äºæ™®é€šæ–‡ä»¶ç³»ç»Ÿï¼Œè¿™å¯ä»¥<strong>æœ€å°åŒ–å¯»å€å¼€é”€</strong></p><p>æŠ½è±¡çš„å—æ¦‚å¿µå¯ä»¥å¸¦æ¥ä»¥ä¸‹å‡ ä¸ªæ˜æ˜¾çš„å¥½å¤„â€”â€”</p><ul><li>æ”¯æŒå¤§è§„æ¨¡æ–‡ä»¶å­˜å‚¨<ul><li>æ–‡ä»¶å¯ä»¥è¢«æ‹†åˆ†</li><li>ä¸ä¼šå—åˆ°å•ä¸ªèŠ‚ç‚¹çš„å­˜å‚¨å®¹é‡é™åˆ¶</li></ul></li><li>ç®€åŒ–ç³»ç»Ÿè®¾è®¡<ul><li>ç®€åŒ–äº†å­˜å‚¨ç®¡ç†</li><li>æ–¹ä¾¿äº†å…ƒæ•°æ®çš„ç®¡ç†</li></ul></li><li>é€‚åˆæ•°æ®å¤‡ä»½<ul><li>æ¯ä¸ªå—éƒ½å¯ä»¥å†—ä½™å­˜å‚¨</li><li>å¤§å¤§æé«˜ç³»ç»Ÿçš„å®¹é”™æ€§å’Œå¯ç”¨æ€§</li></ul></li></ul><h3 id="åŸºæœ¬ç³»ç»Ÿæ¶æ„"><a href="#åŸºæœ¬ç³»ç»Ÿæ¶æ„" class="headerlink" title="åŸºæœ¬ç³»ç»Ÿæ¶æ„"></a>åŸºæœ¬ç³»ç»Ÿæ¶æ„</h3><p>HDFSæ¶æ„åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼šNameNodeï¼ŒDataNodeï¼ŒClient</p><ul><li>NameNodeï¼šNameNodeç”¨äºå­˜å‚¨ã€ç”Ÿæˆæ–‡ä»¶ç³»ç»Ÿçš„å…ƒæ•°æ®ã€‚è¿è¡Œä¸€ä¸ªå®ä¾‹</li><li>DataNodeï¼šDataNodeç”¨äºå­˜å‚¨å®é™…çš„æ•°æ®ï¼Œå°†è‡ªå·±ç®¡ç†çš„æ•°æ®å—ä¸ŠæŠ¥ç»™ NameNode ï¼Œè¿è¡Œå¤šä¸ªå®ä¾‹</li><li>Clientï¼šæ”¯æŒä¸šåŠ¡è®¿é—®HDFSï¼Œä»NameNode ,DataNodeè·å–æ•°æ®è¿”å›ç»™ä¸šåŠ¡ã€‚å¤šä¸ª å®ä¾‹ï¼Œå’Œä¸šåŠ¡ä¸€èµ·è¿è¡Œ</li></ul><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831144335072.png" alt="NameNodeå’ŒDataNodeçš„å…³ç³»"></p><h4 id="NameNode-â€”â€”-åç§°èŠ‚ç‚¹"><a href="#NameNode-â€”â€”-åç§°èŠ‚ç‚¹" class="headerlink" title="NameNode â€”â€” åç§°èŠ‚ç‚¹"></a>NameNode â€”â€” åç§°èŠ‚ç‚¹</h4><p>åœ¨ <strong>NameNode</strong> ä¸­ï¼Œä¿å­˜äº†ä¸¤ä¸ªæ ¸å¿ƒçš„æ•°æ®ç»“æ„ï¼Œåˆ†åˆ«æ˜¯ <strong>FsImage</strong> å’Œ <strong>EditLog</strong></p><ul><li><strong>FsImage</strong> ç”¨äºç»´æŠ¤<ul><li>æ–‡ä»¶ç³»ç»Ÿæ ‘</li><li>æ–‡ä»¶æ ‘ä¸­æ‰€æœ‰çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„å…ƒæ•°æ®</li></ul></li><li>æ“ä½œæ—¥å¿—æ–‡ä»¶ <strong>EditLog</strong> ä¸­è®°å½•äº†æ‰€æœ‰é’ˆå¯¹æ–‡ä»¶çš„åˆ›å»ºã€åˆ é™¤ã€é‡å‘½åç­‰æ“ä½œ</li></ul><p><strong>NameNode</strong> è¿˜è®°å½•äº†æ¯ä¸ªæ–‡ä»¶ä¸­å„ä¸ªå—æ‰€åœ¨çš„<strong>æ•°æ®èŠ‚ç‚¹çš„ä½ç½®ä¿¡æ¯</strong></p><h4 id="DataNode-â€”â€”-æ•°æ®èŠ‚ç‚¹"><a href="#DataNode-â€”â€”-æ•°æ®èŠ‚ç‚¹" class="headerlink" title="DataNode â€”â€” æ•°æ®èŠ‚ç‚¹"></a>DataNode â€”â€” æ•°æ®èŠ‚ç‚¹</h4><p>æ•°æ®èŠ‚ç‚¹æ˜¯HDFSçš„<strong>å·¥ä½œèŠ‚ç‚¹</strong>â€”â€”è´Ÿè´£æ•°æ®çš„å­˜å‚¨å’Œè¯»å–</p><ul><li>æ ¹æ® <strong>Client</strong> æˆ–è€… <strong>NameNode</strong> çš„è°ƒåº¦æ¥è¿›è¡Œæ•°æ®çš„å­˜å‚¨å’Œæ£€ç´¢</li><li>å®šæœŸå‘ <strong>NameNode</strong> å‘é€è‡ªå·±æ‰€å­˜å‚¨çš„å—çš„åˆ—è¡¨</li></ul><p>æ¯ä¸ªæ•°æ®èŠ‚ç‚¹ä¸­çš„æ•°æ®ä¼šè¢«ä¿å­˜åœ¨å„è‡ªèŠ‚ç‚¹çš„æœ¬åœ°Linuxæ–‡ä»¶ç³»ç»Ÿä¸­</p><h3 id="HDFS-å‘½åç©ºé—´ç®¡ç†"><a href="#HDFS-å‘½åç©ºé—´ç®¡ç†" class="headerlink" title="HDFS å‘½åç©ºé—´ç®¡ç†"></a>HDFS å‘½åç©ºé—´ç®¡ç†</h3><p>é¦–å…ˆï¼ŒHDFSçš„å‘½åç©ºé—´åŒ…å«ç›®å½•ã€æ–‡ä»¶å’Œå—</p><p>å…¶æ¬¡ï¼ŒHDFSä½¿ç”¨çš„æ˜¯ä¼ ç»Ÿçš„<strong>åˆ†çº§æ–‡ä»¶ä½“ç³»</strong></p><p>æœ€åï¼Œç”± <strong>NameNode</strong> è´Ÿè´£ç»´æŠ¤æ–‡ä»¶ç³»ç»Ÿå‘½åç©ºé—´</p><blockquote><p>å¯¹æ–‡ä»¶ç³»ç»Ÿå‘½åç©ºé—´æˆ–å…¶å±æ€§çš„ä»»ä½•æ›´æ”¹å‡ç”± <strong>NameNode</strong> è®°å½•</p></blockquote><h3 id="é€šä¿¡åè®®"><a href="#é€šä¿¡åè®®" class="headerlink" title="é€šä¿¡åè®®"></a>é€šä¿¡åè®®</h3><p>æ‰€æœ‰çš„HDFSé€šä¿¡åè®®éƒ½æ˜¯æ„å»ºåœ¨ <strong>TCP/IP</strong> åè®®åŸºç¡€ä¹‹ä¸Š</p><p><strong>NN</strong> å’Œ <strong>DN</strong> ä¹‹é—´é€šè¿‡æ•°æ®èŠ‚ç‚¹åè®®æ¥è¿›è¡Œäº¤äº’</p><p><strong>Client</strong> ä¸ <strong>NN å’Œ DN</strong> ä¹‹é—´çš„äº¤äº’æ˜¯ä¸åŒçš„â€”â€”</p><ul><li>ä¸ <strong>NN</strong> è¿›è¡Œäº¤äº’æ˜¯é€šè¿‡å‘ <strong>NN</strong> ä¸»åŠ¨å‘èµ· TCP é“¾æ¥ï¼Œå¹¶ä½¿ç”¨å®¢æˆ·ç«¯åè®®ä¸åç§°èŠ‚ç‚¹è¿›è¡Œäº¤äº’</li><li>ä¸ <strong>DN</strong> æ˜¯é€šè¿‡<strong>RPCï¼ˆRemote Procedure Callï¼‰</strong> æ¥å®ç°çš„ã€‚</li></ul><p><strong>NameNode</strong> ä¸ä¼šä¸»åŠ¨å‘èµ· RPCï¼Œè€Œæ˜¯å“åº”æ¥è‡ª <strong>DataNode</strong> å’Œ <strong>Client</strong> çš„ RPC è¯·æ±‚</p><h3 id="å•åç§°èŠ‚ç‚¹ä½“ç³»ç»“æ„çš„å±€é™æ€§"><a href="#å•åç§°èŠ‚ç‚¹ä½“ç³»ç»“æ„çš„å±€é™æ€§" class="headerlink" title="å•åç§°èŠ‚ç‚¹ä½“ç³»ç»“æ„çš„å±€é™æ€§"></a>å•åç§°èŠ‚ç‚¹ä½“ç³»ç»“æ„çš„å±€é™æ€§</h3><p>HDFS å€¼è®¾ç½®å”¯ä¸€ä¸€ä¸ªåç§°èŠ‚ç‚¹ï¼Œè™½ç„¶å¯ä»¥ç®€åŒ–ç³»ç»Ÿè®¾è®¡ï¼Œä½†æ˜¯ä¼šå¸¦æ¥ä¸€äº›æ˜æ˜¾çš„å±€é™</p><ol><li><p>å‘½åç©ºé—´çš„é™åˆ¶</p></li><li><p>æ€§èƒ½çš„ç“¶é¢ˆ</p></li><li><p>éš”ç¦»é—®é¢˜</p></li><li><p>é›†ç¾¤çš„å¯ç”¨æ€§</p></li></ol><h3 id="HDFSçš„ä¸€äº›å…³é”®ç‰¹æ€§"><a href="#HDFSçš„ä¸€äº›å…³é”®ç‰¹æ€§" class="headerlink" title="HDFSçš„ä¸€äº›å…³é”®ç‰¹æ€§"></a>HDFSçš„ä¸€äº›å…³é”®ç‰¹æ€§</h3><h4 id="1-HA-â€”â€”-é«˜å¯ç”¨æ€§"><a href="#1-HA-â€”â€”-é«˜å¯ç”¨æ€§" class="headerlink" title="1. HA â€”â€” é«˜å¯ç”¨æ€§"></a>1. HA â€”â€” é«˜å¯ç”¨æ€§</h4><p>Hadoop 2.x æ‰æ¨å‡ºçš„æ–°ç‰¹æ€§ï¼Œä¸»è¦ä½“ç°åœ¨åˆ©ç”¨ <strong>zookeeper</strong> å®ç°ä¸»å¤‡ <strong>NameNode</strong> ï¼Œæ¥è§£å†³å•ç‚¹ <strong>NameNode</strong> çš„æ•…éšœé—®é¢˜</p><p>ç”±æ­¤ï¼Œæˆ‘ä»¬å¼•å‡º <strong>Zookeeper</strong> çš„ä¸€ä¸ªä¸»è¦ä½œç”¨â€”â€”</p><blockquote><p>ç”¨æ¥å­˜å‚¨ <strong>HA</strong> ä¸‹çš„çŠ¶æ€æ–‡ä»¶ï¼Œä¸»å¤‡ä¿¡æ¯</p></blockquote><p>å…¶ä¸­ï¼Œç”± <strong>ZKFCï¼ˆZookeeper Failover Controllerï¼‰</strong> ç”¨äºç›‘æ§ <strong>NN</strong> ç»“ç‚¹çš„ä¸»å¤‡çŠ¶æ€</p><blockquote><p><strong>ZKFC</strong> è¿˜æ§åˆ¶ <strong>NN</strong> ä¸»å¤‡ä»²è£ï¼Œä¸¤è€…éƒ¨ç½²åœ¨ä¸€èµ·ï¼Œä¸ªæ•°ç›¸åŒ</p><ul><li>åˆ©ç”¨ <strong>Zookeeper</strong> çš„åˆ†å¸ƒå¼é”åŠŸèƒ½ï¼Œå®ç° <strong>ä¸»å¤‡ä»²è£</strong></li><li>å†é€šè¿‡å‘½ä»¤é€šé“ï¼Œæ§åˆ¶ <strong>NN</strong> çš„ä¸»å¤‡çŠ¶æ€</li></ul></blockquote><p><strong>JNï¼ˆJournal Nodeï¼‰</strong> ç”¨äºå­˜å‚¨ <strong>Active NNï¼ˆä¸» NNï¼‰</strong>ç”Ÿæˆçš„ <strong>Editlog</strong>ã€‚ç”± <strong>Standby NN</strong> åŠ è½½ <strong>JN</strong> ä¸Š <strong>Editlog</strong> ,åŒæ­¥å…ƒæ•°æ®</p><h4 id="2-HDFS-Federation"><a href="#2-HDFS-Federation" class="headerlink" title="2. HDFS Federation"></a>2. HDFS Federation</h4><p>å³åˆ©ç”¨ **å¤šä¸ª NN ** æ¥ç»„æˆå‘½åç©ºé—´ï¼Œä¸”äº’ç›¸ä¹‹é—´æ˜¯ç‹¬ç«‹çš„ï¼Œä¸¤ä¸¤ä¹‹é—´å¹¶ä¸äº’ç›¸é€šä¿¡ï¼Œå•ä¸ªå¤±æ•ˆä¹Ÿä¸ä¼šå½±å“å…¶ä»–ã€‚ç®€å•ç†è§£ä¸ºâ€”â€”</p><blockquote><p>å„ <strong>NameNode</strong> è´Ÿè´£è‡ªå·±æ‰€å±çš„ç›®å½•ã€‚ä¸LinuxæŒ‚è½½ç£ç›˜åˆ°ç›®å½•ç±»ä¼¼ï¼Œ æ­¤æ—¶æ¯ä¸ª <strong>NameNode</strong> åªè´Ÿè´£æ•´ä¸ªhdfsé›†ç¾¤ä¸­éƒ¨åˆ†ç›®å½•ã€‚</p><p>å¦‚NameNode1è´Ÿè´£/databaseç›®å½•ï¼Œé‚£ä¹ˆåœ¨/databaseç›®å½•ä¸‹çš„æ–‡ä»¶å…ƒæ•°æ®éƒ½ç”±NameNode1è´Ÿè´£ã€‚å„NameNodeé—´å…ƒæ•°æ®ä¸å…±äº«ï¼Œæ¯ä¸ªNameNodeéƒ½æœ‰å¯¹åº”çš„standbyã€‚</p></blockquote><p>å±äºæŸä¸€å‘½åç©ºé—´ï¼Œå³ <strong>Namespace</strong> ï¼Œçš„ä¸€ç»„æ•°æ®å—ï¼Œç§°ä¸º <strong>Block Pool</strong></p><p>åœ¨ <strong>è”é‚¦</strong> ç¯å¢ƒä¸‹ï¼Œæ¯ä¸ª <strong>NN</strong> ç»´æŠ¤ä¸€ä¸ª <strong>Namespace Volume</strong> ï¼ŒåŒ…æ‹¬â€”â€”</p><ul><li><strong>NS</strong> çš„å…ƒæ•°æ®</li><li>åœ¨è¯¥ç©ºé—´ä¸‹çš„æ–‡ä»¶çš„æ‰€æœ‰æ•°æ®å—çš„ <strong>BP</strong></li></ul><h4 id="3-æ•°æ®å‰¯æœ¬æœºåˆ¶"><a href="#3-æ•°æ®å‰¯æœ¬æœºåˆ¶" class="headerlink" title="3. æ•°æ®å‰¯æœ¬æœºåˆ¶"></a>3. æ•°æ®å‰¯æœ¬æœºåˆ¶</h4><p>å‰¯æœ¬è·ç¦»è®¡ç®—å…¬å¼ï¼š</p><ul><li>Distance(Rack1/D1, Rack1/D1)=0</li><li>åŒä¸€å°æœåŠ¡å™¨çš„è·ç¦»ä¸º0</li><li>Distance(Rack1/D1, Rack1/D3)=2</li><li>åŒä¸€æœºæ¶ä¸åŒçš„æœåŠ¡å™¨è·ç¦»ä¸º2</li><li>Distance(Rack1/D1, Rack2/D1)=4</li><li>ä¸åŒæœºæ¶çš„æœåŠ¡å™¨è·ç¦»ä¸º4</li><li>ä¸åŒæ•°æ®ä¸­å¿ƒçš„èŠ‚ç‚¹è·ç¦»ä¸º6ã€‚</li></ul><p>å‰¯æœ¬æ”¾ç½®ç­–ç•¥</p><ul><li>ç¬¬ä¸€ä¸ªå‰¯æœ¬ï¼šæ”¾ç½®åœ¨ä¸Šä¼ æ–‡ä»¶çš„æ•°æ®èŠ‚ç‚¹ï¼›å¦‚æœæ˜¯é›†ç¾¤å¤–æäº¤ï¼Œåˆ™éšæœºæŒ‘é€‰ä¸€å°ç£ç›˜ ä¸å¤ªæ»¡ã€CPUä¸å¤ªå¿™çš„èŠ‚ç‚¹</li><li>ç¬¬äºŒä¸ªå‰¯æœ¬ï¼šæ”¾ç½®åœ¨ä¸ç¬¬ä¸€ä¸ªå‰¯æœ¬ä¸åŒçš„æœºæ¶çš„èŠ‚ç‚¹ä¸Š</li><li>ç¬¬ä¸‰ä¸ªå‰¯æœ¬ï¼šä¸ç¬¬ä¸€ä¸ªå‰¯æœ¬ç›¸åŒæœºæ¶çš„å…¶ä»–èŠ‚ç‚¹ä¸Š</li><li>æ›´å¤šå‰¯æœ¬ï¼šéšæœºèŠ‚ç‚¹</li></ul><p>å¦‚æœå†™è¯·æ±‚æ–¹æ‰€åœ¨æœºå™¨æ˜¯å…¶ä¸­ä¸€ä¸ªDataNode,åˆ™ç›´æ¥å­˜æ”¾åœ¨æœ¬åœ°,å¦åˆ™éšæœºåœ¨é›†ç¾¤ä¸­é€‰æ‹©ä¸€ ä¸ªDataNode</p><ul><li>Rack1ï¼šè¡¨ç¤ºæœºæ¶1</li><li>D1ï¼šè¡¨ç¤ºDataNodeèŠ‚ç‚¹1</li><li>B1ï¼šè¡¨ç¤ºèŠ‚ç‚¹ä¸Šçš„blockå—1</li></ul><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831152858662.png" alt="æ•°æ®å‰¯æœ¬æœºåˆ¶"></p><h4 id="4-HDFS-æ•°æ®å®Œæ•´æ€§ä¿éšœ"><a href="#4-HDFS-æ•°æ®å®Œæ•´æ€§ä¿éšœ" class="headerlink" title="4. HDFS æ•°æ®å®Œæ•´æ€§ä¿éšœ"></a>4. HDFS æ•°æ®å®Œæ•´æ€§ä¿éšœ</h4><p>HDFSä¸»è¦ç›®çš„æ˜¯<strong>ä¿è¯å­˜å‚¨æ•°æ®å®Œæ•´æ€§</strong>ï¼Œå¯¹äºå„ç»„ä»¶çš„å¤±æ•ˆï¼Œåšäº†å¯é æ€§å¤„ç†â€”â€”</p><ul><li>é‡å»ºå¤±æ•ˆæ•°æ®ç›˜çš„å‰¯æœ¬æ•°æ®<ul><li>DataNodeä¸NameNodeä¹‹é—´é€šè¿‡å¿ƒè·³å‘¨æœŸæ±‡æŠ¥æ•°æ®çŠ¶æ€ï¼ŒNameNodeç®¡ç†æ•°æ®å—æ˜¯å¦ä¸ŠæŠ¥å®Œæ•´</li><li>å¦‚æœDataNodeå› ç¡¬ç›˜æŸåæœªä¸ŠæŠ¥æ•°æ®å—ï¼ŒNameNodeå°†å‘èµ·å‰¯æœ¬é‡å»ºåŠ¨ä½œä»¥æ¢å¤ä¸¢å¤±çš„å‰¯æœ¬ã€‚</li></ul></li><li>é›†ç¾¤æ•°æ®å‡è¡¡<ul><li>HDFSæ¶æ„è®¾è®¡äº†<strong>æ•°æ®å‡è¡¡æœºåˆ¶</strong>ï¼Œè¯¥æœºåˆ¶ä¿è¯æ•°æ®åœ¨å„ä¸ª <strong>DataNode</strong> ä¸Šåˆ†å¸ƒå¼å¹³å‡çš„</li></ul></li><li>å…ƒæ•°æ®å¯é æ€§ä¿è¯<ul><li>é‡‡ç”¨æ—¥å¿—æœºåˆ¶æ“ä½œå…ƒæ•°æ®ï¼ŒåŒæ—¶å…ƒæ•°æ®å­˜æ”¾åœ¨ä¸»å¤‡ <strong>NameNode</strong> ä¸Š</li><li>å¿«ç…§æœºåˆ¶å®ç°äº†æ–‡ä»¶ç³»ç»Ÿå¸¸è§çš„å¿«ç…§æœºåˆ¶ï¼Œä¿è¯æ•°æ®è¯¯æ“ä½œæ—¶ï¼Œèƒ½åŠæ—¶æ¢å¤</li></ul></li><li>å®‰å…¨æ¨¡å¼é˜²æ­¢æ•…éšœæ‰©æ•£<ul><li>å½“èŠ‚ç‚¹ç¡¬ç›˜æ•…éšœæ—¶ï¼Œè¿›å…¥å®‰å…¨æ¨¡å¼ï¼ŒHDFSåªæ”¯æŒè®¿é—®å…ƒæ•°æ®ï¼Œæ­¤æ—¶HDFSä¸Šçš„æ•°æ®æ˜¯åªè¯»çš„ï¼Œå…¶ä»–çš„æ“ä½œå¦‚åˆ›å»ºã€åˆ é™¤æ–‡ä»¶ç­‰æ“ä½œéƒ½ä¼šå¯¼è‡´å¤±è´¥ã€‚</li><li>å¾…ç¡¬ç›˜é—®é¢˜è§£å†³ã€æ•°æ®æ¢å¤åï¼Œå†é€€å‡ºå®‰å…¨æ¨¡å¼ã€‚</li></ul></li></ul><h4 id="5-HDFSæ¶æ„å…¶ä»–å…³é”®è®¾è®¡è¦ç‚¹è¯´æ˜"><a href="#5-HDFSæ¶æ„å…¶ä»–å…³é”®è®¾è®¡è¦ç‚¹è¯´æ˜" class="headerlink" title="5. HDFSæ¶æ„å…¶ä»–å…³é”®è®¾è®¡è¦ç‚¹è¯´æ˜"></a>5. HDFSæ¶æ„å…¶ä»–å…³é”®è®¾è®¡è¦ç‚¹è¯´æ˜</h4><ul><li>ç©ºé—´å›æ”¶æœºåˆ¶<ul><li>æ”¯æŒå›æ”¶ç«™æœºåˆ¶ä»¥åŠå‰¯æœ¬æ•°çš„åŠ¨æ€è®¾ç½®æœºåˆ¶</li></ul></li><li>æ•°æ®ç»„ç»‡<ul><li>æ•°æ®å­˜å‚¨ä»¥<strong>æ•°æ®å—</strong>ä¸ºå•ä½ï¼Œå­˜å‚¨åœ¨æ“ä½œç³»ç»Ÿçš„HDFSæ–‡ä»¶ç³»ç»Ÿä¸Š</li></ul></li><li>è®¿é—®æ–¹å¼<ul><li>æä¾› <strong>JAVA APIï¼ŒHTTP æ–¹å¼ï¼ŒSHELL æ–¹å¼</strong> è®¿é—®HDFSæ•°æ®</li></ul></li></ul><h3 id="HDFS-3-0-æ–°ç‰¹æ€§æ€»ç»“"><a href="#HDFS-3-0-æ–°ç‰¹æ€§æ€»ç»“" class="headerlink" title="HDFS 3.0 æ–°ç‰¹æ€§æ€»ç»“"></a>HDFS 3.0 æ–°ç‰¹æ€§æ€»ç»“</h3><ol><li><p>æ”¯æŒ HDFS ä¸­çš„çº åˆ ç  <strong>Erasure Encoding</strong></p><blockquote><ul><li>é€šè¿‡åœ¨åŸå§‹æ•°æ®ä¸­åŠ å…¥æ–°çš„æ ¡éªŒæ•°æ®,ä½¿å¾—å„ä¸ªéƒ¨åˆ†çš„æ•°æ®äº§ç”Ÿå…³è”æ€§ï¼Œåœ¨ä¸€å®šèŒƒå›´çš„æ•°æ®å‡ºé”™æƒ…å†µä¸‹ï¼Œé€šè¿‡çº åˆ ç æŠ€æœ¯éƒ½å¯ä»¥è¿›è¡Œæ¢å¤ã€‚ECæŠ€æœ¯å¯ä»¥é˜²æ­¢æ•°æ®ä¸¢å¤±ï¼Œåˆå¯ä»¥è§£å†³HDFSå­˜å‚¨ç©ºé—´ç¿»å€çš„é—®é¢˜</li><li>åˆ›å»ºæ–‡ä»¶æ—¶ï¼Œå°†ä»æœ€è¿‘çš„ç¥–å…ˆç›®å½•ç»§æ‰¿ECç­–ç•¥ï¼Œä»¥ç¡®å®šå…¶å—å¦‚ä½•å­˜å‚¨ã€‚ä¸3è·¯å¤åˆ¶ç›¸æ¯”ï¼Œé»˜è®¤çš„ECç­–ç•¥å¯ä»¥èŠ‚çœ50ï¼…çš„å­˜å‚¨ç©ºé—´ï¼ŒåŒæ—¶è¿˜å¯ä»¥æ‰¿å—æ›´å¤šçš„å­˜å‚¨æ•…éšœ</li><li>å»ºè®®ECå­˜å‚¨ç”¨äºå†·æ•°æ®ï¼Œç”±äºå†·æ•°æ®ç¡®å®æ•°é‡å¤§ï¼Œå¯ä»¥å‡å°‘å‰¯æœ¬ä»è€Œé™ä½å­˜å‚¨ç©ºé—´ï¼Œ å¦å¤–å†·æ•°æ®ç¨³å®šï¼Œä¸€æ—¦éœ€è¦æ¢å¤æ•°æ®ï¼Œå¯¹ä¸šåŠ¡ä¸ä¼šæœ‰å¤ªå¤§å½±å“ã€‚</li></ul></blockquote></li><li><p>åŸºäº HDFS è·¯ç”±å™¨çš„è”åˆ</p></li><li><p>æ”¯æŒå¤šä¸ª NameNode</p></li><li><p>DataNode å†…éƒ¨æ·»åŠ äº†è´Ÿè½½å‡è¡¡ Disk Balancer</p></li></ol><h3 id="HDFS-æ•°æ®è¯»å†™æµç¨‹"><a href="#HDFS-æ•°æ®è¯»å†™æµç¨‹" class="headerlink" title="HDFS æ•°æ®è¯»å†™æµç¨‹"></a>HDFS æ•°æ®è¯»å†™æµç¨‹</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831160054496.png" alt="HDFS æ•°æ®å†™å…¥æµç¨‹"></p><p>HDFSæ•°æ®å†™å…¥æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>ä¸šåŠ¡åº”ç”¨è°ƒç”¨HDFS Clientæä¾›çš„APIï¼Œè¯·æ±‚å†™å…¥æ–‡ä»¶</li><li>HDFS Clientè”ç³»NameNodeï¼ŒNameNodeåœ¨å…ƒæ•°æ®ä¸­åˆ›å»ºæ–‡ä»¶èŠ‚ç‚¹</li><li>ä¸šåŠ¡åº”ç”¨è°ƒç”¨write APIå†™å…¥æ–‡ä»¶</li><li>HDFS Clientæ”¶åˆ°ä¸šåŠ¡æ•°æ®åï¼Œä»NameNodeè·å–åˆ°æ•°æ®å—ç¼–å·ã€ä½ç½®ä¿¡æ¯åï¼Œè”ç³» DataNodeï¼Œå¹¶å°†éœ€è¦å†™å…¥æ•°æ®çš„DataNodeå»ºç«‹èµ·æµæ°´çº¿ã€‚å®Œæˆåï¼Œå®¢æˆ·ç«¯å†é€šè¿‡ è‡ªæœ‰åè®®å†™å…¥æ•°æ®åˆ°DataNode1ï¼Œå†ç”±DataNode1å¤åˆ¶åˆ°DataNode2, DataNode3</li><li>å†™å®Œçš„æ•°æ®ï¼Œå°†è¿”å›ç¡®è®¤ä¿¡æ¯ç»™HDFS Client</li><li>æ‰€æœ‰æ•°æ®ç¡®è®¤å®Œæˆåï¼Œä¸šåŠ¡è°ƒç”¨HDFS Clientå…³é—­æ–‡ä»¶</li><li>ä¸šåŠ¡è°ƒç”¨close, flushåHDFS Clientè”ç³»NameNodeï¼Œç¡®è®¤æ•°æ®å†™å®Œæˆï¼ŒNameNode æŒä¹…åŒ–å…ƒæ•°æ®</li></ul><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831160131833.png" alt="HDFS è¯»å–æµç¨‹"></p><p>HDFSæ•°æ®è¯»å–æµç¨‹å¦‚ä¸‹ï¼š</p><ul><li>ä¸šåŠ¡åº”ç”¨è°ƒç”¨HDFS Clientæä¾›çš„APIæ‰“å¼€æ–‡ä»¶</li><li>HDFS Clientè”ç³»NameNodeï¼Œè·å–åˆ°æ–‡ä»¶ä¿¡æ¯ï¼ˆæ•°æ®å—ã€DataNodeä½ç½®ä¿¡æ¯ï¼‰</li><li>ä¸šåŠ¡åº”ç”¨è°ƒç”¨read APIè¯»å–æ–‡ä»¶</li><li>HDFS Clientæ ¹æ®ä»NameNodeè·å–åˆ°çš„ä¿¡æ¯ï¼Œè”ç³»DataNodeï¼Œè·å–ç›¸åº”çš„æ•°æ®å—ã€‚ (Clienté‡‡ç”¨å°±è¿‘åŸåˆ™è¯»å–æ•°æ®)</li><li>HDFS Clientä¼šä¸å¤šä¸ªDataNodeé€šè®¯è·å–æ•°æ®å—</li><li>æ•°æ®è¯»å–å®Œæˆåï¼Œä¸šåŠ¡è°ƒç”¨closeå…³é—­è¿æ¥</li></ul><h2 id="Part-2-ZooKeeper"><a href="#Part-2-ZooKeeper" class="headerlink" title="Part 2 - ZooKeeper"></a>Part 2 - ZooKeeper</h2><h3 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>ä¸»è¦æ˜¯ç”¨æ¥è§£å†³åˆ†å¸ƒå¼åº”ç”¨ä¸­ç»å¸¸é‡åˆ°çš„ä¸€äº›æ•°æ®ç®¡ç†é—®é¢˜ï¼Œæä¾›åˆ†å¸ƒå¼ã€é«˜å¯ç”¨æ€§çš„åè°ƒæœåŠ¡èƒ½åŠ›ã€‚</p><p>æ€»ä½“åˆ†ä¸º<strong>å®‰å…¨æ¨¡å¼</strong>ä»¥åŠ<strong>éå®‰å…¨æ¨¡å¼</strong>â€”â€”</p><ul><li>å®‰å…¨æ¨¡å¼ä¸‹ä¾èµ–äº <strong>Kerberos</strong> å’Œ <strong>LdapServer</strong> è¿›è¡Œå®‰å…¨è®¤è¯</li><li>éå®‰å…¨æ¨¡å¼ä¸‹åˆ™ä¸ä¾èµ–</li></ul><p><strong>ZK</strong> ä½œä¸ºåº•å±‚ç»„ä»¶å¹¿æ³›è¢«ä¸Šå±‚ç»„ä»¶ä½¿ç”¨å¹¶ä¾èµ–ï¼Œå¦‚ <strong>Kafkaï¼ŒHDFSï¼ŒHBaseï¼ŒStorm</strong>ç­‰</p><h3 id="ä½“ç³»æ¶æ„"><a href="#ä½“ç³»æ¶æ„" class="headerlink" title="ä½“ç³»æ¶æ„"></a>ä½“ç³»æ¶æ„</h3><p>ZooKeeper é›†ç¾¤ç”±ä¸€ç»„ Server èŠ‚ç‚¹ç»„æˆï¼Œè¿™ä¸€ç»„ Server èŠ‚ç‚¹ä¸­å­˜åœ¨ä¸€ä¸ªè§’è‰²ä¸º Leader çš„èŠ‚ç‚¹ï¼Œ å…¶ä»–èŠ‚ç‚¹éƒ½ä¸º Followerï¼ŒLeader åœ¨å¯åŠ¨æ—¶é€‰ä¸¾å‡ºã€‚</p><blockquote><p>é€‰ä¸¾æ–¹å¼ï¼Œå¯¹äº n ä¸ªå®ä¾‹çš„æœåŠ¡ï¼Œn å¯èƒ½ä¸ºå¥‡æ•°æˆ–å¶æ•°ï¼š</p><ul><li>å½“æœ‰ <strong>n = 2x + 1</strong> ä¸ªèŠ‚ç‚¹æ—¶ï¼Œåˆ™æˆä¸º <strong>Leader</strong> çš„èŠ‚ç‚¹éœ€è¦è·å¾— <strong>x + 1</strong> ç¥¨ï¼Œå®¹ç¾èƒ½åŠ›ä¸º <strong>x</strong></li><li>å½“æœ‰ <strong>n = 2x + 2</strong> ä¸ªèŠ‚ç‚¹æ—¶ï¼Œåˆ™æˆä¸º <strong>Leader</strong> çš„èŠ‚ç‚¹éœ€è¦è·å¾— <strong>x + 2</strong> ç¥¨ï¼ˆå¤§äºä¸€åŠï¼‰ï¼Œå®¹ç¾èƒ½åŠ›ä¸º <strong>x</strong></li></ul></blockquote><p>ZooKeeper ä½¿ç”¨äº†ä¸€ç§è‡ªå®šä¹‰çš„åŸå­æ¶ˆæ¯åè®®ï¼ˆZooKeeper Atomic Broadcast Zabåè®®ï¼‰ï¼Œ åœ¨æ¶ˆæ¯å±‚çš„è¿™ç§åŸå­ç‰¹æ€§ï¼Œä¿è¯äº†æ•´ä¸ªåè°ƒç³»ç»Ÿä¸­çš„èŠ‚ç‚¹æ•°æ®æˆ–çŠ¶æ€çš„ä¸€è‡´æ€§ã€‚</p><p>LeaderèŠ‚ç‚¹åœ¨æ¥æ”¶åˆ°æ•°æ®å˜æ›´è¯·æ±‚åï¼Œé¦–å…ˆå°†å˜æ›´å†™å…¥æœ¬åœ°ç£ç›˜ï¼Œä»¥ä½œæ¢å¤ä¹‹ç”¨ã€‚å½“æ‰€æœ‰ çš„å†™è¯·æ±‚æŒä¹…åŒ–åˆ°ç£ç›˜ä»¥åï¼Œæ‰ä¼šå°†å˜æ›´åº”ç”¨åˆ°å†…å­˜ä¸­ã€‚</p><p>å½“å®¢æˆ·ç«¯ Client è¿æ¥åˆ° ZooKeeper é›†ç¾¤ï¼Œå¹¶ä¸”æ‰§è¡Œå†™è¯·æ±‚æ—¶ï¼Œè¿™äº›è¯·æ±‚ä¼šè¢«å‘é€åˆ° Leader èŠ‚ç‚¹ä¸Šï¼Œç„¶å Leader èŠ‚ç‚¹ä¸Šæ•°æ®å˜æ›´ä¼šåŒæ­¥åˆ°é›†ç¾¤ä¸­å…¶ä»–çš„ Follower èŠ‚ç‚¹ã€‚</p><h3 id="å…³é”®ç‰¹æ€§"><a href="#å…³é”®ç‰¹æ€§" class="headerlink" title="å…³é”®ç‰¹æ€§"></a>å…³é”®ç‰¹æ€§</h3><h4 id="1-æœ€ç»ˆä¸€è‡´æ€§"><a href="#1-æœ€ç»ˆä¸€è‡´æ€§" class="headerlink" title="1. æœ€ç»ˆä¸€è‡´æ€§"></a>1. æœ€ç»ˆä¸€è‡´æ€§</h4><p>æ— è®ºå“ªä¸ª serverï¼Œå¯¹å¤–å±•ç¤ºçš„å‡æ˜¯åŒä¸€è§†å›¾</p><h4 id="2-å®æ—¶æ€§"><a href="#2-å®æ—¶æ€§" class="headerlink" title="2. å®æ—¶æ€§"></a>2. å®æ—¶æ€§</h4><p>ä¿è¯å®¢æˆ·ç«¯å°†åœ¨ä¸€ä¸ªæ—¶é—´é—´éš”èŒƒå›´å†…è·å¾—æœåŠ¡å™¨çš„æ›´æ–°ä¿¡æ¯ï¼Œæˆ–è€…æœåŠ¡å™¨å¤±æ•ˆçš„ä¿¡æ¯</p><h4 id="3-å¯é æ€§"><a href="#3-å¯é æ€§" class="headerlink" title="3. å¯é æ€§"></a>3. å¯é æ€§</h4><p>ä¸€æ¡æ¶ˆæ¯è¢«ä¸€ä¸ª server æ¥æ”¶ï¼Œå®ƒå°†è¢«æ‰€æœ‰ server æ¥å—</p><h4 id="4-ç­‰å¾…æ— å…³æ€§"><a href="#4-ç­‰å¾…æ— å…³æ€§" class="headerlink" title="4. ç­‰å¾…æ— å…³æ€§"></a>4. ç­‰å¾…æ— å…³æ€§</h4><p>æ…¢çš„æˆ–è€…å¤±æ•ˆçš„ client ä¸ä¼šå¹²é¢„å¿«é€Ÿçš„ client çš„è¯·æ±‚ï¼Œä½¿å¾—æ¯ä¸ª client éƒ½èƒ½æœ‰æœ‰æ•ˆçš„ç­‰å¾…</p><h4 id="5-åŸå­æ€§"><a href="#5-åŸå­æ€§" class="headerlink" title="5. åŸå­æ€§"></a>5. åŸå­æ€§</h4><p>æ›´æ–°åªèƒ½æˆåŠŸæˆ–è€…å¤±è´¥ï¼Œæ²¡æœ‰ä¸­é—´æ€</p><h4 id="6-é¡ºåºä¸€è‡´æ€§"><a href="#6-é¡ºåºä¸€è‡´æ€§" class="headerlink" title="6. é¡ºåºä¸€è‡´æ€§"></a>6. é¡ºåºä¸€è‡´æ€§</h4><p>å®¢æˆ·ç«¯æ‰€å‘é€çš„æ›´æ–°ä¼šæŒ‰ç…§ä»–ä»¬è¢«å‘é€çš„é¡ºåºè¿›è¡Œåº”ç”¨</p><h3 id="ZooKeeper-çš„è¯»å†™ç‰¹æ€§"><a href="#ZooKeeper-çš„è¯»å†™ç‰¹æ€§" class="headerlink" title="ZooKeeper çš„è¯»å†™ç‰¹æ€§"></a>ZooKeeper çš„è¯»å†™ç‰¹æ€§</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831163621689.png" alt="ZKçš„è¯»æ“ä½œ"></p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831163648575.png" alt="ZKçš„å†™æ“ä½œ"></p>]]></content>
    
    
    <categories>
      
      <category>Big Data Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 59</title>
    <link href="/2021/08/31/LeetCode-Notes-59/"/>
    <url>/2021/08/31/LeetCode-Notes-59/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-59"><a href="#Leetcode-Notes-59" class="headerlink" title="Leetcode Notes - 59"></a>Leetcode Notes - 59</h1><p>é¢˜ç›®ï¼š<strong>59. èºæ—‹çŸ©é˜µ II</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>äºŒç»´æ•°ç»„</li><li>æ¨¡æ‹Ÿ</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-å››æŒ‡é’ˆ"><a href="#1-å››æŒ‡é’ˆ" class="headerlink" title="1. å››æŒ‡é’ˆ"></a>1. å››æŒ‡é’ˆ</h3><p>å¤ªï¼çˆ½ï¼å•¦ï¼ã€Šå…³äºæˆ‘å†™å‡ºä»¥å‰æ²¡å†™å‡ºæ¥çš„é¢˜è¿˜ä¼˜äºé¢˜è§£è¿™å›äº‹ã€‹ğŸ›«</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831125303137.png" alt="å››æŒ‡é’ˆ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[][] generateMatrix(<span class="hljs-keyword">int</span> n) &#123;<br>        <span class="hljs-keyword">int</span>[][] res = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n][n];<br>        <br>        <span class="hljs-keyword">int</span> left = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> right = n - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> top = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> bottom = n - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span>(left &lt;= right &amp;&amp; top &lt;= bottom)&#123;<br>            <span class="hljs-comment">// left 2 right</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> l2r = left; l2r &lt; right; l2r++)&#123;<br>                res[top][l2r] = count;<br>                count++;<br>            &#125;<br><br>            <span class="hljs-comment">// top 2 bottom</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> t2b = top; t2b &lt; bottom; t2b++)&#123;<br>                res[t2b][right] = count;<br>                count++;<br>            &#125;<br><br>            <span class="hljs-comment">// right 2 left</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> r2l = right; r2l &gt; left; r2l--)&#123;<br>                res[bottom][r2l] = count;<br>                count++;<br>            &#125;<br><br>            <span class="hljs-comment">// bottom 2 top</span><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> b2t = bottom; b2t &gt; top; b2t--)&#123;<br>                res[b2t][left] = count;<br>                count++;<br>            &#125;<br><br>            left++;<br>            right--;<br>            top++;<br>            bottom--;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(n % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) res[(n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>][(n - <span class="hljs-number">1</span>) / <span class="hljs-number">2</span>] = n * n;<br><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="æ¨¡æ‹Ÿ"><a href="#æ¨¡æ‹Ÿ" class="headerlink" title="æ¨¡æ‹Ÿ"></a>æ¨¡æ‹Ÿ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>æ¨¡æ‹ŸçŸ©é˜µçš„ç”Ÿæˆã€‚æŒ‰ç…§è¦æ±‚ï¼Œåˆå§‹ä½ç½®è®¾ä¸ºçŸ©é˜µçš„å·¦ä¸Šè§’ï¼Œåˆå§‹æ–¹å‘è®¾ä¸ºå‘å³ã€‚è‹¥ä¸‹ä¸€æ­¥çš„ä½ç½®è¶…å‡ºçŸ©é˜µè¾¹ç•Œï¼Œæˆ–è€…æ˜¯ä¹‹å‰è®¿é—®è¿‡çš„ä½ç½®ï¼Œåˆ™é¡ºæ—¶é’ˆæ—‹è½¬ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªæ–¹å‘ã€‚å¦‚æ­¤åå¤ç›´è‡³å¡«å…¥ <code>n^2</code> ä¸ªå…ƒç´ ã€‚</p><p>è®° <code>matrix</code> ä¸ºç”Ÿæˆçš„çŸ©é˜µï¼Œå…¶åˆå§‹å…ƒç´ è®¾ä¸º 0ã€‚ç”±äºå¡«å…¥çš„å…ƒç´ å‡ä¸ºæ­£æ•°ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­å½“å‰ä½ç½®çš„å…ƒç´ å€¼ï¼Œè‹¥ä¸ä¸º 0ï¼Œåˆ™è¯´æ˜å·²ç»è®¿é—®è¿‡æ­¤ä½ç½®ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[][] generateMatrix(<span class="hljs-keyword">int</span> n) &#123;<br>        <span class="hljs-keyword">int</span> maxNum = n * n;<br>        <span class="hljs-keyword">int</span> curNum = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span>[][] matrix = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n][n];<br>        <span class="hljs-keyword">int</span> row = <span class="hljs-number">0</span>, column = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span>[][] directions = &#123;&#123;<span class="hljs-number">0</span>, <span class="hljs-number">1</span>&#125;, &#123;<span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;, &#123;<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>&#125;, &#123;-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>&#125;&#125;; <span class="hljs-comment">// å³ä¸‹å·¦ä¸Š</span><br>        <span class="hljs-keyword">int</span> directionIndex = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">while</span> (curNum &lt;= maxNum) &#123;<br>            matrix[row][column] = curNum;<br>            curNum++;<br>            <span class="hljs-keyword">int</span> nextRow = row + directions[directionIndex][<span class="hljs-number">0</span>], nextColumn = column + directions[directionIndex][<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span> (nextRow &lt; <span class="hljs-number">0</span> || nextRow &gt;= n || nextColumn &lt; <span class="hljs-number">0</span> || nextColumn &gt;= n || matrix[nextRow][nextColumn] != <span class="hljs-number">0</span>) &#123;<br>                directionIndex = (directionIndex + <span class="hljs-number">1</span>) % <span class="hljs-number">4</span>; <span class="hljs-comment">// é¡ºæ—¶é’ˆæ—‹è½¬è‡³ä¸‹ä¸€ä¸ªæ–¹å‘</span><br>            &#125;<br>            row = row + directions[directionIndex][<span class="hljs-number">0</span>];<br>            column = column + directions[directionIndex][<span class="hljs-number">1</span>];<br>        &#125;<br>        <span class="hljs-keyword">return</span> matrix;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/spiral-matrix-ii/solution/luo-xuan-ju-zhen-ii-by-leetcode-solution-f7fp/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure><blockquote><p>å››æŒ‡é’ˆå°±æ˜¯æŒ‰å±‚æ¨¡æ‹Ÿï¼Œè¿™é‡Œå­¦ä¹ ä¸€ä¸‹æ¨¡æ‹Ÿçš„åšæ³•</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 48</title>
    <link href="/2021/08/31/LeetCode-Notes-48/"/>
    <url>/2021/08/31/LeetCode-Notes-48/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-48"><a href="#Leetcode-Notes-48" class="headerlink" title="Leetcode Notes - 48"></a>Leetcode Notes - 48</h1><p>é¢˜ç›®ï¼š<strong>48. æ—‹è½¬å›¾åƒ</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>äºŒç»´æ•°ç»„</li><li>å¯¹è§’çº¿åè½¬</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-ä¸¤æ¬¡ç¿»è½¬"><a href="#1-ä¸¤æ¬¡ç¿»è½¬" class="headerlink" title="1. ä¸¤æ¬¡ç¿»è½¬"></a>1. ä¸¤æ¬¡ç¿»è½¬</h3><p>ä¸æ“¦ï¼ä¸€ä¸å°å¿ƒå°±ä¼˜äºé¢˜è§£äº†å‘—ğŸ›«</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831123212779.png" alt="ä¸¤æ¬¡ç¿»è½¬"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rotate</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[][] matrix)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(matrix.length == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-keyword">int</span> column = matrix[<span class="hljs-number">0</span>].length;<br>        <span class="hljs-keyword">int</span> row = matrix.length;<br><br>        <span class="hljs-comment">// Horizental rotation</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> hColumn = <span class="hljs-number">0</span>; hColumn &lt; column; hColumn++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> hRow = <span class="hljs-number">0</span>; hRow &lt; row / <span class="hljs-number">2</span>; hRow++)&#123;<br>                <span class="hljs-keyword">int</span> tmp = matrix[hRow][hColumn];<br>                matrix[hRow][hColumn] = matrix[row - hRow - <span class="hljs-number">1</span>][hColumn];<br>                matrix[row - hRow - <span class="hljs-number">1</span>][hColumn] = tmp;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">// Main cross line rotation</span><br>        <span class="hljs-keyword">int</span> mcColumn = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> mcRow = <span class="hljs-number">0</span>; mcRow &lt; row; mcRow++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = mcColumn; i &lt; column; i++)&#123;<br>                <span class="hljs-keyword">int</span> tmp = matrix[mcRow][i];<br>                matrix[mcRow][i] = matrix[i][mcRow];<br>                matrix[i][mcRow] = tmp;<br>            &#125;<br>            mcColumn++;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="ç”¨ç¿»è½¬ä»£æ›¿æ—‹è½¬"><a href="#ç”¨ç¿»è½¬ä»£æ›¿æ—‹è½¬" class="headerlink" title="ç”¨ç¿»è½¬ä»£æ›¿æ—‹è½¬"></a>ç”¨ç¿»è½¬ä»£æ›¿æ—‹è½¬</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>ä¸€æ ·å•¦ï¼Œåªæ˜¯æŠŠç«–ç›´æ”¹æˆæ°´å¹³</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">rotate</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[][] matrix)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> n = matrix.length;<br>        <span class="hljs-comment">// æ°´å¹³ç¿»è½¬</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n / <span class="hljs-number">2</span>; ++i) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; ++j) &#123;<br>                <span class="hljs-keyword">int</span> temp = matrix[i][j];<br>                matrix[i][j] = matrix[n - i - <span class="hljs-number">1</span>][j];<br>                matrix[n - i - <span class="hljs-number">1</span>][j] = temp;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">// ä¸»å¯¹è§’çº¿ç¿»è½¬</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; ++i) &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; i; ++j) &#123;<br>                <span class="hljs-keyword">int</span> temp = matrix[i][j];<br>                matrix[i][j] = matrix[j][i];<br>                matrix[j][i] = temp;<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/rotate-image/solution/xuan-zhuan-tu-xiang-by-leetcode-solution-vu3m/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 118</title>
    <link href="/2021/08/31/LeetCode-Notes-118/"/>
    <url>/2021/08/31/LeetCode-Notes-118/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-118"><a href="#Leetcode-118" class="headerlink" title="Leetcode - 118"></a>Leetcode - 118</h1><p>é¢˜ç›®ï¼š<strong>118. æ¨è¾‰ä¸‰è§’</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>æ•°å­¦</li><li>çº¿æ€§é€’æ¨</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h3><p>æ‰€è°“æ˜¾å¼é˜Ÿåˆ—ğŸ˜…</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831121026373.png" alt="é˜Ÿåˆ—è¿­ä»£"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title">getRow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rowIndex)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(rowIndex == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ArrayList&lt;Integer&gt;(Arrays.asList(<span class="hljs-number">1</span>)); <br><br>        LinkedList&lt;Integer&gt; doQue = <span class="hljs-keyword">new</span> LinkedList&lt;Integer&gt;();<br>        doQue.offerLast(<span class="hljs-number">0</span>);<br>        doQue.offerLast(<span class="hljs-number">1</span>);<br>        doQue.offerLast(<span class="hljs-number">0</span>);<br><br>        <span class="hljs-keyword">int</span> curIndex = <span class="hljs-number">0</span>;<br>        List&lt;Integer&gt; curList = <span class="hljs-keyword">new</span> ArrayList&lt;Integer&gt;();<br><br>        <span class="hljs-keyword">while</span>(curIndex &lt; rowIndex)&#123;<br>            curList = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>            <span class="hljs-keyword">int</span> len = doQue.size();<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; len - <span class="hljs-number">1</span>; i++)&#123;<br>                <span class="hljs-keyword">int</span> tmp = doQue.poll();<br>                tmp = tmp + doQue.peek();<br>                curList.add(tmp);<br>            &#125;<br><br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> ele : curList)&#123;<br>                doQue.offerLast(ele);<br>            &#125;<br>            doQue.offerLast(<span class="hljs-number">0</span>);<br><br>            curIndex++;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> curList;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="æ•°å­¦-çº¿æ€§é€’æ¨"><a href="#æ•°å­¦-çº¿æ€§é€’æ¨" class="headerlink" title="æ•°å­¦ - çº¿æ€§é€’æ¨"></a>æ•°å­¦ - çº¿æ€§é€’æ¨</h3><p>ç”±ç»„åˆæ•°å…¬å¼æˆ‘ä»¬ï¼Œå¯ä»¥å¾—åˆ°åŒä¸€è¡Œçš„ç›¸é‚»ç»„åˆæ•°çš„å…³ç³»â€”â€”</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831121305506.png" alt="ç»„åˆæ•°å…¬å¼"></p><p>åˆ©ç”¨ä¸Šè¿°å…¬å¼æˆ‘ä»¬å¯ä»¥åœ¨çº¿æ€§æ—¶é—´è®¡ç®—å‡ºç¬¬ n è¡Œçš„æ‰€æœ‰ç»„åˆæ•°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> List&lt;Integer&gt; <span class="hljs-title">getRow</span><span class="hljs-params">(<span class="hljs-keyword">int</span> rowIndex)</span> </span>&#123;<br>        List&lt;Integer&gt; row = <span class="hljs-keyword">new</span> ArrayList&lt;Integer&gt;();<br>        row.add(<span class="hljs-number">1</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt;= rowIndex; ++i) &#123;<br>            row.add((<span class="hljs-keyword">int</span>) ((<span class="hljs-keyword">long</span>) row.get(i - <span class="hljs-number">1</span>) * (rowIndex - i + <span class="hljs-number">1</span>) / i));<br>        &#125;<br>        <span class="hljs-keyword">return</span> row;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 706</title>
    <link href="/2021/08/31/LeetCode-Notes-706/"/>
    <url>/2021/08/31/LeetCode-Notes-706/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-706"><a href="#Leetcode-Notes-706" class="headerlink" title="Leetcode Notes - 706"></a>Leetcode Notes - 706</h1><p>é¢˜ç›®ï¼š<strong>706. è®¾è®¡å“ˆå¸Œæ˜ å°„</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å“ˆå¸Œæ˜ å°„</li><li>é“¾åœ°å€æ³•</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-é“¾åœ°å€æ³•"><a href="#1-é“¾åœ°å€æ³•" class="headerlink" title="1. é“¾åœ°å€æ³•"></a>1. é“¾åœ°å€æ³•</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831003333051.png" alt="åŒé“¾è¡¨å¯¹åº”"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHashMap</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> BASE = <span class="hljs-number">769</span>;<br>    <span class="hljs-keyword">private</span> LinkedList[][] data;<br><br>    <span class="hljs-comment">/** Initialize your data structure here. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyHashMap</span><span class="hljs-params">()</span> </span>&#123;<br>        data = <span class="hljs-keyword">new</span> LinkedList[BASE][<span class="hljs-number">2</span>];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; BASE; ++i) &#123;<br>            data[i][<span class="hljs-number">0</span>] = <span class="hljs-keyword">new</span> LinkedList&lt;Integer&gt;();<br>            data[i][<span class="hljs-number">1</span>] = <span class="hljs-keyword">new</span> LinkedList&lt;Integer&gt;();<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">/** value will always be non-negative. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">put</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key, <span class="hljs-keyword">int</span> value)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = hash(key);<br>        LinkedList keyList = <span class="hljs-keyword">this</span>.data[h][<span class="hljs-number">0</span>];<br>        LinkedList valueList = <span class="hljs-keyword">this</span>.data[h][<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; keyList.size(); i++)&#123;<br>            Integer curKey = (<span class="hljs-keyword">int</span>) keyList.get(i);<br>            <span class="hljs-keyword">if</span>(curKey == key)&#123;<br>                valueList.set(i, value);<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">this</span>.data[h][<span class="hljs-number">0</span>].offerLast(key);<br>        <span class="hljs-keyword">this</span>.data[h][<span class="hljs-number">1</span>].offerLast(value);<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = hash(key);<br>        LinkedList keyList = <span class="hljs-keyword">this</span>.data[h][<span class="hljs-number">0</span>];<br>        LinkedList valueList = <span class="hljs-keyword">this</span>.data[h][<span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; keyList.size(); i++)&#123;<br>            Integer curKey = (<span class="hljs-keyword">int</span>) keyList.get(i);<br>            <span class="hljs-keyword">if</span>(curKey == key)&#123;<br>                <span class="hljs-keyword">return</span> (<span class="hljs-keyword">int</span>) valueList.get(i);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Removes the mapping of the specified value key if this map contains a mapping for the key */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = hash(key);<br>        LinkedList keyList = <span class="hljs-keyword">this</span>.data[h][<span class="hljs-number">0</span>];<br>        LinkedList valueList = <span class="hljs-keyword">this</span>.data[h][<span class="hljs-number">1</span>];<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; keyList.size(); i++)&#123;<br>            Integer curKey = (<span class="hljs-keyword">int</span>) keyList.get(i);<br>            <span class="hljs-keyword">if</span>(curKey == key)&#123;<br>                keyList.remove(curKey);<br>                valueList.remove(valueList.get(i));<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hash</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> key % BASE;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your MyHashMap object will be instantiated and called as such:</span><br><span class="hljs-comment"> * MyHashMap obj = new MyHashMap();</span><br><span class="hljs-comment"> * obj.put(key,value);</span><br><span class="hljs-comment"> * int param_2 = obj.get(key);</span><br><span class="hljs-comment"> * obj.remove(key);</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="é“¾åœ°å€æ³•"><a href="#é“¾åœ°å€æ³•" class="headerlink" title="é“¾åœ°å€æ³•"></a>é“¾åœ°å€æ³•</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>å®˜æ–¹é¢˜è§£åˆ©ç”¨äº†å†…éƒ¨ç§æœ‰ç±»ï¼Œå®šä¹‰äº† <code>Pair</code> æ¥å®Œæˆ <code>&#123;key, value&#125;</code> çš„å¯¹åº”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHashMap</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Pair</span> </span>&#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> key;<br>        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> value;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">Pair</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key, <span class="hljs-keyword">int</span> value)</span> </span>&#123;<br>            <span class="hljs-keyword">this</span>.key = key;<br>            <span class="hljs-keyword">this</span>.value = value;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getKey</span><span class="hljs-params">()</span> </span>&#123;<br>            <span class="hljs-keyword">return</span> key;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">getValue</span><span class="hljs-params">()</span> </span>&#123;<br>            <span class="hljs-keyword">return</span> value;<br>        &#125;<br><br>        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setValue</span><span class="hljs-params">(<span class="hljs-keyword">int</span> value)</span> </span>&#123;<br>            <span class="hljs-keyword">this</span>.value = value;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> BASE = <span class="hljs-number">769</span>;<br>    <span class="hljs-keyword">private</span> LinkedList[] data;<br><br>    <span class="hljs-comment">/** Initialize your data structure here. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyHashMap</span><span class="hljs-params">()</span> </span>&#123;<br>        data = <span class="hljs-keyword">new</span> LinkedList[BASE];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; BASE; ++i) &#123;<br>            data[i] = <span class="hljs-keyword">new</span> LinkedList&lt;Pair&gt;();<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">/** value will always be non-negative. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">put</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key, <span class="hljs-keyword">int</span> value)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = hash(key);<br>        Iterator&lt;Pair&gt; iterator = data[h].iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            Pair pair = iterator.next();<br>            <span class="hljs-keyword">if</span> (pair.getKey() == key) &#123;<br>                pair.setValue(value);<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>        &#125;<br>        data[h].offerLast(<span class="hljs-keyword">new</span> Pair(key, value));<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = hash(key);<br>        Iterator&lt;Pair&gt; iterator = data[h].iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            Pair pair = iterator.next();<br>            <span class="hljs-keyword">if</span> (pair.getKey() == key) &#123;<br>                <span class="hljs-keyword">return</span> pair.value;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Removes the mapping of the specified value key if this map contains a mapping for the key */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = hash(key);<br>        Iterator&lt;Pair&gt; iterator = data[h].iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            Pair pair = iterator.next();<br>            <span class="hljs-keyword">if</span> (pair.key == key) &#123;<br>                data[h].remove(pair);<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hash</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> key % BASE;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/design-hashmap/solution/she-ji-ha-xi-ying-she-by-leetcode-soluti-klu9/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 705</title>
    <link href="/2021/08/31/LeetCode-Notes-705/"/>
    <url>/2021/08/31/LeetCode-Notes-705/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-705"><a href="#Leetcode-Notes-705" class="headerlink" title="Leetcode Notes - 705"></a>Leetcode Notes - 705</h1><p>é¢˜ç›®ï¼š<strong>705. è®¾è®¡å“ˆå¸Œé›†åˆ</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬ä¸€æ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å“ˆå¸Œæ˜ å°„å®ç°</li><li>å“ˆå¸Œå‡½æ•°</li><li>é“¾åœ°å€æ³•</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-é“¾åœ°å€æ³•"><a href="#1-é“¾åœ°å€æ³•" class="headerlink" title="1. é“¾åœ°å€æ³•"></a>1. é“¾åœ°å€æ³•</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831001654888.png" alt="é“¾åœ°å€æ³•"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHashSet</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> BASE = <span class="hljs-number">769</span>;<br>    <span class="hljs-keyword">private</span> LinkedList[] dataArr;<br><br>    <span class="hljs-comment">/** Initialize your data structure here. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyHashSet</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.dataArr = <span class="hljs-keyword">new</span> LinkedList[BASE];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; BASE; i++)&#123;<br>            <span class="hljs-keyword">this</span>.dataArr[i] = <span class="hljs-keyword">new</span> LinkedList&lt;Integer&gt;();<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = <span class="hljs-keyword">this</span>.hash(key);<br><br>        Iterator&lt;Integer&gt; cur = <span class="hljs-keyword">this</span>.dataArr[h].iterator();<br>        <span class="hljs-keyword">while</span>(cur.hasNext())&#123;<br>            Integer ele = cur.next();<br>            <span class="hljs-keyword">if</span>(ele == key)&#123;<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">this</span>.dataArr[h].offerLast(key);<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = <span class="hljs-keyword">this</span>.hash(key);<br><br>        Iterator&lt;Integer&gt; cur = <span class="hljs-keyword">this</span>.dataArr[h].iterator();<br>        <span class="hljs-keyword">while</span>(cur.hasNext())&#123;<br>            Integer ele = cur.next();<br>            <span class="hljs-keyword">if</span>(ele == key)&#123;<br>                <span class="hljs-keyword">this</span>.dataArr[h].remove(ele);<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Returns true if this set contains the specified element */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">contains</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = <span class="hljs-keyword">this</span>.hash(key);<br><br>        Iterator&lt;Integer&gt; cur = <span class="hljs-keyword">this</span>.dataArr[h].iterator();<br>        <span class="hljs-keyword">while</span>(cur.hasNext())&#123;<br>            Integer ele = cur.next();<br>            <span class="hljs-keyword">if</span>(ele == key)&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hash</span><span class="hljs-params">(<span class="hljs-keyword">int</span> val)</span></span>&#123;<br>        <span class="hljs-keyword">return</span> val % BASE;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your MyHashSet object will be instantiated and called as such:</span><br><span class="hljs-comment"> * MyHashSet obj = new MyHashSet();</span><br><span class="hljs-comment"> * obj.add(key);</span><br><span class="hljs-comment"> * obj.remove(key);</span><br><span class="hljs-comment"> * boolean param_3 = obj.contains(key);</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="é“¾åœ°å€æ³•"><a href="#é“¾åœ°å€æ³•" class="headerlink" title="é“¾åœ°å€æ³•"></a>é“¾åœ°å€æ³•</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>è®¾å“ˆå¸Œè¡¨çš„å¤§å°ä¸º <code>base</code>ï¼Œåˆ™å¯ä»¥è®¾è®¡ä¸€ä¸ªç®€å•çš„å“ˆå¸Œå‡½æ•°ï¼š<code>hash(x) = x mod base</code>ã€‚</p><p>æˆ‘ä»¬å¼€è¾Ÿä¸€ä¸ªå¤§å°ä¸º <code>base</code> çš„æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªä½ç½®æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚å½“è®¡ç®—å‡ºå“ˆå¸Œå€¼ä¹‹åï¼Œå°±æ’å…¥åˆ°å¯¹åº”ä½ç½®çš„é“¾è¡¨å½“ä¸­ã€‚</p><p>ç”±äºæˆ‘ä»¬ä½¿ç”¨æ•´æ•°é™¤æ³•ä½œä¸ºå“ˆå¸Œå‡½æ•°ï¼Œä¸ºäº†å°½å¯èƒ½é¿å…å†²çªï¼Œåº”å½“å°† \textit{base}base å–ä¸ºä¸€ä¸ªè´¨æ•°ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å– <code>base = 769</code>ã€‚</p><p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMubGVldGNvZGUtY24uY29tL0ZpZ3VyZXMvNzA1LzcwNV9saW5rZWRfbGlzdC5wbmc?x-oss-process=image/format,png" alt="fig"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyHashSet</span> </span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">int</span> BASE = <span class="hljs-number">769</span>;<br>    <span class="hljs-keyword">private</span> LinkedList[] data;<br><br>    <span class="hljs-comment">/** Initialize your data structure here. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyHashSet</span><span class="hljs-params">()</span> </span>&#123;<br>        data = <span class="hljs-keyword">new</span> LinkedList[BASE];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; BASE; ++i) &#123;<br>            data[i] = <span class="hljs-keyword">new</span> LinkedList&lt;Integer&gt;();<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">add</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = hash(key);<br>        Iterator&lt;Integer&gt; iterator = data[h].iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            Integer element = iterator.next();<br>            <span class="hljs-keyword">if</span> (element == key) &#123;<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>        &#125;<br>        data[h].offerLast(key);<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">remove</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = hash(key);<br>        Iterator&lt;Integer&gt; iterator = data[h].iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            Integer element = iterator.next();<br>            <span class="hljs-keyword">if</span> (element == key) &#123;<br>                data[h].remove(element);<br>                <span class="hljs-keyword">return</span>;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Returns true if this set contains the specified element */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">contains</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> h = hash(key);<br>        Iterator&lt;Integer&gt; iterator = data[h].iterator();<br>        <span class="hljs-keyword">while</span> (iterator.hasNext()) &#123;<br>            Integer element = iterator.next();<br>            <span class="hljs-keyword">if</span> (element == key) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hash</span><span class="hljs-params">(<span class="hljs-keyword">int</span> key)</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> key % BASE;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/design-hashset/solution/she-ji-ha-xi-ji-he-by-leetcode-solution-xp4t/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œé€‰æ‹©769æ˜¯å› ä¸ºä»–æ˜¯è´¨æ•°ï¼Œèƒ½ä½¿æ¡¶åˆ†é…çš„æ›´å¹³å‡ï¼Œå…·ä½“æ¨åˆ°å’Œæ•°å­¦åŸç†æœ‰å¾…æ€è€ƒï¼</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 56</title>
    <link href="/2021/08/31/LeetCode-Notes-56/"/>
    <url>/2021/08/31/LeetCode-Notes-56/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-56"><a href="#Leetcode-Notes-56" class="headerlink" title="Leetcode Notes - 56"></a>Leetcode Notes - 56</h1><p>é¢˜ç›®ï¼š<strong>56. åˆå¹¶åŒºé—´</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>äºŒç»´æ•°ç»„æ’åº</li><li>è´ªå¿ƒç®—æ³•</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-è´ªå¿ƒç®—æ³•"><a href="#1-è´ªå¿ƒç®—æ³•" class="headerlink" title="1. è´ªå¿ƒç®—æ³•"></a>1. è´ªå¿ƒç®—æ³•</h3><p>å¹¶ä¸æ­£ç¡®çš„è´ªå¿ƒå“ˆå“ˆï¼Œæ²¡è¿‡ï¼Œä½†æ˜¯è®°å½•ä¸€ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[][] merge(<span class="hljs-keyword">int</span>[][] intervals) &#123;<br>        <span class="hljs-keyword">if</span>(intervals.length == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> intervals;<br>        <br>        Arrays.sort(intervals, <span class="hljs-keyword">new</span> Comparator&lt;<span class="hljs-keyword">int</span>[]&gt;()&#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] v1, <span class="hljs-keyword">int</span>[] v2)</span></span>&#123;<br>                <span class="hljs-keyword">return</span> v1[<span class="hljs-number">0</span>] - v2[<span class="hljs-number">0</span>];<br>            &#125;<br>        &#125;);<br>        <br>        <span class="hljs-keyword">int</span> p = <span class="hljs-number">1</span>;<br>        List&lt;<span class="hljs-keyword">int</span>[]&gt; resList = <span class="hljs-keyword">new</span> ArrayList&lt;<span class="hljs-keyword">int</span>[]&gt;();<br>        <span class="hljs-keyword">int</span> curLeft = intervals[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">int</span> curRight = intervals[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>];<br>        <br>        <span class="hljs-keyword">while</span>(p &lt; intervals.length)&#123;<br>            <span class="hljs-keyword">if</span>(intervals[p][<span class="hljs-number">0</span>] &lt;= curRight)&#123;<br>                <span class="hljs-keyword">if</span>(curRight &lt;= intervals[p][<span class="hljs-number">1</span>])&#123;<br>                    curRight = intervals[p][<span class="hljs-number">1</span>];<br>                &#125;<br>                p++;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">int</span>[] cur = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">2</span>];<br>                cur[<span class="hljs-number">0</span>] = curLeft;<br>                cur[<span class="hljs-number">1</span>] = curRight;<br>                resList.add(cur);<br>                <br>                curLeft = intervals[p][<span class="hljs-number">0</span>];<br>                curRight = intervals[p][<span class="hljs-number">1</span>];<br>                p++;<br>            &#125;   <br>        &#125;<br>        <br>        <span class="hljs-keyword">if</span>(curLeft == intervals[p - <span class="hljs-number">1</span>][<span class="hljs-number">0</span>] &amp;&amp; curRight == intervals[p - <span class="hljs-number">1</span>][<span class="hljs-number">1</span>])&#123;<br>            <span class="hljs-keyword">int</span>[] temp = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">2</span>];<br>            temp[<span class="hljs-number">0</span>] = curLeft;<br>            temp[<span class="hljs-number">1</span>] = curRight;<br>            resList.add(temp);<br>        &#125;<br>        <br>        <span class="hljs-keyword">int</span>[][] res = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[resList.size()][<span class="hljs-number">2</span>];<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; resList.size(); i++)&#123;<br>            res[i] = resList.get(i);<br>        &#125;<br>            <br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="æ’åº-è´ªå¿ƒ"><a href="#æ’åº-è´ªå¿ƒ" class="headerlink" title="æ’åº + è´ªå¿ƒ"></a>æ’åº + è´ªå¿ƒ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>æˆ‘ä»¬ç”¨æ•°ç»„ <code>merged</code> å­˜å‚¨æœ€ç»ˆçš„ç­”æ¡ˆã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†åˆ—è¡¨ä¸­çš„åŒºé—´æŒ‰ç…§å·¦ç«¯ç‚¹å‡åºæ’åºã€‚ç„¶åæˆ‘ä»¬å°†ç¬¬ä¸€ä¸ªåŒºé—´åŠ å…¥ <code>merged</code> æ•°ç»„ä¸­ï¼Œå¹¶æŒ‰é¡ºåºä¾æ¬¡è€ƒè™‘ä¹‹åçš„æ¯ä¸ªåŒºé—´ï¼š</p><ul><li>å¦‚æœå½“å‰åŒºé—´çš„å·¦ç«¯ç‚¹åœ¨æ•°ç»„ <code>merged</code> ä¸­æœ€åä¸€ä¸ªåŒºé—´çš„å³ç«¯ç‚¹ä¹‹åï¼Œé‚£ä¹ˆå®ƒä»¬ä¸ä¼šé‡åˆï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†è¿™ä¸ªåŒºé—´åŠ å…¥æ•°ç»„ <code>merged</code> çš„æœ«å°¾ï¼›</li><li>å¦åˆ™ï¼Œå®ƒä»¬é‡åˆï¼Œæˆ‘ä»¬éœ€è¦ç”¨å½“å‰åŒºé—´çš„å³ç«¯ç‚¹æ›´æ–°æ•°ç»„ <code>merged</code> ä¸­æœ€åä¸€ä¸ªåŒºé—´çš„å³ç«¯ç‚¹ï¼Œå°†å…¶ç½®ä¸ºäºŒè€…çš„è¾ƒå¤§å€¼ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[][] merge(<span class="hljs-keyword">int</span>[][] intervals) &#123;<br>        <span class="hljs-keyword">if</span> (intervals.length == <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">0</span>][<span class="hljs-number">2</span>];<br>        &#125;<br>        Arrays.sort(intervals, <span class="hljs-keyword">new</span> Comparator&lt;<span class="hljs-keyword">int</span>[]&gt;() &#123;<br>            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">compare</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] interval1, <span class="hljs-keyword">int</span>[] interval2)</span> </span>&#123;<br>                <span class="hljs-keyword">return</span> interval1[<span class="hljs-number">0</span>] - interval2[<span class="hljs-number">0</span>];<br>            &#125;<br>        &#125;);<br>        List&lt;<span class="hljs-keyword">int</span>[]&gt; merged = <span class="hljs-keyword">new</span> ArrayList&lt;<span class="hljs-keyword">int</span>[]&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; intervals.length; ++i) &#123;<br>            <span class="hljs-keyword">int</span> L = intervals[i][<span class="hljs-number">0</span>], R = intervals[i][<span class="hljs-number">1</span>];<br>            <span class="hljs-keyword">if</span> (merged.size() == <span class="hljs-number">0</span> || merged.get(merged.size() - <span class="hljs-number">1</span>)[<span class="hljs-number">1</span>] &lt; L) &#123;<br>                merged.add(<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]&#123;L, R&#125;);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                merged.get(merged.size() - <span class="hljs-number">1</span>)[<span class="hljs-number">1</span>] = Math.max(merged.get(merged.size() - <span class="hljs-number">1</span>)[<span class="hljs-number">1</span>], R);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> merged.toArray(<span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[merged.size()][]);<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/merge-intervals/solution/he-bing-qu-jian-by-leetcode-solution/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 75</title>
    <link href="/2021/08/31/LeetCode-Notes-75/"/>
    <url>/2021/08/31/LeetCode-Notes-75/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-75"><a href="#Leetcode-Notes-75" class="headerlink" title="Leetcode Notes -75"></a>Leetcode Notes -75</h1><p>é¢˜ç›®ï¼š<strong>75. é¢œè‰²åˆ†ç±»</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>åŒæŒ‡é’ˆ</li><li>æ’åº</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-åŒæŒ‡é’ˆ"><a href="#1-åŒæŒ‡é’ˆ" class="headerlink" title="1. åŒæŒ‡é’ˆ"></a>1. åŒæŒ‡é’ˆ</h3><p>ä¸æ­£ç¡®çš„åŒæŒ‡é’ˆğŸ˜€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sortColors</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(nums.length &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;<br>        <br>        <span class="hljs-keyword">int</span> p0 = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> p2 = nums.length - <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.length; i++)&#123;<br>            <span class="hljs-keyword">if</span>(i &gt; p2) <span class="hljs-keyword">break</span>;<br>            <br>            <span class="hljs-keyword">int</span> tmp = -<span class="hljs-number">1</span>;<br>            <br>            <span class="hljs-keyword">while</span>(nums[i] != <span class="hljs-number">1</span>)&#123;<br>                <span class="hljs-keyword">if</span>(nums[i] == <span class="hljs-number">0</span>)&#123;<br>                    tmp = nums[p0];<br>                    nums[p0] = <span class="hljs-number">0</span>;<br>                    nums[i] = tmp;<br>                    p0++;<br>                &#125;<br><br>                <span class="hljs-keyword">if</span>(nums[i] == <span class="hljs-number">2</span>)&#123;<br>                    tmp = nums[p2];<br>                    nums[p2] = <span class="hljs-number">2</span>;<br>                    nums[i] = tmp;<br>                    p2--;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-keyword">return</span>;<br>    &#125; <br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210831004334916.png" alt="åŠ›æ‰£é¢˜è§£"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">sortColors</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(nums.length &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;<br>        <br>        <span class="hljs-keyword">int</span> p0 = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">int</span> p2 = nums.length - <span class="hljs-number">1</span>;<br>        <br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nums.length; i++)&#123;<br>            <span class="hljs-keyword">if</span>(i &gt; p2) <span class="hljs-keyword">break</span>;<br>            <br>            <span class="hljs-keyword">int</span> tmp = -<span class="hljs-number">1</span>;<br>            <br>            <span class="hljs-keyword">while</span>(nums[i] != <span class="hljs-number">1</span>)&#123;<br>                <span class="hljs-keyword">if</span>(nums[i] == <span class="hljs-number">0</span>)&#123;<br>                    tmp = nums[p0];<br>                    nums[p0] = <span class="hljs-number">0</span>;<br>                    nums[i] = tmp;<br>                    p0++;<br>                &#125;<br><br>                <span class="hljs-keyword">if</span>(nums[i] == <span class="hljs-number">2</span>)&#123;<br>                    tmp = nums[p2];<br>                    nums[p2] = <span class="hljs-number">2</span>;<br>                    nums[i] = tmp;<br>                    p2--;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <br>        <span class="hljs-keyword">return</span>;<br>    &#125; <br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 169</title>
    <link href="/2021/08/31/LeetCode-Notes-169/"/>
    <url>/2021/08/31/LeetCode-Notes-169/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-169"><a href="#Leetcode-Notes-169" class="headerlink" title="Leetcode Notes - 169"></a>Leetcode Notes - 169</h1><p>é¢˜ç›®ï¼š<strong>169. å¤šæ•°å…ƒç´ </strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å“ˆå¸Œ</li><li>æ‘©å°”æŠ•ç¥¨ç®—æ³•</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-æ‘©å°”æŠ•ç¥¨ç®—æ³•"><a href="#1-æ‘©å°”æŠ•ç¥¨ç®—æ³•" class="headerlink" title="1. æ‘©å°”æŠ•ç¥¨ç®—æ³•"></a>1. æ‘©å°”æŠ•ç¥¨ç®—æ³•</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210829220640206.png" alt="æ‘©å°”æŠ•ç¥¨ç®—æ³•"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">majorityElement</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> candidate = nums[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i : nums)&#123;<br>            <span class="hljs-keyword">if</span>(i == candidate)&#123;<br>                count++;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                count--;<br><br>                <span class="hljs-keyword">if</span>(count == <span class="hljs-number">0</span>)&#123;<br>                    candidate = i;<br>                    count = <span class="hljs-number">1</span>;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> candidate;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="Boyer-Moore-æŠ•ç¥¨ç®—æ³•"><a href="#Boyer-Moore-æŠ•ç¥¨ç®—æ³•" class="headerlink" title="Boyer-Moore æŠ•ç¥¨ç®—æ³•"></a>Boyer-Moore æŠ•ç¥¨ç®—æ³•</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210829220755990.png" alt="LeetCodeå®˜æ–¹é¢˜è§£"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">majorityElement</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> count = <span class="hljs-number">0</span>;<br>        Integer candidate = <span class="hljs-keyword">null</span>;<br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> num : nums) &#123;<br>            <span class="hljs-keyword">if</span> (count == <span class="hljs-number">0</span>) &#123;<br>                candidate = num;<br>            &#125;<br>            count += (num == candidate) ? <span class="hljs-number">1</span> : -<span class="hljs-number">1</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> candidate;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/majority-element/solution/duo-shu-yuan-su-by-leetcode-solution/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 136</title>
    <link href="/2021/08/29/LeetCode-Notes-136/"/>
    <url>/2021/08/29/LeetCode-Notes-136/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Notes-136"><a href="#Leetcode-Notes-136" class="headerlink" title="Leetcode Notes - 136"></a>Leetcode Notes - 136</h1><p>é¢˜ç›®ï¼š<strong>136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>ä½è¿ç®—</li><li>å¼‚æˆ–è¿ç®—</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-ä½è¿ç®—"><a href="#1-ä½è¿ç®—" class="headerlink" title="1. ä½è¿ç®—"></a>1. ä½è¿ç®—</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">singleNumber</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> num: nums) &#123;<br>            ans ^= num;<br>            System.out.println(ans);<br>        &#125;<br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210829211115524.png" alt="136.é¢˜è§£"></p>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 232</title>
    <link href="/2021/07/31/LeetCode-Notes-232/"/>
    <url>/2021/07/31/LeetCode-Notes-232/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Day-9"><a href="#Leetcode-Day-9" class="headerlink" title="Leetcode - Day 9"></a>Leetcode - Day 9</h1><p>é¢˜ç›®ï¼š<strong>232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬ä¸€æ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>æ ˆ</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="ä½œå¼Š"><a href="#ä½œå¼Š" class="headerlink" title="ä½œå¼Š"></a>ä½œå¼Š</h3><p>é¢å‘ç­”æ¡ˆçš„ç¼–ç¨‹ğŸ˜ˆ</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210731172343379.png" alt="æäº¤æƒ…å†µ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyQueue</span> </span>&#123;<br>    Queue&lt;Integer&gt; myQueue;<br><br>    <span class="hljs-comment">/** Initialize your data structure here. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyQueue</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">this</span>.myQueue = <span class="hljs-keyword">new</span> LinkedList&lt;Integer&gt;();<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Push element x to the back of queue. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        myQueue.offer(x);<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Removes the element from in front of queue and returns that element. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> ele = myQueue.poll();<br><br>        <span class="hljs-keyword">return</span> ele;<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Get the front element. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">peek</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> ele = myQueue.peek();<br><br>        <span class="hljs-keyword">return</span> ele;<br>    &#125;<br>    <br>    <span class="hljs-comment">/** Returns whether the queue is empty. */</span><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> myQueue.isEmpty();<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Your MyQueue object will be instantiated and called as such:</span><br><span class="hljs-comment"> * MyQueue obj = new MyQueue();</span><br><span class="hljs-comment"> * obj.push(x);</span><br><span class="hljs-comment"> * int param_2 = obj.pop();</span><br><span class="hljs-comment"> * int param_3 = obj.peek();</span><br><span class="hljs-comment"> * boolean param_4 = obj.empty();</span><br><span class="hljs-comment"> */</span><br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="åŒæ ˆ"><a href="#åŒæ ˆ" class="headerlink" title="åŒæ ˆ"></a>åŒæ ˆ</h3><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>å°†ä¸€ä¸ªæ ˆå½“ä½œè¾“å…¥æ ˆï¼Œç”¨äºå‹å…¥ push ä¼ å…¥çš„æ•°æ®ï¼›å¦ä¸€ä¸ªæ ˆå½“ä½œè¾“å‡ºæ ˆï¼Œç”¨äº pop å’Œ peek æ“ä½œã€‚</p><p>æ¯æ¬¡ pop æˆ– peek æ—¶ï¼Œè‹¥è¾“å‡ºæ ˆä¸ºç©ºåˆ™å°†è¾“å…¥æ ˆçš„å…¨éƒ¨æ•°æ®ä¾æ¬¡å¼¹å‡ºå¹¶å‹å…¥è¾“å‡ºæ ˆï¼Œè¿™æ ·è¾“å‡ºæ ˆä»æ ˆé¡¶å¾€æ ˆåº•çš„é¡ºåºå°±æ˜¯é˜Ÿåˆ—ä»é˜Ÿé¦–å¾€é˜Ÿå°¾çš„é¡ºåºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyQueue</span> </span>&#123;<br>    Deque&lt;Integer&gt; inStack;<br>    Deque&lt;Integer&gt; outStack;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyQueue</span><span class="hljs-params">()</span> </span>&#123;<br>        inStack = <span class="hljs-keyword">new</span> LinkedList&lt;Integer&gt;();<br>        outStack = <span class="hljs-keyword">new</span> LinkedList&lt;Integer&gt;();<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">push</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> </span>&#123;<br>        inStack.push(x);<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">pop</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (outStack.isEmpty()) &#123;<br>            in2out();<br>        &#125;<br>        <span class="hljs-keyword">return</span> outStack.pop();<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">peek</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (outStack.isEmpty()) &#123;<br>            in2out();<br>        &#125;<br>        <span class="hljs-keyword">return</span> outStack.peek();<br>    &#125;<br>    <br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">empty</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">return</span> inStack.isEmpty() &amp;&amp; outStack.isEmpty();<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">in2out</span><span class="hljs-params">()</span> </span>&#123;<br>        <span class="hljs-keyword">while</span> (!inStack.isEmpty()) &#123;<br>            outStack.push(inStack.pop());<br>        &#125;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/implement-queue-using-stacks/solution/yong-zhan-shi-xian-dui-lie-by-leetcode-s-xnb6/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 20</title>
    <link href="/2021/07/31/LeetCode-Notes-20/"/>
    <url>/2021/07/31/LeetCode-Notes-20/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Day-9"><a href="#Leetcode-Day-9" class="headerlink" title="Leetcode - Day 9"></a>Leetcode - Day 9</h1><p>é¢˜ç›®ï¼š<strong>20. æœ‰æ•ˆçš„æ‹¬å·</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬ä¸€æ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>æ ˆ</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-æ ˆ"><a href="#1-æ ˆ" class="headerlink" title="1. æ ˆ"></a>1. æ ˆ</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210731171027262.png" alt="æäº¤æƒ…å†µ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isValid</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(s.length() % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br><br>        <span class="hljs-keyword">char</span>[] strArr = s.toCharArray();<br>        Stack&lt;Character&gt; myStack = <span class="hljs-keyword">new</span> Stack&lt;Character&gt;();<br><br>        <span class="hljs-keyword">int</span> no = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; strArr.length; i++)&#123;<br>            no = typeJudge(strArr[i]);<br><br>            <span class="hljs-keyword">if</span>(no &lt;= <span class="hljs-number">3</span>)&#123;<br>                myStack.push(strArr[i]);<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">if</span>(myStack.empty()) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br><br>                <span class="hljs-keyword">if</span>(no - typeJudge(myStack.peek()) != <span class="hljs-number">3</span>)&#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>                &#125;<br><br>                myStack.pop();<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> myStack.empty() ? <span class="hljs-keyword">true</span> : <span class="hljs-keyword">false</span>;<br>    &#125;<br><br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">typeJudge</span><span class="hljs-params">(<span class="hljs-keyword">char</span> ch)</span></span>&#123;<br>        <span class="hljs-keyword">if</span>(ch == <span class="hljs-string">&#x27;(&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(ch == <span class="hljs-string">&#x27;[&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>;<br>        <span class="hljs-keyword">if</span>(ch == <span class="hljs-string">&#x27;&#123;&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">3</span>;<br>        <span class="hljs-keyword">if</span>(ch == <span class="hljs-string">&#x27;)&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">4</span>;<br>        <span class="hljs-keyword">if</span>(ch == <span class="hljs-string">&#x27;]&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>;<br>        <span class="hljs-keyword">if</span>(ch == <span class="hljs-string">&#x27;&#125;&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">6</span>;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h3><p>åˆ¤æ–­æ‹¬å·çš„æœ‰æ•ˆæ€§å¯ä»¥ä½¿ç”¨ã€Œæ ˆã€è¿™ä¸€æ•°æ®ç»“æ„æ¥è§£å†³ã€‚</p><p>æˆ‘ä»¬éå†ç»™å®šçš„å­—ç¬¦ä¸² sã€‚å½“æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªå·¦æ‹¬å·æ—¶ï¼Œæˆ‘ä»¬ä¼šæœŸæœ›åœ¨åç»­çš„éå†ä¸­ï¼Œæœ‰ä¸€ä¸ªç›¸åŒç±»å‹çš„å³æ‹¬å·å°†å…¶é—­åˆã€‚ç”±äºåé‡åˆ°çš„å·¦æ‹¬å·è¦å…ˆé—­åˆï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªå·¦æ‹¬å·æ”¾å…¥æ ˆé¡¶ã€‚</p><p>å½“æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªå³æ‹¬å·æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªç›¸åŒç±»å‹çš„å·¦æ‹¬å·é—­åˆã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å–å‡ºæ ˆé¡¶çš„å·¦æ‹¬å·å¹¶åˆ¤æ–­å®ƒä»¬æ˜¯å¦æ˜¯ç›¸åŒç±»å‹çš„æ‹¬å·ã€‚å¦‚æœä¸æ˜¯ç›¸åŒçš„ç±»å‹ï¼Œæˆ–è€…æ ˆä¸­å¹¶æ²¡æœ‰å·¦æ‹¬å·ï¼Œé‚£ä¹ˆå­—ç¬¦ä¸² s æ— æ•ˆï¼Œè¿”å› Falseã€‚ä¸ºäº†å¿«é€Ÿåˆ¤æ–­æ‹¬å·çš„ç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸€ç§æ‹¬å·ã€‚å“ˆå¸Œè¡¨çš„é”®ä¸ºå³æ‹¬å·ï¼Œå€¼ä¸ºç›¸åŒç±»å‹çš„å·¦æ‹¬å·ã€‚</p><p>åœ¨éå†ç»“æŸåï¼Œå¦‚æœæ ˆä¸­æ²¡æœ‰å·¦æ‹¬å·ï¼Œè¯´æ˜æˆ‘ä»¬å°†å­—ç¬¦ä¸² s ä¸­çš„æ‰€æœ‰å·¦æ‹¬å·é—­åˆï¼Œè¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚</p><p>æ³¨æ„åˆ°æœ‰æ•ˆå­—ç¬¦ä¸²çš„é•¿åº¦ä¸€å®šä¸ºå¶æ•°ï¼Œå› æ­¤å¦‚æœå­—ç¬¦ä¸²çš„é•¿åº¦ä¸ºå¥‡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è¿”å› Falseï¼Œçœå»åç»­çš„éå†åˆ¤æ–­è¿‡ç¨‹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">isValid</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        <span class="hljs-keyword">int</span> n = s.length();<br>        <span class="hljs-keyword">if</span> (n % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125;<br><br>        Map&lt;Character, Character&gt; pairs = <span class="hljs-keyword">new</span> HashMap&lt;Character, Character&gt;() &#123;&#123;<br>            put(<span class="hljs-string">&#x27;)&#x27;</span>, <span class="hljs-string">&#x27;(&#x27;</span>);<br>            put(<span class="hljs-string">&#x27;]&#x27;</span>, <span class="hljs-string">&#x27;[&#x27;</span>);<br>            put(<span class="hljs-string">&#x27;&#125;&#x27;</span>, <span class="hljs-string">&#x27;&#123;&#x27;</span>);<br>        &#125;&#125;;<br>        Deque&lt;Character&gt; stack = <span class="hljs-keyword">new</span> LinkedList&lt;Character&gt;();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>            <span class="hljs-keyword">char</span> ch = s.charAt(i);<br>            <span class="hljs-keyword">if</span> (pairs.containsKey(ch)) &#123;<br>                <span class="hljs-keyword">if</span> (stack.isEmpty() || stack.peek() != pairs.get(ch)) &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>                &#125;<br>                stack.pop();<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                stack.push(ch);<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> stack.isEmpty();<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/valid-parentheses/solution/you-xiao-de-gua-hao-by-leetcode-solution/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 15</title>
    <link href="/2021/07/30/LeetCode-Notes-15/"/>
    <url>/2021/07/30/LeetCode-Notes-15/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Day-8"><a href="#Leetcode-Day-8" class="headerlink" title="Leetcode - Day 8"></a>Leetcode - Day 8</h1><p>é¢˜ç›®ï¼š<strong>15. ä¸‰æ•°ä¹‹å’Œ</strong></p><p>éš¾åº¦ï¼š<strong>ä¸­ç­‰</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬ä¸€æ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>åŒæŒ‡é’ˆ</li><li>æ•°ç»„</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-åŸåœ°ä¿®æ”¹"><a href="#1-åŸåœ°ä¿®æ”¹" class="headerlink" title="1. åŸåœ°ä¿®æ”¹"></a>1. åŸåœ°ä¿®æ”¹</h3><p><strong>ã€Šè¶… å‡º æ—¶ é—´ é™ åˆ¶ã€‹</strong>ğŸ¤£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="hljs-keyword">int</span>[] nums) &#123;<br>        <span class="hljs-keyword">if</span>(nums.length &lt; <span class="hljs-number">3</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();<br>        &#125;<br><br>        Arrays.sort(nums);<br>        <br>        List&lt;List&lt;Integer&gt;&gt; ans = <span class="hljs-keyword">new</span> ArrayList&lt;List&lt;Integer&gt;&gt;();<br>        Map&lt;String, List&lt;Integer&gt;&gt; myHashmap = <span class="hljs-keyword">new</span> HashMap&lt;String, List&lt;Integer&gt;&gt;();<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> a = <span class="hljs-number">0</span>; a &lt; nums.length - <span class="hljs-number">2</span>; a++)&#123;<br>            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> b = a + <span class="hljs-number">1</span>; b &lt; nums.length - <span class="hljs-number">1</span>; b++)&#123;<br>                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> c = b + <span class="hljs-number">1</span>; c &lt; nums.length; c++)&#123;<br>                    <span class="hljs-keyword">if</span>(nums[a] + nums[b] == -nums[c])&#123;<br>                        List&lt;Integer&gt; curNew = <span class="hljs-keyword">new</span> ArrayList&lt;Integer&gt;();<br>                        String curStr = <span class="hljs-string">&quot;&quot;</span>;<br>                        <br>                        curNew.add(nums[a]);<br>                        curNew.add(nums[b]);<br>                        curNew.add(nums[c]);<br><br>                        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i : curNew)&#123;<br>                            curStr = curStr + String.format(<span class="hljs-string">&quot;%d&quot;</span>, i);<br>                        &#125;<br><br>                        <span class="hljs-keyword">if</span>(myHashmap.containsKey(curStr))&#123;<br>                            <span class="hljs-keyword">continue</span>;<br>                        &#125;<br>                        <span class="hljs-keyword">else</span>&#123;<br>                            myHashmap.put(curStr,curNew);<br>                            ans.add(curNew);<br>                        &#125;<br>                    &#125;<br>                &#125;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="æ’åº-åŒæŒ‡é’ˆ"><a href="#æ’åº-åŒæŒ‡é’ˆ" class="headerlink" title="æ’åº+åŒæŒ‡é’ˆ"></a>æ’åº+åŒæŒ‡é’ˆ</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210730231301770.png" alt="é¢˜è§£"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="hljs-keyword">int</span>[] nums) &#123;<br>    List&lt;List&lt;Integer&gt;&gt; lists = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>    <span class="hljs-comment">//æ’åº</span><br>    Arrays.sort(nums);<br>    <span class="hljs-comment">//åŒæŒ‡é’ˆ</span><br>    <span class="hljs-keyword">int</span> len = nums.length;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>;i &lt; len;++i) &#123;<br>        <span class="hljs-keyword">if</span>(nums[i] &gt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> lists;<br><br>        <span class="hljs-keyword">if</span>(i &gt; <span class="hljs-number">0</span> &amp;&amp; nums[i] == nums[i-<span class="hljs-number">1</span>]) <span class="hljs-keyword">continue</span>;<br><br>        <span class="hljs-keyword">int</span> curr = nums[i];<br>        <span class="hljs-keyword">int</span> L = i+<span class="hljs-number">1</span>, R = len-<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span> (L &lt; R) &#123;<br>            <span class="hljs-keyword">int</span> tmp = curr + nums[L] + nums[R];<br>            <span class="hljs-keyword">if</span>(tmp == <span class="hljs-number">0</span>) &#123;<br>                List&lt;Integer&gt; list = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;();<br>                list.add(curr);<br>                list.add(nums[L]);<br>                list.add(nums[R]);<br>                lists.add(list);<br>                <span class="hljs-keyword">while</span>(L &lt; R &amp;&amp; nums[L+<span class="hljs-number">1</span>] == nums[L]) ++L;<br>                <span class="hljs-keyword">while</span> (L &lt; R &amp;&amp; nums[R-<span class="hljs-number">1</span>] == nums[R]) --R;<br>                ++L;<br>                --R;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(tmp &lt; <span class="hljs-number">0</span>) &#123;<br>                ++L;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                --R;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> lists;<br>&#125;<br><br>ä½œè€…ï¼šwu_yan_zu<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/3sum/solution/pai-xu-shuang-zhi-zhen-zhu-xing-jie-shi-python3-by/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 206</title>
    <link href="/2021/07/30/LeetCode-Notes-206/"/>
    <url>/2021/07/30/LeetCode-Notes-206/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Day-8"><a href="#Leetcode-Day-8" class="headerlink" title="Leetcode - Day 8"></a>Leetcode - Day 8</h1><p>é¢˜ç›®ï¼š<strong>206. åè½¬é“¾è¡¨</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬ä¸€æ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>é“¾è¡¨</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-ä¸‰æŒ‡é’ˆåŸåœ°ä¿®æ”¹"><a href="#1-ä¸‰æŒ‡é’ˆåŸåœ°ä¿®æ”¹" class="headerlink" title="1. ä¸‰æŒ‡é’ˆåŸåœ°ä¿®æ”¹"></a>1. ä¸‰æŒ‡é’ˆåŸåœ°ä¿®æ”¹</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210730163151525.png" alt="æäº¤æƒ…å†µ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * public class ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode next;</span><br><span class="hljs-comment"> *     ListNode() &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span><br><span class="hljs-comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span><br><span class="hljs-comment"> * &#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ListNode <span class="hljs-title">reverseList</span><span class="hljs-params">(ListNode head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(head.next == <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br><br>        ListNode nextNode = <span class="hljs-keyword">new</span> ListNode(<span class="hljs-number">0</span>);<br>        ListNode preNode = <span class="hljs-keyword">new</span> ListNode(<span class="hljs-number">0</span>);<br><br>        nextNode.next = head.next;<br>        head.next = <span class="hljs-keyword">null</span>;<br>        <span class="hljs-keyword">do</span>&#123;<br>            preNode.next = head;<br><br>            head = nextNode.next;<br><br>            nextNode.next = nextNode.next.next;<br><br>            head.next = preNode.next;<br>        &#125;<span class="hljs-keyword">while</span>(nextNode.next != <span class="hljs-keyword">null</span>);<br><br>        <span class="hljs-keyword">return</span> head;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h3><p>åœ¨éå†é“¾è¡¨æ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ <code>next</code> æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚ç”±äºèŠ‚ç‚¹æ²¡æœ‰å¼•ç”¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å¿…é¡»äº‹å…ˆå­˜å‚¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚åœ¨æ›´æ”¹å¼•ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦å­˜å‚¨åä¸€ä¸ªèŠ‚ç‚¹ã€‚æœ€åè¿”å›æ–°çš„å¤´å¼•ç”¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ListNode <span class="hljs-title">reverseList</span><span class="hljs-params">(ListNode head)</span> </span>&#123;<br>        ListNode prev = <span class="hljs-keyword">null</span>;<br>        ListNode curr = head;<br>        <span class="hljs-keyword">while</span> (curr != <span class="hljs-keyword">null</span>) &#123;<br>            ListNode next = curr.next;<br>            curr.next = prev;<br>            prev = curr;<br>            curr = next;<br>        &#125;<br>        <span class="hljs-keyword">return</span> prev;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/reverse-linked-list/solution/fan-zhuan-lian-biao-by-leetcode-solution-d1k2/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure><blockquote><p>ä¼˜äºé¢˜è§£ä¸è§£é‡Š</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 83</title>
    <link href="/2021/07/30/LeetCode-Notes-83/"/>
    <url>/2021/07/30/LeetCode-Notes-83/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Day-8"><a href="#Leetcode-Day-8" class="headerlink" title="Leetcode - Day 8"></a>Leetcode - Day 8</h1><p>é¢˜ç›®ï¼š<strong>83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ </strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬ä¸€æ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>é“¾è¡¨</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-å¿«æ…¢æŒ‡é’ˆ-å“ˆå¸Œè¡¨"><a href="#1-å¿«æ…¢æŒ‡é’ˆ-å“ˆå¸Œè¡¨" class="headerlink" title="1. å¿«æ…¢æŒ‡é’ˆ+å“ˆå¸Œè¡¨"></a>1. å¿«æ…¢æŒ‡é’ˆ+å“ˆå¸Œè¡¨</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210730180813688.png" alt="æäº¤æƒ…å†µ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * public class ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode next;</span><br><span class="hljs-comment"> *     ListNode() &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span><br><span class="hljs-comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span><br><span class="hljs-comment"> * &#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ListNode <span class="hljs-title">deleteDuplicates</span><span class="hljs-params">(ListNode head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(head.next == <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br><br>        Set&lt;Integer&gt; myHashset = <span class="hljs-keyword">new</span> HashSet&lt;Integer&gt;();<br>        ListNode fast = <span class="hljs-keyword">new</span> ListNode(<span class="hljs-number">0</span>, head.next);<br>        ListNode ans = head;<br><br>        myHashset.add(head.val);<br>        <span class="hljs-keyword">while</span>(fast.next != <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(myHashset.contains(fast.next.val))&#123;<br>                head.next = <span class="hljs-keyword">null</span>;<br>                fast.next = fast.next.next;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                myHashset.add(fast.next.val);<br>                head.next = fast.next;<br>                head = head.next;<br>                fast.next = fast.next.next;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="è¿­ä»£ä¸€æ¬¡éå†"><a href="#è¿­ä»£ä¸€æ¬¡éå†" class="headerlink" title="è¿­ä»£ä¸€æ¬¡éå†"></a>è¿­ä»£ä¸€æ¬¡éå†</h3><h4 id="æ€è·¯ä¸ç®—æ³•"><a href="#æ€è·¯ä¸ç®—æ³•" class="headerlink" title="æ€è·¯ä¸ç®—æ³•"></a>æ€è·¯ä¸ç®—æ³•</h4><p>ç”±äºç»™å®šçš„é“¾è¡¨æ˜¯æ’å¥½åºçš„ï¼Œå› æ­¤é‡å¤çš„å…ƒç´ åœ¨é“¾è¡¨ä¸­å‡ºç°çš„ä½ç½®æ˜¯è¿ç»­çš„ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦å¯¹é“¾è¡¨è¿›è¡Œä¸€æ¬¡éå†ï¼Œå°±å¯ä»¥åˆ é™¤é‡å¤çš„å…ƒç´ ã€‚</p><p>å…·ä½“åœ°ï¼Œæˆ‘ä»¬ä»æŒ‡é’ˆ cur æŒ‡å‘é“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œéšåå¼€å§‹å¯¹é“¾è¡¨è¿›è¡Œéå†ã€‚å¦‚æœå½“å‰ cur ä¸ cur.next å¯¹åº”çš„å…ƒç´ ç›¸åŒï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°† cur.next ä»é“¾è¡¨ä¸­ç§»é™¤ï¼›å¦åˆ™è¯´æ˜é“¾è¡¨ä¸­å·²ç»ä¸å­˜åœ¨å…¶å®ƒä¸ cur å¯¹åº”çš„å…ƒç´ ç›¸åŒçš„èŠ‚ç‚¹ï¼Œå› æ­¤å¯ä»¥å°† cur æŒ‡å‘ cur.nextã€‚</p><p>å½“éå†å®Œæ•´ä¸ªé“¾è¡¨ä¹‹åï¼Œæˆ‘ä»¬è¿”å›é“¾è¡¨çš„å¤´èŠ‚ç‚¹å³å¯ã€‚</p><h4 id="ç»†èŠ‚"><a href="#ç»†èŠ‚" class="headerlink" title="ç»†èŠ‚"></a>ç»†èŠ‚</h4><p>å½“æˆ‘ä»¬éå†åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œcur.next ä¸ºç©ºèŠ‚ç‚¹ï¼Œå¦‚æœä¸åŠ ä»¥åˆ¤æ–­ï¼Œè®¿é—® cur.next å¯¹åº”çš„å…ƒç´ ä¼šäº§ç”Ÿè¿è¡Œé”™è¯¯ã€‚å› æ­¤æˆ‘ä»¬åªéœ€è¦éå†åˆ°é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œè€Œä¸éœ€è¦éå†å®Œæ•´ä¸ªé“¾è¡¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ListNode <span class="hljs-title">deleteDuplicates</span><span class="hljs-params">(ListNode head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (head == <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> head;<br>        &#125;<br><br>        ListNode cur = head;<br>        <span class="hljs-keyword">while</span> (cur.next != <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">if</span> (cur.val == cur.next.val) &#123;<br>                cur.next = cur.next.next;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                cur = cur.next;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> head;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/remove-duplicates-from-sorted-list/solution/shan-chu-pai-xu-lian-biao-zhong-de-zhong-49v5/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 3</title>
    <link href="/2021/07/30/LeetCode-Notes-3/"/>
    <url>/2021/07/30/LeetCode-Notes-3/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Day-8"><a href="#Leetcode-Day-8" class="headerlink" title="Leetcode - Day 8"></a>Leetcode - Day 8</h1><p>é¢˜ç›®ï¼š<strong>3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­—ä¸²</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å­—ç¬¦ä¸²</li><li>å“ˆå¸Œé›†åˆ</li><li>æ»‘åŠ¨çª—å£</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-æ»‘åŠ¨çª—å£"><a href="#1-æ»‘åŠ¨çª—å£" class="headerlink" title="1. æ»‘åŠ¨çª—å£"></a>1. æ»‘åŠ¨çª—å£</h3><p>å­¦ä¹ åé‡å†™ç‰ˆæœ¬ï¼Œä¹‹å‰æƒ³çš„ç¡®å®ä¸å¯¹ğŸ˜”</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210730154841165.png" alt="æäº¤æƒ…å†µ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">lengthOfLongestSubstring</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(s.length() == <span class="hljs-number">0</span> || s.length() == <span class="hljs-number">1</span>)&#123;<br>            <span class="hljs-keyword">return</span> s.length();<br>        &#125;<br><br>        <span class="hljs-keyword">int</span> maxLen = <span class="hljs-number">0</span>;<br><br>        <span class="hljs-keyword">char</span>[] strArr = s.toCharArray();<br>        Set&lt;Character&gt; myHashset = <span class="hljs-keyword">new</span> HashSet&lt;Character&gt;();<br><br>        <span class="hljs-keyword">int</span> right = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">int</span> left = <span class="hljs-number">0</span>;<br><br>        myHashset.add(strArr[left]);<br>        <span class="hljs-keyword">while</span>(right &lt; strArr.length)&#123;<br>            <span class="hljs-keyword">if</span>(myHashset.contains(strArr[right]))&#123;<br>                myHashset.remove(strArr[left]);<br>                left++;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                maxLen = Math.max(maxLen, right - left + <span class="hljs-number">1</span>);<br>                myHashset.add(strArr[right]);<br>                right++;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> maxLen;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h3><p>é¦–å…ˆï¼Œåˆ¤æ–­å½“å‰å­—ç¬¦æ˜¯å¦åŒ…å«åœ¨mapä¸­ï¼Œå¦‚æœä¸åŒ…å«ï¼Œå°†è¯¥å­—ç¬¦æ·»åŠ åˆ°mapï¼ˆå­—ç¬¦ï¼Œå­—ç¬¦åœ¨æ•°ç»„ä¸‹æ ‡ï¼‰,<br>æ­¤æ—¶æ²¡æœ‰å‡ºç°é‡å¤çš„å­—ç¬¦ï¼Œå·¦æŒ‡é’ˆä¸éœ€è¦å˜åŒ–ã€‚</p><p>æ­¤æ—¶ä¸é‡å¤å­ä¸²çš„é•¿åº¦ä¸ºï¼ši-left+1ï¼Œä¸åŸæ¥çš„maxLenæ¯”è¾ƒï¼Œå–æœ€å¤§å€¼ï¼›</p><p>å¦‚æœå½“å‰å­—ç¬¦ ch åŒ…å«åœ¨ mapä¸­ï¼Œæ­¤æ—¶æœ‰2ç±»æƒ…å†µï¼š</p><ul><li>å½“å‰å­—ç¬¦åŒ…å«åœ¨å½“å‰æœ‰æ•ˆçš„å­æ®µä¸­ï¼Œå¦‚ï¼šabcaï¼Œå½“æˆ‘ä»¬éå†åˆ°ç¬¬äºŒä¸ªaï¼Œå½“å‰æœ‰æ•ˆæœ€é•¿å­æ®µæ˜¯ abcï¼Œæˆ‘ä»¬åˆéå†åˆ°aï¼Œé‚£ä¹ˆæ­¤æ—¶æ›´æ–° left ä¸º map.get(a)+1=1ï¼Œå½“å‰æœ‰æ•ˆå­æ®µæ›´æ–°ä¸º bcaï¼›</li><li>å½“å‰å­—ç¬¦ä¸åŒ…å«åœ¨å½“å‰æœ€é•¿æœ‰æ•ˆå­æ®µä¸­ï¼Œå¦‚ï¼šabbaï¼Œæˆ‘ä»¬å…ˆæ·»åŠ a,bè¿›mapï¼Œæ­¤æ—¶left=0ï¼Œæˆ‘ä»¬å†æ·»åŠ bï¼Œå‘ç°mapä¸­åŒ…å«bï¼Œè€Œä¸”båŒ…å«åœ¨æœ€é•¿æœ‰æ•ˆå­æ®µä¸­ï¼Œå°±æ˜¯1ï¼‰çš„æƒ…å†µï¼Œæˆ‘ä»¬æ›´æ–° left=map.get(b)+1=2ï¼Œæ­¤æ—¶å­æ®µæ›´æ–°ä¸º bï¼Œè€Œä¸”mapä¸­ä»ç„¶åŒ…å«aï¼Œmap.get(a)=0ï¼›</li></ul><p>éšåï¼Œæˆ‘ä»¬éå†åˆ°aï¼Œå‘ç°aåŒ…å«åœ¨mapä¸­ï¼Œä¸”map.get(a)=0ï¼Œå¦‚æœæˆ‘ä»¬åƒä¸Šè¿°ç¬¬ä¸€ç§æƒ…å†µä¸€æ ·å¤„ç†ï¼Œå°±ä¼šå‘ç°</p><blockquote><p> left=map.get(a)+1=1</p></blockquote><p>å®é™…ä¸Šï¼Œleftæ­¤æ—¶åº”è¯¥ä¸å˜ï¼Œleftå§‹ç»ˆä¸º2ï¼Œå­æ®µå˜æˆ baæ‰å¯¹ã€‚</p><ul><li>ä¸ºäº†å¤„ç†ä»¥ä¸Š2ç±»æƒ…å†µï¼Œæˆ‘ä»¬æ¯æ¬¡æ›´æ–°leftï¼Œleft=Math.max(left , map.get(ch)+1).</li><li>å¦å¤–ï¼Œæ›´æ–°leftåï¼Œä¸ç®¡åŸæ¥çš„ s.charAt(i) æ˜¯å¦åœ¨æœ€é•¿å­æ®µä¸­ï¼Œæˆ‘ä»¬éƒ½è¦å°† s.charAt(i) çš„ä½ç½®æ›´æ–°ä¸ºå½“å‰çš„iï¼Œå› æ­¤æ­¤æ—¶æ–°çš„ s.charAt(i) å·²ç»è¿›å…¥åˆ° å½“å‰æœ€é•¿çš„å­æ®µä¸­ï¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">lengthOfLongestSubstring</span><span class="hljs-params">(String s)</span> </span>&#123;<br>        HashMap&lt;Character, Integer&gt; map = <span class="hljs-keyword">new</span> HashMap&lt;&gt;();<br>        <span class="hljs-keyword">int</span> maxLen = <span class="hljs-number">0</span>;<span class="hljs-comment">//ç”¨äºè®°å½•æœ€å¤§ä¸é‡å¤å­ä¸²çš„é•¿åº¦</span><br>        <span class="hljs-keyword">int</span> left = <span class="hljs-number">0</span>;<span class="hljs-comment">//æ»‘åŠ¨çª—å£å·¦æŒ‡é’ˆ</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; s.length() ; i++)<br>        &#123;<br>            <span class="hljs-keyword">if</span>(map.containsKey(s.charAt(i)))<br>            &#123;<br>                left = Math.max(left , map.get(s.charAt(i))+<span class="hljs-number">1</span>);<br>            &#125;<br>            <span class="hljs-comment">//ä¸ç®¡æ˜¯å¦æ›´æ–°leftï¼Œéƒ½è¦æ›´æ–° s.charAt(i) çš„ä½ç½®ï¼</span><br>            map.put(s.charAt(i) , i);<br>            maxLen = Math.max(maxLen , i-left+<span class="hljs-number">1</span>);<br>        &#125;<br>        <br>        <span class="hljs-keyword">return</span> maxLen;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 203</title>
    <link href="/2021/07/29/LeetCode-Notes-203/"/>
    <url>/2021/07/29/LeetCode-Notes-203/</url>
    
    <content type="html"><![CDATA[<h2 id="Leetcode-Day-7"><a href="#Leetcode-Day-7" class="headerlink" title="Leetcode - Day 7"></a>Leetcode - Day 7</h2><p>é¢˜ç›®ï¼š<strong>203. ç§»é™¤é“¾è¡¨å…ƒç´ </strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬ä¸€æ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>é“¾è¡¨</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-åŸåœ°ä¿®æ”¹"><a href="#1-åŸåœ°ä¿®æ”¹" class="headerlink" title="1. åŸåœ°ä¿®æ”¹"></a>1. åŸåœ°ä¿®æ”¹</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210729123540821.png" alt="æäº¤æƒ…å†µ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * public class ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode next;</span><br><span class="hljs-comment"> *     ListNode() &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span><br><span class="hljs-comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span><br><span class="hljs-comment"> * &#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ListNode <span class="hljs-title">removeElements</span><span class="hljs-params">(ListNode head, <span class="hljs-keyword">int</span> val)</span> </span>&#123;<br>        ListNode ans;<br><br>        <span class="hljs-keyword">while</span>(head != <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(head.val == val)&#123;<br>                head = head.next;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br>        ans = head;<br><br>        <span class="hljs-keyword">if</span>(ans == <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> ans;<br>        &#125;<br><br>        <span class="hljs-keyword">while</span>(head.next != <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(head.next.val == val)&#123;<br>                head.next = head.next.next;<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                head = head.next;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210729123702255.png" alt="å®˜æ–¹é¢˜è§£"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ListNode <span class="hljs-title">removeElements</span><span class="hljs-params">(ListNode head, <span class="hljs-keyword">int</span> val)</span> </span>&#123;<br>        ListNode dummyHead = <span class="hljs-keyword">new</span> ListNode(<span class="hljs-number">0</span>);<br>        dummyHead.next = head;<br>        ListNode temp = dummyHead;<br>        <span class="hljs-keyword">while</span> (temp.next != <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">if</span> (temp.next.val == val) &#123;<br>                temp.next = temp.next.next;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                temp = temp.next;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> dummyHead.next;<br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/remove-linked-list-elements/solution/yi-chu-lian-biao-yuan-su-by-leetcode-sol-654m/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure><blockquote><p>å“‘å¤´ç»“ç‚¹åˆ›å»º</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 141</title>
    <link href="/2021/07/29/LeetCode-Notes-141/"/>
    <url>/2021/07/29/LeetCode-Notes-141/</url>
    
    <content type="html"><![CDATA[<h2 id="Leetcode-Day-7"><a href="#Leetcode-Day-7" class="headerlink" title="Leetcode - Day 7"></a>Leetcode - Day 7</h2><p>é¢˜ç›®ï¼š<strong>141. ç¯å½¢é“¾è¡¨</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬ä¸€æ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å­—ç¬¦ä¸²</li><li>å“ˆå¸Œè¡¨</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-å“ˆå¸Œè®°å½•èŠ‚ç‚¹"><a href="#1-å“ˆå¸Œè®°å½•èŠ‚ç‚¹" class="headerlink" title="1. å“ˆå¸Œè®°å½•èŠ‚ç‚¹"></a>1. å“ˆå¸Œè®°å½•èŠ‚ç‚¹</h3><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210729110135271.png" alt="æäº¤æƒ…å†µ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * class ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode next;</span><br><span class="hljs-comment"> *     ListNode(int x) &#123;</span><br><span class="hljs-comment"> *         val = x;</span><br><span class="hljs-comment"> *         next = null;</span><br><span class="hljs-comment"> *     &#125;</span><br><span class="hljs-comment"> * &#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasCycle</span><span class="hljs-params">(ListNode head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(head == <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125;<br><br>        Set&lt;ListNode&gt; checkMap = <span class="hljs-keyword">new</span> HashSet&lt;ListNode&gt;();<br><br>        <span class="hljs-keyword">while</span>(head != <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(checkMap.contains(head))&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>            &#125;<br><br>            checkMap.add(head);<br>            head = head.next;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="å¿«æ…¢æŒ‡é’ˆ"><a href="#å¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="å¿«æ…¢æŒ‡é’ˆ"></a>å¿«æ…¢æŒ‡é’ˆ</h3><h4 id="æ€è·¯åŠç®—æ³•"><a href="#æ€è·¯åŠç®—æ³•" class="headerlink" title="æ€è·¯åŠç®—æ³•"></a>æ€è·¯åŠç®—æ³•</h4><p>æœ¬æ–¹æ³•éœ€è¦è¯»è€…å¯¹ã€ŒFloyd åˆ¤åœˆç®—æ³•ã€ï¼ˆåˆç§°é¾Ÿå…”èµ›è·‘ç®—æ³•ï¼‰æœ‰æ‰€äº†è§£ã€‚</p><p>å‡æƒ³ã€Œä¹Œé¾Ÿã€å’Œã€Œå…”å­ã€åœ¨é“¾è¡¨ä¸Šç§»åŠ¨ï¼Œã€Œå…”å­ã€è·‘å¾—å¿«ï¼Œã€Œä¹Œé¾Ÿã€è·‘å¾—æ…¢ã€‚å½“ã€Œä¹Œé¾Ÿã€å’Œã€Œå…”å­ã€ä»é“¾è¡¨ä¸Šçš„åŒä¸€ä¸ªèŠ‚ç‚¹å¼€å§‹ç§»åŠ¨æ—¶ï¼Œå¦‚æœè¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ï¼Œé‚£ä¹ˆã€Œå…”å­ã€å°†ä¸€ç›´å¤„äºã€Œä¹Œé¾Ÿã€çš„å‰æ–¹ï¼›å¦‚æœè¯¥é“¾è¡¨ä¸­æœ‰ç¯ï¼Œé‚£ä¹ˆã€Œå…”å­ã€ä¼šå…ˆäºã€Œä¹Œé¾Ÿã€è¿›å…¥ç¯ï¼Œå¹¶ä¸”ä¸€ç›´åœ¨ç¯å†…ç§»åŠ¨ã€‚ç­‰åˆ°ã€Œä¹Œé¾Ÿã€è¿›å…¥ç¯æ—¶ï¼Œç”±äºã€Œå…”å­ã€çš„é€Ÿåº¦å¿«ï¼Œå®ƒä¸€å®šä¼šåœ¨æŸä¸ªæ—¶åˆ»ä¸ä¹Œé¾Ÿç›¸é‡ï¼Œå³å¥—äº†ã€Œä¹Œé¾Ÿã€è‹¥å¹²åœˆã€‚</p><p>æˆ‘ä»¬å¯ä»¥æ ¹æ®ä¸Šè¿°æ€è·¯æ¥è§£å†³æœ¬é¢˜ã€‚å…·ä½“åœ°ï¼Œæˆ‘ä»¬å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€å¿«ä¸€æ»¡ã€‚æ…¢æŒ‡é’ˆæ¯æ¬¡åªç§»åŠ¨ä¸€æ­¥ï¼Œè€Œå¿«æŒ‡é’ˆæ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ã€‚åˆå§‹æ—¶ï¼Œæ…¢æŒ‡é’ˆåœ¨ä½ç½® <code>head</code>ï¼Œè€Œå¿«æŒ‡é’ˆåœ¨ä½ç½® <code>head.next</code>ã€‚è¿™æ ·ä¸€æ¥ï¼Œå¦‚æœåœ¨ç§»åŠ¨çš„è¿‡ç¨‹ä¸­ï¼Œå¿«æŒ‡é’ˆåè¿‡æ¥è¿½ä¸Šæ…¢æŒ‡é’ˆï¼Œå°±è¯´æ˜è¯¥é“¾è¡¨ä¸ºç¯å½¢é“¾è¡¨ã€‚å¦åˆ™å¿«æŒ‡é’ˆå°†åˆ°è¾¾é“¾è¡¨å°¾éƒ¨ï¼Œè¯¥é“¾è¡¨ä¸ä¸ºç¯å½¢é“¾è¡¨ã€‚</p><h4 id="ç»†èŠ‚"><a href="#ç»†èŠ‚" class="headerlink" title="ç»†èŠ‚"></a>ç»†èŠ‚</h4><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬è¦è§„å®šåˆå§‹æ—¶æ…¢æŒ‡é’ˆåœ¨ä½ç½® <code>head</code>ï¼Œå¿«æŒ‡é’ˆåœ¨ä½ç½® <code>head.next</code>ï¼Œè€Œä¸æ˜¯ä¸¤ä¸ªæŒ‡é’ˆéƒ½åœ¨ä½ç½® <code>head</code>ï¼ˆå³ä¸ã€Œä¹Œé¾Ÿã€å’Œã€Œå…”å­ã€ä¸­çš„å™è¿°ç›¸åŒï¼‰ï¼Ÿ</p><p>è§‚å¯Ÿä¸‹é¢çš„ä»£ç ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯ while å¾ªç¯ï¼Œå¾ªç¯æ¡ä»¶å…ˆäºå¾ªç¯ä½“ã€‚ç”±äºå¾ªç¯æ¡ä»¶ä¸€å®šæ˜¯åˆ¤æ–­å¿«æ…¢æŒ‡é’ˆæ˜¯å¦é‡åˆï¼Œå¦‚æœæˆ‘ä»¬å°†ä¸¤ä¸ªæŒ‡é’ˆåˆå§‹éƒ½ç½®äº headï¼Œé‚£ä¹ˆ while å¾ªç¯å°±ä¸ä¼šæ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å‡æƒ³ä¸€ä¸ªåœ¨ head ä¹‹å‰çš„è™šæ‹ŸèŠ‚ç‚¹ï¼Œæ…¢æŒ‡é’ˆä»è™šæ‹ŸèŠ‚ç‚¹ç§»åŠ¨ä¸€æ­¥åˆ°è¾¾ headï¼Œå¿«æŒ‡é’ˆä»è™šæ‹ŸèŠ‚ç‚¹ç§»åŠ¨ä¸¤æ­¥åˆ°è¾¾ head.nextï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ while å¾ªç¯äº†ã€‚</p><p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ do-while å¾ªç¯ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠå¿«æ…¢æŒ‡é’ˆçš„åˆå§‹å€¼éƒ½ç½®ä¸º headã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">hasCycle</span><span class="hljs-params">(ListNode head)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (head == <span class="hljs-keyword">null</span> || head.next == <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125;<br>        <br>        ListNode slow = head;<br>        ListNode fast = head;<br>        <span class="hljs-keyword">do</span>&#123;<br>            <span class="hljs-keyword">if</span> (fast == <span class="hljs-keyword">null</span> || fast.next == <span class="hljs-keyword">null</span>) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>            &#125;<br>            slow = slow.next;<br>            fast = fast.next.next;<br>        &#125; <span class="hljs-keyword">while</span>(slow != fast);<br>        <br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 21</title>
    <link href="/2021/07/29/LeetCode-Notes-21/"/>
    <url>/2021/07/29/LeetCode-Notes-21/</url>
    
    <content type="html"><![CDATA[<h1 id="Leetcode-Day-7"><a href="#Leetcode-Day-7" class="headerlink" title="Leetcode - Day 7"></a>Leetcode - Day 7</h1><p>é¢˜ç›®ï¼š<strong>21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬äºŒæ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>é“¾è¡¨</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-ä¸€æ¬¡éå†"><a href="#1-ä¸€æ¬¡éå†" class="headerlink" title="1. ä¸€æ¬¡éå†"></a>1. ä¸€æ¬¡éå†</h3><p>åŒæŒ‡é’ˆä¸€æ¬¡éå†ï¼Œç©ºé—´å¤æ‚åº¦ä¼˜äºé¢˜è§£ğŸ›«</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210729130352882.png" alt="æäº¤æƒ…å†µ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * Definition for singly-linked list.</span><br><span class="hljs-comment"> * public class ListNode &#123;</span><br><span class="hljs-comment"> *     int val;</span><br><span class="hljs-comment"> *     ListNode next;</span><br><span class="hljs-comment"> *     ListNode() &#123;&#125;</span><br><span class="hljs-comment"> *     ListNode(int val) &#123; this.val = val; &#125;</span><br><span class="hljs-comment"> *     ListNode(int val, ListNode next) &#123; this.val = val; this.next = next; &#125;</span><br><span class="hljs-comment"> * &#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ListNode <span class="hljs-title">mergeTwoLists</span><span class="hljs-params">(ListNode l1, ListNode l2)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(l1 == <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> l2;<br>        &#125;<br><br>        <span class="hljs-keyword">if</span>(l2 == <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">return</span> l1;<br>        &#125;<br><br>        ListNode ans;<br><br>        ans = l1.val &gt; l2.val ? l2 : l1;<br>        ListNode dummy;<br>        <span class="hljs-keyword">while</span>(l1 != <span class="hljs-keyword">null</span> &amp;&amp; l2 != <span class="hljs-keyword">null</span>)&#123;<br>            <span class="hljs-keyword">if</span>(l1.val &lt;= l2.val)&#123;<br>                <span class="hljs-keyword">do</span>&#123;<br>                    dummy = l1;<br>                    l1 = l1.next;<br><br>                    <span class="hljs-keyword">if</span>(l1 == <span class="hljs-keyword">null</span>)&#123;<br>                        dummy.next = l2;<br>                        <span class="hljs-keyword">return</span> ans;<br>                    &#125;<br>                &#125;<span class="hljs-keyword">while</span>(l1.val &lt;= l2.val);<br><br>                dummy.next = l2;<br>            &#125;<br><br>            <span class="hljs-keyword">if</span>(l1.val &gt; l2.val)&#123;<br>                <span class="hljs-keyword">do</span>&#123;<br>                    dummy = l2;<br>                    l2 = l2.next;<br><br>                    <span class="hljs-keyword">if</span>(l2 == <span class="hljs-keyword">null</span>)&#123;<br>                        dummy.next = l1;<br>                        <span class="hljs-keyword">return</span> ans;<br>                    &#125;<br>                &#125;<span class="hljs-keyword">while</span>(l1.val &gt; l2.val);<br><br>                dummy.next = l1;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> ans;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><h3 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h3><h4 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h4><p>æˆ‘ä»¬å¯ä»¥å¦‚ä¸‹é€’å½’åœ°å®šä¹‰ä¸¤ä¸ªé“¾è¡¨é‡Œçš„ <code>merge</code> æ“ä½œï¼ˆå¿½ç•¥è¾¹ç•Œæƒ…å†µï¼Œæ¯”å¦‚ç©ºé“¾è¡¨ç­‰ï¼‰ï¼š</p><p><img src="https://alipicbed.oss-cn-beijing.aliyuncs.com/img/image-20210729130732855.png" alt="é€’å½’æ¡ä»¶"></p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸¤ä¸ªé“¾è¡¨å¤´éƒ¨å€¼è¾ƒå°çš„ä¸€ä¸ªèŠ‚ç‚¹ä¸å‰©ä¸‹å…ƒç´ çš„ <code>merge</code> æ“ä½œç»“æœåˆå¹¶ã€‚</p><h4 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h4><p>æˆ‘ä»¬ç›´æ¥å°†ä»¥ä¸Šé€’å½’è¿‡ç¨‹å»ºæ¨¡ï¼ŒåŒæ—¶éœ€è¦è€ƒè™‘è¾¹ç•Œæƒ…å†µã€‚</p><p>å¦‚æœ <code>l1</code> æˆ–è€… <code>l2</code> ä¸€å¼€å§‹å°±æ˜¯ç©ºé“¾è¡¨ ï¼Œé‚£ä¹ˆæ²¡æœ‰ä»»ä½•æ“ä½œéœ€è¦åˆå¹¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦è¿”å›éç©ºé“¾è¡¨ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬è¦åˆ¤æ–­ <code>l1</code> å’Œ <code>l2</code> å“ªä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹çš„å€¼æ›´å°ï¼Œç„¶åé€’å½’åœ°å†³å®šä¸‹ä¸€ä¸ªæ·»åŠ åˆ°ç»“æœé‡Œçš„èŠ‚ç‚¹ã€‚å¦‚æœä¸¤ä¸ªé“¾è¡¨æœ‰ä¸€ä¸ªä¸ºç©ºï¼Œé€’å½’ç»“æŸã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> ListNode <span class="hljs-title">mergeTwoLists</span><span class="hljs-params">(ListNode l1, ListNode l2)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span> (l1 == <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> l2;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l2 == <span class="hljs-keyword">null</span>) &#123;<br>            <span class="hljs-keyword">return</span> l1;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l1.val &lt; l2.val) &#123;<br>            l1.next = mergeTwoLists(l1.next, l2);<br>            <span class="hljs-keyword">return</span> l1;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            l2.next = mergeTwoLists(l1, l2.next);<br>            <span class="hljs-keyword">return</span> l2;<br>        &#125;<br><br>    &#125;<br>&#125;<br><br>ä½œè€…ï¼šLeetCode-Solution<br>é“¾æ¥ï¼šhttps:<span class="hljs-comment">//leetcode-cn.com/problems/merge-two-sorted-lists/solution/he-bing-liang-ge-you-xu-lian-biao-by-leetcode-solu/</span><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>LeetCode Notes - 383</title>
    <link href="/2021/07/28/LeetCode-Notes-383/"/>
    <url>/2021/07/28/LeetCode-Notes-383/</url>
    
    <content type="html"><![CDATA[<h2 id="Leetcode-Day-6"><a href="#Leetcode-Day-6" class="headerlink" title="Leetcode - Day 6"></a>Leetcode - Day 6</h2><p>é¢˜ç›®ï¼š<strong>383. èµé‡‘ä¿¡</strong></p><p>éš¾åº¦ï¼š<strong>ç®€å•</strong></p><p>é‡è§æ¬¡æ•°ï¼š<strong>ç¬¬ä¸€æ¬¡</strong></p><p>æ¶‰åŠçŸ¥è¯†ç‚¹ï¼š</p><ul><li>å­—ç¬¦ä¸²</li><li>å“ˆå¸Œè¡¨</li></ul><h2 id="æäº¤"><a href="#æäº¤" class="headerlink" title="æäº¤"></a>æäº¤</h2><h3 id="1-å­—æ¯å“ˆå¸Œè®¡æ•°"><a href="#1-å­—æ¯å“ˆå¸Œè®¡æ•°" class="headerlink" title="1. å­—æ¯å“ˆå¸Œè®¡æ•°"></a>1. å­—æ¯å“ˆå¸Œè®¡æ•°</h3><p><img src="https://typorastroage.oss-cn-beijing.aliyuncs.com/img/image-20210728120715643.png" alt="æäº¤ç»“æœ"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;<br>    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">canConstruct</span><span class="hljs-params">(String ransomNote, String magazine)</span> </span>&#123;<br>        <span class="hljs-keyword">if</span>(magazine.length() == <span class="hljs-number">0</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>        &#125;<br><br>        <span class="hljs-keyword">int</span>[] dicArr = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">26</span>];<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> ch1 : magazine.toCharArray())&#123;<br>            dicArr[ch1 - <span class="hljs-string">&#x27;a&#x27;</span>]++;<br>        &#125;<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">char</span> ch2 : ransomNote.toCharArray())&#123;<br>            dicArr[ch2 - <span class="hljs-string">&#x27;a&#x27;</span>]--;<br><br>            <span class="hljs-keyword">if</span>(dicArr[ch2 - <span class="hljs-string">&#x27;a&#x27;</span>] &lt; <span class="hljs-number">0</span>)&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h2><ul><li>åˆ©ç”¨å¤§å°26çš„æ•°ç»„æ¥è¿›è¡Œè®¡æ•°</li><li>é¿å…ä½¿ç”¨ <code>charAt()</code> æ–¹æ³•ï¼Œå› ä¸ºæ¯æ¬¡è°ƒç”¨å®ƒä¼šæ£€æŸ¥ä¸€éç´¢å¼•å€¼æ˜¯å¦è¶Šç•Œï¼Œæ—¶é—´å¤æ‚åº¦å°±ä¼šä¸Šå»</li></ul>]]></content>
    
    
    <categories>
      
      <category>Leetcode Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Notes</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2021/07/24/hello-world/"/>
    <url>/2021/07/24/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
